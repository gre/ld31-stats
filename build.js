(function e(t,r,i){function a(o,s){if(!r[o]){if(!t[o]){var d=typeof require=="function"&&require;if(!s&&d)return d(o,!0);if(n)return n(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var h=r[o]={exports:{}};t[o][0].call(h.exports,function(e){var r=t[o][1][e];return a(r?r:e)},h,h.exports,e,t,r,i)}return r[o].exports}var n=typeof require=="function"&&require;for(var o=0;o<i.length;o++)a(i[o]);return a})({1:[function(e,t,r){var i=e("util/");var a=Array.prototype.slice;var n=Object.prototype.hasOwnProperty;var o=t.exports=l;o.AssertionError=function g(e){this.name="AssertionError";this.actual=e.actual;this.expected=e.expected;this.operator=e.operator;if(e.message){this.message=e.message;this.generatedMessage=false}else{this.message=c(this);this.generatedMessage=true}var t=e.stackStartFunction||h;if(Error.captureStackTrace){Error.captureStackTrace(this,t)}else{var r=new Error;if(r.stack){var i=r.stack;var a=t.name;var n=i.indexOf("\n"+a);if(n>=0){var o=i.indexOf("\n",n+1);i=i.substring(o+1)}this.stack=i}}};i.inherits(o.AssertionError,Error);function s(e,t){if(i.isUndefined(t)){return""+t}if(i.isNumber(t)&&(isNaN(t)||!isFinite(t))){return t.toString()}if(i.isFunction(t)||i.isRegExp(t)){return t.toString()}return t}function d(e,t){if(i.isString(e)){return e.length<t?e:e.slice(0,t)}else{return e}}function c(e){return d(JSON.stringify(e.actual,s),128)+" "+e.operator+" "+d(JSON.stringify(e.expected,s),128)}function h(e,t,r,i,a){throw new o.AssertionError({message:r,actual:e,expected:t,operator:i,stackStartFunction:a})}o.fail=h;function l(e,t){if(!e)h(e,true,t,"==",o.ok)}o.ok=l;o.equal=function m(e,t,r){if(e!=t)h(e,t,r,"==",o.equal)};o.notEqual=function x(e,t,r){if(e==t){h(e,t,r,"!=",o.notEqual)}};o.deepEqual=function _(e,t,r){if(!f(e,t)){h(e,t,r,"deepEqual",o.deepEqual)}};function f(e,t){if(e===t){return true}else if(i.isBuffer(e)&&i.isBuffer(t)){if(e.length!=t.length)return false;for(var r=0;r<e.length;r++){if(e[r]!==t[r])return false}return true}else if(i.isDate(e)&&i.isDate(t)){return e.getTime()===t.getTime()}else if(i.isRegExp(e)&&i.isRegExp(t)){return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase}else if(!i.isObject(e)&&!i.isObject(t)){return e==t}else{return p(e,t)}}function u(e){return Object.prototype.toString.call(e)=="[object Arguments]"}function p(e,t){if(i.isNullOrUndefined(e)||i.isNullOrUndefined(t))return false;if(e.prototype!==t.prototype)return false;if(u(e)){if(!u(t)){return false}e=a.call(e);t=a.call(t);return f(e,t)}try{var r=v(e),n=v(t),o,s}catch(d){return false}if(r.length!=n.length)return false;r.sort();n.sort();for(s=r.length-1;s>=0;s--){if(r[s]!=n[s])return false}for(s=r.length-1;s>=0;s--){o=r[s];if(!f(e[o],t[o]))return false}return true}o.notDeepEqual=function w(e,t,r){if(f(e,t)){h(e,t,r,"notDeepEqual",o.notDeepEqual)}};o.strictEqual=function T(e,t,r){if(e!==t){h(e,t,r,"===",o.strictEqual)}};o.notStrictEqual=function S(e,t,r){if(e===t){h(e,t,r,"!==",o.notStrictEqual)}};function b(e,t){if(!e||!t){return false}if(Object.prototype.toString.call(t)=="[object RegExp]"){return t.test(e)}else if(e instanceof t){return true}else if(t.call({},e)===true){return true}return false}function y(e,t,r,a){var n;if(i.isString(r)){a=r;r=null}try{t()}catch(o){n=o}a=(r&&r.name?" ("+r.name+").":".")+(a?" "+a:".");if(e&&!n){h(n,r,"Missing expected exception"+a)}if(!e&&b(n,r)){h(n,r,"Got unwanted exception"+a)}if(e&&n&&r&&!b(n,r)||!e&&n){throw n}}o.throws=function(e,t,r){y.apply(this,[true].concat(a.call(arguments)))};o.doesNotThrow=function(e,t){y.apply(this,[false].concat(a.call(arguments)))};o.ifError=function(e){if(e){throw e}};var v=Object.keys||function(e){var t=[];for(var r in e){if(n.call(e,r))t.push(r)}return t}},{"util/":132}],2:[function(e,t,r){},{}],3:[function(e,t,r){var i=e("base64-js");var a=e("ieee754");var n=e("is-array");r.Buffer=s;r.SlowBuffer=s;r.INSPECT_MAX_BYTES=50;s.poolSize=8192;var o=1073741823;s.TYPED_ARRAY_SUPPORT=function(){try{var e=new ArrayBuffer(0);var t=new Uint8Array(e);t.foo=function(){return 42};return 42===t.foo()&&typeof t.subarray==="function"&&new Uint8Array(1).subarray(1,1).byteLength===0}catch(r){return false}}();function s(e,t,r){if(!(this instanceof s))return new s(e,t,r);var i=typeof e;var a;if(i==="number")a=e>0?e>>>0:0;else if(i==="string"){if(t==="base64")e=R(e);a=s.byteLength(e,t)}else if(i==="object"&&e!==null){if(e.type==="Buffer"&&n(e.data))e=e.data;a=+e.length>0?Math.floor(+e.length):0}else throw new TypeError("must start with number, buffer, array or string");if(this.length>o)throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+o.toString(16)+" bytes");var d;if(s.TYPED_ARRAY_SUPPORT){d=s._augment(new Uint8Array(a))}else{d=this;d.length=a;d._isBuffer=true}var c;if(s.TYPED_ARRAY_SUPPORT&&typeof e.byteLength==="number"){d._set(e)}else if(B(e)){if(s.isBuffer(e)){for(c=0;c<a;c++)d[c]=e.readUInt8(c)}else{for(c=0;c<a;c++)d[c]=(e[c]%256+256)%256}}else if(i==="string"){d.write(e,0,t)}else if(i==="number"&&!s.TYPED_ARRAY_SUPPORT&&!r){for(c=0;c<a;c++){d[c]=0}}return d}s.isBuffer=function(e){return!!(e!=null&&e._isBuffer)};s.compare=function(e,t){if(!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError("Arguments must be Buffers");var r=e.length;var i=t.length;for(var a=0,n=Math.min(r,i);a<n&&e[a]===t[a];a++){}if(a!==n){r=e[a];i=t[a]}if(r<i)return-1;if(i<r)return 1;return 0};s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};s.concat=function(e,t){if(!n(e))throw new TypeError("Usage: Buffer.concat(list[, length])");if(e.length===0){return new s(0)}else if(e.length===1){return e[0]}var r;if(t===undefined){t=0;for(r=0;r<e.length;r++){t+=e[r].length}}var i=new s(t);var a=0;for(r=0;r<e.length;r++){var o=e[r];o.copy(i,a);a+=o.length}return i};s.byteLength=function(e,t){var r;e=e+"";switch(t||"utf8"){case"ascii":case"binary":case"raw":r=e.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=e.length*2;break;case"hex":r=e.length>>>1;break;case"utf8":case"utf-8":r=I(e).length;break;case"base64":r=P(e).length;break;default:r=e.length}return r};s.prototype.length=undefined;s.prototype.parent=undefined;s.prototype.toString=function(e,t,r){var i=false;t=t>>>0;r=r===undefined||r===Infinity?this.length:r>>>0;if(!e)e="utf8";if(t<0)t=0;if(r>this.length)r=this.length;if(r<=t)return"";while(true){switch(e){case"hex":return g(this,t,r);case"utf8":case"utf-8":return b(this,t,r);case"ascii":return y(this,t,r);case"binary":return v(this,t,r);case"base64":return p(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,t,r);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase();i=true}}};s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return s.compare(this,e)===0};s.prototype.inspect=function(){var e="";var t=r.INSPECT_MAX_BYTES;if(this.length>0){e=this.toString("hex",0,t).match(/.{2}/g).join(" ");if(this.length>t)e+=" ... "}return"<Buffer "+e+">"};s.prototype.compare=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return s.compare(this,e)};s.prototype.get=function(e){console.log(".get() is deprecated. Access using array indexes instead.");return this.readUInt8(e)};s.prototype.set=function(e,t){console.log(".set() is deprecated. Access using array indexes instead.");return this.writeUInt8(e,t)};function d(e,t,r,i){r=Number(r)||0;var a=e.length-r;if(!i){i=a}else{i=Number(i);if(i>a){i=a}}var n=t.length;if(n%2!==0)throw new Error("Invalid hex string");if(i>n/2){i=n/2}for(var o=0;o<i;o++){var s=parseInt(t.substr(o*2,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[r+o]=s}return o}function c(e,t,r,i){var a=k(I(t),e,r,i);return a}function h(e,t,r,i){var a=k(j(t),e,r,i);return a}function l(e,t,r,i){return h(e,t,r,i)}function f(e,t,r,i){var a=k(P(t),e,r,i);return a}function u(e,t,r,i){var a=k(F(t),e,r,i,2);return a}s.prototype.write=function(e,t,r,i){if(isFinite(t)){if(!isFinite(r)){i=r;r=undefined}}else{var a=i;i=t;t=r;r=a}t=Number(t)||0;var n=this.length-t;if(!r){r=n}else{r=Number(r);if(r>n){r=n}}i=String(i||"utf8").toLowerCase();var o;switch(i){case"hex":o=d(this,e,t,r);break;case"utf8":case"utf-8":o=c(this,e,t,r);break;case"ascii":o=h(this,e,t,r);break;case"binary":o=l(this,e,t,r);break;case"base64":o=f(this,e,t,r);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":o=u(this,e,t,r);break;default:throw new TypeError("Unknown encoding: "+i)}return o};s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function p(e,t,r){if(t===0&&r===e.length){return i.fromByteArray(e)}else{return i.fromByteArray(e.slice(t,r))}}function b(e,t,r){var i="";var a="";r=Math.min(e.length,r);for(var n=t;n<r;n++){if(e[n]<=127){i+=D(a)+String.fromCharCode(e[n]);a=""}else{a+="%"+e[n].toString(16)}}return i+D(a)}function y(e,t,r){var i="";r=Math.min(e.length,r);for(var a=t;a<r;a++){i+=String.fromCharCode(e[a])}return i}function v(e,t,r){return y(e,t,r)}function g(e,t,r){var i=e.length;if(!t||t<0)t=0;if(!r||r<0||r>i)r=i;var a="";for(var n=t;n<r;n++){a+=L(e[n])}return a}function m(e,t,r){var i=e.slice(t,r);var a="";for(var n=0;n<i.length;n+=2){a+=String.fromCharCode(i[n]+i[n+1]*256)}return a}s.prototype.slice=function(e,t){var r=this.length;e=~~e;t=t===undefined?r:~~t;if(e<0){e+=r;if(e<0)e=0}else if(e>r){e=r}if(t<0){t+=r;if(t<0)t=0}else if(t>r){t=r}if(t<e)t=e;if(s.TYPED_ARRAY_SUPPORT){return s._augment(this.subarray(e,t))}else{var i=t-e;var a=new s(i,undefined,true);for(var n=0;n<i;n++){a[n]=this[n+e]}return a}};function x(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUInt8=function(e,t){if(!t)x(e,1,this.length);return this[e]};s.prototype.readUInt16LE=function(e,t){if(!t)x(e,2,this.length);return this[e]|this[e+1]<<8};s.prototype.readUInt16BE=function(e,t){if(!t)x(e,2,this.length);return this[e]<<8|this[e+1]};s.prototype.readUInt32LE=function(e,t){if(!t)x(e,4,this.length);return(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};s.prototype.readUInt32BE=function(e,t){if(!t)x(e,4,this.length);return this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};s.prototype.readInt8=function(e,t){if(!t)x(e,1,this.length);if(!(this[e]&128))return this[e];return(255-this[e]+1)*-1};s.prototype.readInt16LE=function(e,t){if(!t)x(e,2,this.length);var r=this[e]|this[e+1]<<8;return r&32768?r|4294901760:r};s.prototype.readInt16BE=function(e,t){if(!t)x(e,2,this.length);var r=this[e+1]|this[e]<<8;return r&32768?r|4294901760:r};s.prototype.readInt32LE=function(e,t){if(!t)x(e,4,this.length);return this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};s.prototype.readInt32BE=function(e,t){if(!t)x(e,4,this.length);return this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};s.prototype.readFloatLE=function(e,t){if(!t)x(e,4,this.length);return a.read(this,e,true,23,4)};s.prototype.readFloatBE=function(e,t){if(!t)x(e,4,this.length);return a.read(this,e,false,23,4)};s.prototype.readDoubleLE=function(e,t){if(!t)x(e,8,this.length);return a.read(this,e,true,52,8)};s.prototype.readDoubleBE=function(e,t){if(!t)x(e,8,this.length);return a.read(this,e,false,52,8)};function _(e,t,r,i,a,n){if(!s.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>a||t<n)throw new TypeError("value is out of bounds");if(r+i>e.length)throw new TypeError("index out of range")}s.prototype.writeUInt8=function(e,t,r){e=+e;t=t>>>0;if(!r)_(this,e,t,1,255,0);if(!s.TYPED_ARRAY_SUPPORT)e=Math.floor(e);this[t]=e;return t+1};function w(e,t,r,i){if(t<0)t=65535+t+1;for(var a=0,n=Math.min(e.length-r,2);a<n;a++){e[r+a]=(t&255<<8*(i?a:1-a))>>>(i?a:1-a)*8}}s.prototype.writeUInt16LE=function(e,t,r){e=+e;t=t>>>0;if(!r)_(this,e,t,2,65535,0);if(s.TYPED_ARRAY_SUPPORT){this[t]=e;this[t+1]=e>>>8}else w(this,e,t,true);return t+2};s.prototype.writeUInt16BE=function(e,t,r){e=+e;t=t>>>0;if(!r)_(this,e,t,2,65535,0);if(s.TYPED_ARRAY_SUPPORT){this[t]=e>>>8;this[t+1]=e}else w(this,e,t,false);return t+2};function T(e,t,r,i){if(t<0)t=4294967295+t+1;for(var a=0,n=Math.min(e.length-r,4);a<n;a++){e[r+a]=t>>>(i?a:3-a)*8&255}}s.prototype.writeUInt32LE=function(e,t,r){e=+e;t=t>>>0;if(!r)_(this,e,t,4,4294967295,0);if(s.TYPED_ARRAY_SUPPORT){this[t+3]=e>>>24;this[t+2]=e>>>16;this[t+1]=e>>>8;this[t]=e}else T(this,e,t,true);return t+4};s.prototype.writeUInt32BE=function(e,t,r){e=+e;t=t>>>0;if(!r)_(this,e,t,4,4294967295,0);if(s.TYPED_ARRAY_SUPPORT){this[t]=e>>>24;this[t+1]=e>>>16;this[t+2]=e>>>8;this[t+3]=e}else T(this,e,t,false);return t+4};s.prototype.writeInt8=function(e,t,r){e=+e;t=t>>>0;if(!r)_(this,e,t,1,127,-128);if(!s.TYPED_ARRAY_SUPPORT)e=Math.floor(e);if(e<0)e=255+e+1;this[t]=e;return t+1};s.prototype.writeInt16LE=function(e,t,r){e=+e;t=t>>>0;if(!r)_(this,e,t,2,32767,-32768);if(s.TYPED_ARRAY_SUPPORT){this[t]=e;this[t+1]=e>>>8}else w(this,e,t,true);return t+2};s.prototype.writeInt16BE=function(e,t,r){e=+e;t=t>>>0;if(!r)_(this,e,t,2,32767,-32768);if(s.TYPED_ARRAY_SUPPORT){this[t]=e>>>8;this[t+1]=e}else w(this,e,t,false);return t+2};s.prototype.writeInt32LE=function(e,t,r){e=+e;t=t>>>0;if(!r)_(this,e,t,4,2147483647,-2147483648);if(s.TYPED_ARRAY_SUPPORT){this[t]=e;this[t+1]=e>>>8;this[t+2]=e>>>16;this[t+3]=e>>>24}else T(this,e,t,true);return t+4};s.prototype.writeInt32BE=function(e,t,r){e=+e;t=t>>>0;if(!r)_(this,e,t,4,2147483647,-2147483648);if(e<0)e=4294967295+e+1;if(s.TYPED_ARRAY_SUPPORT){this[t]=e>>>24;this[t+1]=e>>>16;this[t+2]=e>>>8;this[t+3]=e}else T(this,e,t,false);return t+4};function S(e,t,r,i,a,n){if(t>a||t<n)throw new TypeError("value is out of bounds");if(r+i>e.length)throw new TypeError("index out of range")}function A(e,t,r,i,n){if(!n)S(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38);a.write(e,t,r,i,23,4);return r+4}s.prototype.writeFloatLE=function(e,t,r){return A(this,e,t,true,r)};s.prototype.writeFloatBE=function(e,t,r){return A(this,e,t,false,r)};function C(e,t,r,i,n){if(!n)S(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308);a.write(e,t,r,i,52,8);return r+8}s.prototype.writeDoubleLE=function(e,t,r){return C(this,e,t,true,r)};s.prototype.writeDoubleBE=function(e,t,r){return C(this,e,t,false,r)};s.prototype.copy=function(e,t,r,i){var a=this;if(!r)r=0;if(!i&&i!==0)i=this.length;if(!t)t=0;if(i===r)return;if(e.length===0||a.length===0)return;if(i<r)throw new TypeError("sourceEnd < sourceStart");if(t<0||t>=e.length)throw new TypeError("targetStart out of bounds");if(r<0||r>=a.length)throw new TypeError("sourceStart out of bounds");if(i<0||i>a.length)throw new TypeError("sourceEnd out of bounds");if(i>this.length)i=this.length;if(e.length-t<i-r)i=e.length-t+r;var n=i-r;if(n<1e3||!s.TYPED_ARRAY_SUPPORT){for(var o=0;o<n;o++){e[o+t]=this[o+r]}}else{e._set(this.subarray(r,r+n),t)}};s.prototype.fill=function(e,t,r){if(!e)e=0;if(!t)t=0;if(!r)r=this.length;if(r<t)throw new TypeError("end < start");if(r===t)return;if(this.length===0)return;if(t<0||t>=this.length)throw new TypeError("start out of bounds");if(r<0||r>this.length)throw new TypeError("end out of bounds");var i;if(typeof e==="number"){for(i=t;i<r;i++){this[i]=e}}else{var a=I(e.toString());var n=a.length;for(i=t;i<r;i++){this[i]=a[i%n]}}return this};s.prototype.toArrayBuffer=function(){if(typeof Uint8Array!=="undefined"){if(s.TYPED_ARRAY_SUPPORT){return new s(this).buffer}else{var e=new Uint8Array(this.length);for(var t=0,r=e.length;t<r;t+=1){e[t]=this[t]}return e.buffer}}else{throw new TypeError("Buffer.toArrayBuffer not supported in this browser")}};var E=s.prototype;s._augment=function(e){e.constructor=s;e._isBuffer=true;e._get=e.get;e._set=e.set;e.get=E.get;e.set=E.set;e.write=E.write;e.toString=E.toString;e.toLocaleString=E.toString;e.toJSON=E.toJSON;e.equals=E.equals;e.compare=E.compare;e.copy=E.copy;e.slice=E.slice;e.readUInt8=E.readUInt8;e.readUInt16LE=E.readUInt16LE;e.readUInt16BE=E.readUInt16BE;e.readUInt32LE=E.readUInt32LE;e.readUInt32BE=E.readUInt32BE;e.readInt8=E.readInt8;e.readInt16LE=E.readInt16LE;e.readInt16BE=E.readInt16BE;e.readInt32LE=E.readInt32LE;e.readInt32BE=E.readInt32BE;e.readFloatLE=E.readFloatLE;e.readFloatBE=E.readFloatBE;e.readDoubleLE=E.readDoubleLE;e.readDoubleBE=E.readDoubleBE;e.writeUInt8=E.writeUInt8;e.writeUInt16LE=E.writeUInt16LE;e.writeUInt16BE=E.writeUInt16BE;e.writeUInt32LE=E.writeUInt32LE;e.writeUInt32BE=E.writeUInt32BE;e.writeInt8=E.writeInt8;e.writeInt16LE=E.writeInt16LE;e.writeInt16BE=E.writeInt16BE;e.writeInt32LE=E.writeInt32LE;e.writeInt32BE=E.writeInt32BE;e.writeFloatLE=E.writeFloatLE;e.writeFloatBE=E.writeFloatBE;e.writeDoubleLE=E.writeDoubleLE;e.writeDoubleBE=E.writeDoubleBE;e.fill=E.fill;e.inspect=E.inspect;e.toArrayBuffer=E.toArrayBuffer;return e};var M=/[^+\/0-9A-z]/g;function R(e){e=$(e).replace(M,"");while(e.length%4!==0){e=e+"="}return e}function $(e){if(e.trim)return e.trim();return e.replace(/^\s+|\s+$/g,"")}function B(e){return n(e)||s.isBuffer(e)||e&&typeof e==="object"&&typeof e.length==="number"}function L(e){if(e<16)return"0"+e.toString(16);return e.toString(16)}function I(e){var t=[];for(var r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i<=127){t.push(i)}else{var a=r;if(i>=55296&&i<=57343)r++;var n=encodeURIComponent(e.slice(a,r+1)).substr(1).split("%");for(var o=0;o<n.length;o++){t.push(parseInt(n[o],16))}}}return t}function j(e){var t=[];for(var r=0;r<e.length;r++){t.push(e.charCodeAt(r)&255)}return t}function F(e){var t,r,i;var a=[];for(var n=0;n<e.length;n++){t=e.charCodeAt(n);r=t>>8;i=t%256;a.push(i);a.push(r)}return a}function P(e){return i.toByteArray(e)}function k(e,t,r,i,a){if(a)i-=i%a;for(var n=0;n<i;n++){if(n+r>=t.length||n>=e.length)break;t[n+r]=e[n]}return n}function D(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}},{"base64-js":4,ieee754:5,"is-array":6}],4:[function(e,t,r){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";(function(e){"use strict";var t=typeof Uint8Array!=="undefined"?Uint8Array:Array;var r="+".charCodeAt(0);var a="/".charCodeAt(0);var n="0".charCodeAt(0);var o="a".charCodeAt(0);var s="A".charCodeAt(0);function d(e){var t=e.charCodeAt(0);if(t===r)return 62;if(t===a)return 63;if(t<n)return-1;if(t<n+10)return t-n+26+26;if(t<s+26)return t-s;if(t<o+26)return t-o+26}function c(e){var r,i,a,n,o,s;if(e.length%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var c=e.length;o="="===e.charAt(c-2)?2:"="===e.charAt(c-1)?1:0;s=new t(e.length*3/4-o);a=o>0?e.length-4:e.length;var h=0;function l(e){s[h++]=e}for(r=0,i=0;r<a;r+=4,i+=3){n=d(e.charAt(r))<<18|d(e.charAt(r+1))<<12|d(e.charAt(r+2))<<6|d(e.charAt(r+3));l((n&16711680)>>16);l((n&65280)>>8);l(n&255)}if(o===2){n=d(e.charAt(r))<<2|d(e.charAt(r+1))>>4;l(n&255)}else if(o===1){n=d(e.charAt(r))<<10|d(e.charAt(r+1))<<4|d(e.charAt(r+2))>>2;l(n>>8&255);l(n&255)}return s}function h(e){var t,r=e.length%3,a="",n,o;function s(e){return i.charAt(e)}function d(e){return s(e>>18&63)+s(e>>12&63)+s(e>>6&63)+s(e&63)}for(t=0,o=e.length-r;t<o;t+=3){n=(e[t]<<16)+(e[t+1]<<8)+e[t+2];a+=d(n)}switch(r){case 1:n=e[e.length-1];a+=s(n>>2);a+=s(n<<4&63);a+="==";break;case 2:n=(e[e.length-2]<<8)+e[e.length-1];a+=s(n>>10);a+=s(n>>4&63);a+=s(n<<2&63);a+="=";break}return a}e.toByteArray=c;e.fromByteArray=h})(typeof r==="undefined"?this.base64js={}:r)},{}],5:[function(e,t,r){r.read=function(e,t,r,i,a){var n,o,s=a*8-i-1,d=(1<<s)-1,c=d>>1,h=-7,l=r?a-1:0,f=r?-1:1,u=e[t+l];l+=f;n=u&(1<<-h)-1;u>>=-h;h+=s;for(;h>0;n=n*256+e[t+l],l+=f,h-=8);o=n&(1<<-h)-1;n>>=-h;h+=i;for(;h>0;o=o*256+e[t+l],l+=f,h-=8);if(n===0){n=1-c}else if(n===d){return o?NaN:(u?-1:1)*Infinity}else{o=o+Math.pow(2,i);n=n-c}return(u?-1:1)*o*Math.pow(2,n-i)};r.write=function(e,t,r,i,a,n){var o,s,d,c=n*8-a-1,h=(1<<c)-1,l=h>>1,f=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,u=i?0:n-1,p=i?1:-1,b=t<0||t===0&&1/t<0?1:0;t=Math.abs(t);if(isNaN(t)||t===Infinity){s=isNaN(t)?1:0;o=h}else{o=Math.floor(Math.log(t)/Math.LN2);if(t*(d=Math.pow(2,-o))<1){o--;d*=2}if(o+l>=1){t+=f/d}else{t+=f*Math.pow(2,1-l)}if(t*d>=2){o++;d/=2}if(o+l>=h){s=0;o=h}else if(o+l>=1){s=(t*d-1)*Math.pow(2,a);o=o+l}else{s=t*Math.pow(2,l-1)*Math.pow(2,a);o=0}}for(;a>=8;e[r+u]=s&255,u+=p,s/=256,a-=8);o=o<<a|s;c+=a;for(;c>0;e[r+u]=o&255,u+=p,o/=256,c-=8);e[r+u-p]|=b*128}},{}],6:[function(e,t,r){var i=Array.isArray;var a=Object.prototype.toString;t.exports=i||function(e){return!!e&&"[object Array]"==a.call(e)}},{}],7:[function(e,t,r){(function(r){"use strict";var i=e("sha.js");var a=e("./md5");var n=e("ripemd160");var o=e("stream").Transform;var s=e("util").inherits;t.exports=function(e){if("md5"===e)return new d(a);if("rmd160"===e)return new d(n);return new c(i(e))};s(d,o);function d(e){o.call(this);this._hash=e;this.buffers=[]}d.prototype._transform=function(e,t,r){this.buffers.push(e);r()};d.prototype._flush=function(e){var t=r.concat(this.buffers);var i=this._hash(t);this.buffers=null;this.push(i);e()};d.prototype.update=function(e,t){this.write(e,t);return this};d.prototype.digest=function(e){this.end();var t=new r("");var i;while(i=this.read()){t=r.concat([t,i])}if(e){t=t.toString(e)}return t};s(c,o);function c(e){o.call(this);this._hash=e}c.prototype._transform=function(e,t,r){this._hash.update(e);r()};c.prototype._flush=function(e){this.push(this._hash.digest());this._hash=null;e()};c.prototype.update=function(e,t){this.write(e,t);return this};c.prototype.digest=function(e){this.end();var t=new r("");var i;while(i=this.read()){t=r.concat([t,i])}if(e){t=t.toString(e)}return t}}).call(this,e("buffer").Buffer)},{"./md5":11,buffer:3,ripemd160:104,"sha.js":106,stream:129,util:132}],8:[function(e,t,r){(function(r){"use strict";var i=e("./create-hash");var a=e("stream").Transform;var n=e("util").inherits;var o=new r(128);o.fill(0);t.exports=s;n(s,a);function s(e,t){if(!(this instanceof s))return new s(e,t);a.call(this);this._opad=c;this._alg=e;var n=e==="sha512"||e==="sha384"?128:64;t=this._key=!r.isBuffer(t)?new r(t):t;if(t.length>n){t=i(e).update(t).digest()}else if(t.length<n){t=r.concat([t,o],n)}var d=this._ipad=new r(n);var c=this._opad=new r(n);for(var h=0;h<n;h++){d[h]=t[h]^54;c[h]=t[h]^92}this._hash=i(e).update(d)}s.prototype.update=function(e,t){this.write(e,t);return this};s.prototype._transform=function(e,t,r){this._hash.update(e);r()};s.prototype._flush=function(e){var t=this._hash.digest();this.push(i(this._alg).update(this._opad).update(t).digest());e()};s.prototype.digest=function(e){this.end();var t=new r("");var i;while(i=this.read()){t=r.concat([t,i])}if(e){t=t.toString(e)}return t}}).call(this,e("buffer").Buffer)},{"./create-hash":7,buffer:3,stream:129,util:132}],9:[function(e,t,r){(function(e){"use strict";var r=4;var i=new e(r);i.fill(0);var a=8;function n(t,a){if(t.length%r!==0){var n=t.length+(r-t.length%r);t=e.concat([t,i],n)}var o=[];var s=a?t.readInt32BE:t.readInt32LE;for(var d=0;d<t.length;d+=r){o.push(s.call(t,d))}return o}function o(t,r,i){var a=new e(r);var n=i?a.writeInt32BE:a.writeInt32LE;for(var o=0;o<t.length;o++){n.call(a,t[o],o*4,true)}return a}function s(t,r,i,s){if(!e.isBuffer(t))t=new e(t);var d=r(n(t,s),t.length*a);return o(d,i,s)}t.exports={hash:s}}).call(this,e("buffer").Buffer)},{buffer:3}],10:[function(e,t,r){(function(i){"use strict";var a=e("./rng");function n(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}r.createHash=e("./create-hash");r.createHmac=e("./create-hmac");r.randomBytes=function(e,t){if(t&&t.call){try{t.call(this,undefined,new i(a(e)))}catch(r){t(r)}}else{return new i(a(e))}};function o(e,t){for(var r in e)t(e[r],r)}var s=["sha1","sha256","sha512","md5","rmd160"].concat(Object.keys(e("browserify-sign/algos")));r.getHashes=function(){return s};var d=e("./pbkdf2")(r);r.pbkdf2=d.pbkdf2;r.pbkdf2Sync=d.pbkdf2Sync;e("browserify-aes/inject")(r,t.exports);e("browserify-sign/inject")(t.exports,r);e("diffie-hellman/inject")(r,t.exports);e("create-ecdh/inject")(t.exports,r);o(["createCredentials","publicEncrypt","privateDecrypt"],function(e){r[e]=function(){n("sorry,",e,"is not implemented yet")}})}).call(this,e("buffer").Buffer)},{"./create-hash":7,"./create-hmac":8,"./pbkdf2":112,"./rng":113,"browserify-aes/inject":19,"browserify-sign/algos":31,"browserify-sign/inject":34,buffer:3,"create-ecdh/inject":74,"diffie-hellman/inject":98}],11:[function(e,t,r){"use strict";var i=e("./helpers");function a(e,t){e[t>>5]|=128<<t%32;e[(t+64>>>9<<4)+14]=t;var r=1732584193;var i=-271733879;var a=-1732584194;var n=271733878;for(var l=0;l<e.length;l+=16){var f=r;var u=i;var p=a;var b=n;r=o(r,i,a,n,e[l+0],7,-680876936);n=o(n,r,i,a,e[l+1],12,-389564586);a=o(a,n,r,i,e[l+2],17,606105819);i=o(i,a,n,r,e[l+3],22,-1044525330);r=o(r,i,a,n,e[l+4],7,-176418897);n=o(n,r,i,a,e[l+5],12,1200080426);a=o(a,n,r,i,e[l+6],17,-1473231341);i=o(i,a,n,r,e[l+7],22,-45705983);r=o(r,i,a,n,e[l+8],7,1770035416);n=o(n,r,i,a,e[l+9],12,-1958414417);a=o(a,n,r,i,e[l+10],17,-42063);i=o(i,a,n,r,e[l+11],22,-1990404162);r=o(r,i,a,n,e[l+12],7,1804603682);n=o(n,r,i,a,e[l+13],12,-40341101);a=o(a,n,r,i,e[l+14],17,-1502002290);i=o(i,a,n,r,e[l+15],22,1236535329);r=s(r,i,a,n,e[l+1],5,-165796510);n=s(n,r,i,a,e[l+6],9,-1069501632);a=s(a,n,r,i,e[l+11],14,643717713);i=s(i,a,n,r,e[l+0],20,-373897302);r=s(r,i,a,n,e[l+5],5,-701558691);n=s(n,r,i,a,e[l+10],9,38016083);a=s(a,n,r,i,e[l+15],14,-660478335);i=s(i,a,n,r,e[l+4],20,-405537848);r=s(r,i,a,n,e[l+9],5,568446438);n=s(n,r,i,a,e[l+14],9,-1019803690);a=s(a,n,r,i,e[l+3],14,-187363961);i=s(i,a,n,r,e[l+8],20,1163531501);r=s(r,i,a,n,e[l+13],5,-1444681467);n=s(n,r,i,a,e[l+2],9,-51403784);a=s(a,n,r,i,e[l+7],14,1735328473);i=s(i,a,n,r,e[l+12],20,-1926607734);r=d(r,i,a,n,e[l+5],4,-378558);n=d(n,r,i,a,e[l+8],11,-2022574463);a=d(a,n,r,i,e[l+11],16,1839030562);i=d(i,a,n,r,e[l+14],23,-35309556);r=d(r,i,a,n,e[l+1],4,-1530992060);n=d(n,r,i,a,e[l+4],11,1272893353);a=d(a,n,r,i,e[l+7],16,-155497632);i=d(i,a,n,r,e[l+10],23,-1094730640);r=d(r,i,a,n,e[l+13],4,681279174);n=d(n,r,i,a,e[l+0],11,-358537222);a=d(a,n,r,i,e[l+3],16,-722521979);i=d(i,a,n,r,e[l+6],23,76029189);r=d(r,i,a,n,e[l+9],4,-640364487);n=d(n,r,i,a,e[l+12],11,-421815835);a=d(a,n,r,i,e[l+15],16,530742520);i=d(i,a,n,r,e[l+2],23,-995338651);r=c(r,i,a,n,e[l+0],6,-198630844);n=c(n,r,i,a,e[l+7],10,1126891415);a=c(a,n,r,i,e[l+14],15,-1416354905);i=c(i,a,n,r,e[l+5],21,-57434055);r=c(r,i,a,n,e[l+12],6,1700485571);n=c(n,r,i,a,e[l+3],10,-1894986606);a=c(a,n,r,i,e[l+10],15,-1051523);i=c(i,a,n,r,e[l+1],21,-2054922799);r=c(r,i,a,n,e[l+8],6,1873313359);n=c(n,r,i,a,e[l+15],10,-30611744);a=c(a,n,r,i,e[l+6],15,-1560198380);i=c(i,a,n,r,e[l+13],21,1309151649);r=c(r,i,a,n,e[l+4],6,-145523070);n=c(n,r,i,a,e[l+11],10,-1120210379);a=c(a,n,r,i,e[l+2],15,718787259);i=c(i,a,n,r,e[l+9],21,-343485551);r=h(r,f);i=h(i,u);a=h(a,p);n=h(n,b)}return Array(r,i,a,n)}function n(e,t,r,i,a,n){return h(l(h(h(t,e),h(i,n)),a),r)}function o(e,t,r,i,a,o,s){return n(t&r|~t&i,e,t,a,o,s)}function s(e,t,r,i,a,o,s){return n(t&i|r&~i,e,t,a,o,s)}function d(e,t,r,i,a,o,s){return n(t^r^i,e,t,a,o,s)}function c(e,t,r,i,a,o,s){return n(r^(t|~i),e,t,a,o,s)}function h(e,t){var r=(e&65535)+(t&65535);var i=(e>>16)+(t>>16)+(r>>16);return i<<16|r&65535}function l(e,t){return e<<t|e>>>32-t}t.exports=function f(e){return i.hash(e,a,16)}},{"./helpers":9}],12:[function(e,t,r){(function(e){t.exports=function(t,r,i,a){i=i/8;a=a||0;var n=0;var o=0;var s=new e(i);var d=new e(a);var c=0;var h,l;var f;while(true){h=t.createHash("md5");if(c++>0){h.update(l)}h.update(r);l=h.digest();f=0;if(i>0){while(true){if(i===0){break}if(f===l.length){break}s[n++]=l[f];i--;f++}}if(a>0&&f!==l.length){while(true){if(a===0){break}if(f===l.length){break}d[o++]=l[f];a--;f++}}if(i===0&&a===0){break}}for(f=0;f<l.length;f++){l[f]=0}return{key:s,iv:d}}}).call(this,e("buffer").Buffer)},{buffer:3}],13:[function(e,t,r){(function(e){var t=Math.pow(2,32);function i(e){var r,i;r=e>t||e<0?(i=Math.abs(e)%t,e<0?t-i:i):e;return r}function a(e){var t,r,i;for(t=r=0,i=e.length;0<=i?r<i:r>i;t=0<=i?++r:--r){e[t]=0}return false}function n(){var e;this.SBOX=[];this.INV_SBOX=[];this.SUB_MIX=function(){var t,r;r=[];for(e=t=0;t<4;e=++t){r.push([])}return r}();this.INV_SUB_MIX=function(){var t,r;r=[];for(e=t=0;t<4;e=++t){r.push([])}return r}();this.init();this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}n.prototype.init=function(){var e,t,r,i,a,n,o,s,d,c;e=function(){var e,r;r=[];for(t=e=0;e<256;t=++e){if(t<128){r.push(t<<1)}else{r.push(t<<1^283)}}return r}();a=0;d=0;for(t=c=0;c<256;t=++c){r=d^d<<1^d<<2^d<<3^d<<4;r=r>>>8^r&255^99;this.SBOX[a]=r;this.INV_SBOX[r]=a;n=e[a];o=e[n];s=e[o];i=e[r]*257^r*16843008;this.SUB_MIX[0][a]=i<<24|i>>>8;this.SUB_MIX[1][a]=i<<16|i>>>16;this.SUB_MIX[2][a]=i<<8|i>>>24;this.SUB_MIX[3][a]=i;i=s*16843009^o*65537^n*257^a*16843008;this.INV_SUB_MIX[0][r]=i<<24|i>>>8;this.INV_SUB_MIX[1][r]=i<<16|i>>>16;this.INV_SUB_MIX[2][r]=i<<8|i>>>24;this.INV_SUB_MIX[3][r]=i;if(a===0){a=d=1}else{a=n^e[e[e[s^n]]];d^=e[e[d]]}}return true};var o=new n;d.blockSize=4*4;d.prototype.blockSize=d.blockSize;d.keySize=256/8;d.prototype.keySize=d.keySize;d.ivSize=d.blockSize;d.prototype.ivSize=d.ivSize;function s(e){var t=e.length/4;var r=new Array(t);var i=-1;while(++i<t){r[i]=e.readUInt32BE(i*4)}return r}function d(e){this._key=s(e);this._doReset()}d.prototype._doReset=function(){var e,t,r,i,a,n,s,d;r=this._key;t=r.length;this._nRounds=t+6;a=(this._nRounds+1)*4;this._keySchedule=[];for(i=s=0;0<=a?s<a:s>a;i=0<=a?++s:--s){this._keySchedule[i]=i<t?r[i]:(n=this._keySchedule[i-1],i%t===0?(n=n<<8|n>>>24,n=o.SBOX[n>>>24]<<24|o.SBOX[n>>>16&255]<<16|o.SBOX[n>>>8&255]<<8|o.SBOX[n&255],n^=o.RCON[i/t|0]<<24):t>6&&i%t===4?n=o.SBOX[n>>>24]<<24|o.SBOX[n>>>16&255]<<16|o.SBOX[n>>>8&255]<<8|o.SBOX[n&255]:void 0,this._keySchedule[i-t]^n)}this._invKeySchedule=[];for(e=d=0;0<=a?d<a:d>a;e=0<=a?++d:--d){i=a-e;n=this._keySchedule[i-(e%4?0:4)];this._invKeySchedule[e]=e<4||i<=4?n:o.INV_SUB_MIX[0][o.SBOX[n>>>24]]^o.INV_SUB_MIX[1][o.SBOX[n>>>16&255]]^o.INV_SUB_MIX[2][o.SBOX[n>>>8&255]]^o.INV_SUB_MIX[3][o.SBOX[n&255]]}return true};d.prototype.encryptBlock=function(t){t=s(new e(t));var r=this._doCryptBlock(t,this._keySchedule,o.SUB_MIX,o.SBOX);var i=new e(16);i.writeUInt32BE(r[0],0);i.writeUInt32BE(r[1],4);i.writeUInt32BE(r[2],8);i.writeUInt32BE(r[3],12);return i};d.prototype.decryptBlock=function(t){t=s(new e(t));var r=[t[3],t[1]];t[1]=r[0];t[3]=r[1];var i=this._doCryptBlock(t,this._invKeySchedule,o.INV_SUB_MIX,o.INV_SBOX);var a=new e(16);a.writeUInt32BE(i[0],0);a.writeUInt32BE(i[3],4);a.writeUInt32BE(i[2],8);a.writeUInt32BE(i[1],12);return a};d.prototype.scrub=function(){a(this._keySchedule);a(this._invKeySchedule);a(this._key)};d.prototype._doCryptBlock=function(e,t,r,a){var n,o,s,d,c,h,l,f,u,p,b,y;s=e[0]^t[0];d=e[1]^t[1];c=e[2]^t[2];h=e[3]^t[3];n=4;for(o=b=1,y=this._nRounds;1<=y?b<y:b>y;o=1<=y?++b:--b){l=r[0][s>>>24]^r[1][d>>>16&255]^r[2][c>>>8&255]^r[3][h&255]^t[n++];f=r[0][d>>>24]^r[1][c>>>16&255]^r[2][h>>>8&255]^r[3][s&255]^t[n++];u=r[0][c>>>24]^r[1][h>>>16&255]^r[2][s>>>8&255]^r[3][d&255]^t[n++];p=r[0][h>>>24]^r[1][s>>>16&255]^r[2][d>>>8&255]^r[3][c&255]^t[n++];s=l;d=f;c=u;h=p}l=(a[s>>>24]<<24|a[d>>>16&255]<<16|a[c>>>8&255]<<8|a[h&255])^t[n++];f=(a[d>>>24]<<24|a[c>>>16&255]<<16|a[h>>>8&255]<<8|a[s&255])^t[n++];u=(a[c>>>24]<<24|a[h>>>16&255]<<16|a[s>>>8&255]<<8|a[d&255])^t[n++];p=(a[h>>>24]<<24|a[s>>>16&255]<<16|a[d>>>8&255]<<8|a[c&255])^t[n++];return[i(l),i(f),i(u),i(p)]};r.AES=d}).call(this,e("buffer").Buffer)},{buffer:3}],14:[function(e,t,r){(function(r){var i=e("./aes");var a=e("./cipherBase");var n=e("inherits");var o=e("./ghash");var s=e("./xor");n(d,a);t.exports=d;function d(e,t,n,s){if(!(this instanceof d)){return new d(e,t,n)}a.call(this);this._finID=r.concat([n,new r([0,0,0,1])]);n=r.concat([n,new r([0,0,0,2])]);this._cipher=new i.AES(t);this._prev=new r(n.length);
this._cache=new r("");this._secCache=new r("");this._decrypt=s;this._alen=0;this._len=0;n.copy(this._prev);this._mode=e;var c=new r(4);c.fill(0);this._ghash=new o(this._cipher.encryptBlock(c));this._authTag=null;this._called=false}d.prototype._transform=function(e,t,i){if(!this._called&&this._alen){var a=16-this._alen%16;if(a<16){a=new r(a);a.fill(0);this._ghash.update(a)}}this._called=true;var n=this._mode.encrypt(this,e);if(this._decrypt){this._ghash.update(e)}else{this._ghash.update(n)}this._len+=e.length;i(null,n)};d.prototype._flush=function(e){if(this._decrypt&&!this._authTag){throw new Error("Unsupported state or unable to authenticate data")}var t=s(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt){if(c(t,this._authTag)){throw new Error("Unsupported state or unable to authenticate data")}}else{this._authTag=t}this._cipher.scrub();e()};d.prototype.getAuthTag=function h(){if(!this._decrypt&&r.isBuffer(this._authTag)){return this._authTag}else{throw new Error("Attempting to get auth tag in unsupported state")}};d.prototype.setAuthTag=function l(e){if(this._decrypt){this._authTag=e}else{throw new Error("Attempting to set auth tag in unsupported state")}};d.prototype.setAAD=function f(e){if(!this._called){this._ghash.update(e);this._alen+=e.length}else{throw new Error("Attempting to set AAD in unsupported state")}};function c(e,t){var r=0;if(e.length!==t.length){r++}var i=Math.min(e.length,t.length);var a=-1;while(++a<i){r+=e[a]^t[a]}return r}}).call(this,e("buffer").Buffer)},{"./aes":13,"./cipherBase":15,"./ghash":18,"./xor":29,buffer:3,inherits:115}],15:[function(e,t,r){(function(r){var i=e("stream").Transform;var a=e("inherits");t.exports=n;a(n,i);function n(){i.call(this)}n.prototype.update=function(e,t,i){this.write(e,t);var a=new r("");var n;while(n=this.read()){a=r.concat([a,n])}if(i){a=a.toString(i)}return a};n.prototype.final=function(e){this.end();var t=new r("");var i;while(i=this.read()){t=r.concat([t,i])}if(e){t=t.toString(e)}return t}}).call(this,e("buffer").Buffer)},{buffer:3,inherits:115,stream:129}],16:[function(e,t,r){(function(r){var i=e("./aes");var a=e("./cipherBase");var n=e("inherits");var o=e("./modes");var s=e("./streamCipher");var d=e("./authCipher");var c=e("./EVP_BytesToKey");n(h,a);function h(e,t,n){if(!(this instanceof h)){return new h(e,t,n)}a.call(this);this._cache=new l;this._last=void 0;this._cipher=new i.AES(t);this._prev=new r(n.length);n.copy(this._prev);this._mode=e}h.prototype._transform=function(e,t,r){this._cache.add(e);var i;var a;while(i=this._cache.get()){a=this._mode.decrypt(this,i);this.push(a)}r()};h.prototype._flush=function(e){var t=this._cache.flush();if(!t){return e}this.push(f(this._mode.decrypt(this,t)));e()};function l(){if(!(this instanceof l)){return new l}this.cache=new r("")}l.prototype.add=function(e){this.cache=r.concat([this.cache,e])};l.prototype.get=function(){if(this.cache.length>16){var e=this.cache.slice(0,16);this.cache=this.cache.slice(16);return e}return null};l.prototype.flush=function(){if(this.cache.length){return this.cache}};function f(e){var t=e[15];if(t===16){return}return e.slice(0,16-t)}var u={ECB:e("./modes/ecb"),CBC:e("./modes/cbc"),CFB:e("./modes/cfb"),CFB8:e("./modes/cfb8"),CFB1:e("./modes/cfb1"),OFB:e("./modes/ofb"),CTR:e("./modes/ctr"),GCM:e("./modes/ctr")};t.exports=function(e){function t(e,t,i){var a=o[e];if(!a){throw new TypeError("invalid suite type")}if(typeof i==="string"){i=new r(i)}if(typeof t==="string"){t=new r(t)}if(t.length!==a.key/8){throw new TypeError("invalid key length "+t.length)}if(i.length!==a.iv){throw new TypeError("invalid iv length "+i.length)}if(a.type==="stream"){return new s(u[a.mode],t,i,true)}else if(a.type==="auth"){return new d(u[a.mode],t,i,true)}return new h(u[a.mode],t,i)}function i(r,i){var a=o[r];if(!a){throw new TypeError("invalid suite type")}var n=c(e,i,a.key,a.iv);return t(r,n.key,n.iv)}return{createDecipher:i,createDecipheriv:t}}}).call(this,e("buffer").Buffer)},{"./EVP_BytesToKey":12,"./aes":13,"./authCipher":14,"./cipherBase":15,"./modes":20,"./modes/cbc":21,"./modes/cfb":22,"./modes/cfb1":23,"./modes/cfb8":24,"./modes/ctr":25,"./modes/ecb":26,"./modes/ofb":27,"./streamCipher":28,buffer:3,inherits:115}],17:[function(e,t,r){(function(r){var i=e("./aes");var a=e("./cipherBase");var n=e("inherits");var o=e("./modes");var s=e("./EVP_BytesToKey");var d=e("./streamCipher");var c=e("./authCipher");n(h,a);function h(e,t,n){if(!(this instanceof h)){return new h(e,t,n)}a.call(this);this._cache=new l;this._cipher=new i.AES(t);this._prev=new r(n.length);n.copy(this._prev);this._mode=e}h.prototype._transform=function(e,t,r){this._cache.add(e);var i;var a;while(i=this._cache.get()){a=this._mode.encrypt(this,i);this.push(a)}r()};h.prototype._flush=function(e){var t=this._cache.flush();this.push(this._mode.encrypt(this,t));this._cipher.scrub();e()};function l(){if(!(this instanceof l)){return new l}this.cache=new r("")}l.prototype.add=function(e){this.cache=r.concat([this.cache,e])};l.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);this.cache=this.cache.slice(16);return e}return null};l.prototype.flush=function(){var e=16-this.cache.length;var t=new r(e);var i=-1;while(++i<e){t.writeUInt8(e,i)}var a=r.concat([this.cache,t]);return a};var f={ECB:e("./modes/ecb"),CBC:e("./modes/cbc"),CFB:e("./modes/cfb"),CFB8:e("./modes/cfb8"),CFB1:e("./modes/cfb1"),OFB:e("./modes/ofb"),CTR:e("./modes/ctr"),GCM:e("./modes/ctr")};t.exports=function(e){function t(e,t,i){var a=o[e];if(!a){throw new TypeError("invalid suite type")}if(typeof i==="string"){i=new r(i)}if(typeof t==="string"){t=new r(t)}if(t.length!==a.key/8){throw new TypeError("invalid key length "+t.length)}if(i.length!==a.iv){throw new TypeError("invalid iv length "+i.length)}if(a.type==="stream"){return new d(f[a.mode],t,i)}else if(a.type==="auth"){return new c(f[a.mode],t,i)}return new h(f[a.mode],t,i)}function i(r,i){var a=o[r];if(!a){throw new TypeError("invalid suite type")}var n=s(e,i,a.key,a.iv);return t(r,n.key,n.iv)}return{createCipher:i,createCipheriv:t}}}).call(this,e("buffer").Buffer)},{"./EVP_BytesToKey":12,"./aes":13,"./authCipher":14,"./cipherBase":15,"./modes":20,"./modes/cbc":21,"./modes/cfb":22,"./modes/cfb1":23,"./modes/cfb8":24,"./modes/ctr":25,"./modes/ecb":26,"./modes/ofb":27,"./streamCipher":28,buffer:3,inherits:115}],18:[function(e,t,r){(function(e){var r=new e(16);r.fill(0);t.exports=i;function i(t){this.h=t;this.state=new e(16);this.state.fill(0);this.cache=new e("")}i.prototype.ghash=function(e){var t=-1;while(++t<e.length){this.state[t]^=255&e[t]}this._multiply()};i.prototype._multiply=function(){var e=a(this.h);var t=[0,0,0,0];var r,i,o;var s=-1;while(++s<128){i=(this.state[~~(s/8)]&1<<7-s%8)!==0;if(i){t=d(t,e)}o=(e[3]&1)!==0;for(r=3;r>0;r--){e[r]=e[r]>>>1|(e[r-1]&1)<<31}e[0]=e[0]>>>1;if(o){e[0]=e[0]^225<<24}}this.state=n(t)};i.prototype.update=function(t){this.cache=e.concat([this.cache,t]);var r;while(this.cache.length>=16){r=this.cache.slice(0,16);this.cache=this.cache.slice(16);this.ghash(r)}};i.prototype.final=function(t,i){if(this.cache.length){this.ghash(e.concat([this.cache,r],16))}this.ghash(n([0,t,0,i]));return this.state};function a(e){return[e.readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)]}function n(t){t=t.map(s);var r=new e(16);r.writeUInt32BE(t[0],0);r.writeUInt32BE(t[1],4);r.writeUInt32BE(t[2],8);r.writeUInt32BE(t[3],12);return r}var o=Math.pow(2,32);function s(e){var t,r;t=e>o||e<0?(r=Math.abs(e)%o,e<0?o-r:r):e;return t}function d(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]}}).call(this,e("buffer").Buffer)},{buffer:3}],19:[function(e,t,r){t.exports=function(t,r){r=r||{};var i=e("./encrypter")(t);r.createCipher=i.createCipher;r.createCipheriv=i.createCipheriv;var a=e("./decrypter")(t);r.createDecipher=a.createDecipher;r.createDecipheriv=a.createDecipheriv;var n=e("./modes");function o(){return Object.keys(n)}r.listCiphers=o}},{"./decrypter":16,"./encrypter":17,"./modes":20}],20:[function(e,t,r){r["aes-128-ecb"]={cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"};r["aes-192-ecb"]={cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"};r["aes-256-ecb"]={cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"};r["aes-128-cbc"]={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"};r["aes-192-cbc"]={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"};r["aes-256-cbc"]={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"};r["aes128"]=r["aes-128-cbc"];r["aes192"]=r["aes-192-cbc"];r["aes256"]=r["aes-256-cbc"];r["aes-128-cfb"]={cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"};r["aes-192-cfb"]={cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"};r["aes-256-cfb"]={cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"};r["aes-128-cfb8"]={cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"};r["aes-192-cfb8"]={cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"};r["aes-256-cfb8"]={cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"};r["aes-128-cfb1"]={cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"};r["aes-192-cfb1"]={cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"};r["aes-256-cfb1"]={cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"};r["aes-128-ofb"]={cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"};r["aes-192-ofb"]={cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"};r["aes-256-ofb"]={cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"};r["aes-128-ctr"]={cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"};r["aes-192-ctr"]={cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"};r["aes-256-ctr"]={cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"};r["aes-128-gcm"]={cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"};r["aes-192-gcm"]={cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"};r["aes-256-gcm"]={cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}},{}],21:[function(e,t,r){var i=e("../xor");r.encrypt=function(e,t){var r=i(t,e._prev);e._prev=e._cipher.encryptBlock(r);return e._prev};r.decrypt=function(e,t){var r=e._prev;e._prev=t;var a=e._cipher.decryptBlock(t);return i(a,r)}},{"../xor":29}],22:[function(e,t,r){(function(t){var i=e("../xor");r.encrypt=function(e,r,i){var n=new t("");var o;while(r.length){if(e._cache.length===0){e._cache=e._cipher.encryptBlock(e._prev);e._prev=new t("")}if(e._cache.length<=r.length){o=e._cache.length;n=t.concat([n,a(e,r.slice(0,o),i)]);r=r.slice(o)}else{n=t.concat([n,a(e,r,i)]);break}}return n};function a(e,r,a){var n=r.length;var o=i(r,e._cache);e._cache=e._cache.slice(n);e._prev=t.concat([e._prev,a?r:o]);return o}}).call(this,e("buffer").Buffer)},{"../xor":29,buffer:3}],23:[function(e,t,r){(function(e){function t(e,t,r){var a;var n=-1;var o=8;var s=0;var d,c;while(++n<o){a=e._cipher.encryptBlock(e._prev);d=t&1<<7-n?128:0;c=a[0]^d;s+=(c&128)>>n%8;e._prev=i(e._prev,r?d:c)}return s}r.encrypt=function(r,i,a){var n=i.length;var o=new e(n);var s=-1;while(++s<n){o[s]=t(r,i[s],a)}return o};function i(t,r){var i=t.length;var a=-1;var n=new e(t.length);t=e.concat([t,new e([r])]);while(++a<i){n[a]=t[a]<<1|t[a+1]>>7}return n}}).call(this,e("buffer").Buffer)},{buffer:3}],24:[function(e,t,r){(function(e){function t(t,r,i){var a=t._cipher.encryptBlock(t._prev);var n=a[0]^r;t._prev=e.concat([t._prev.slice(1),new e([i?r:n])]);return n}r.encrypt=function(r,i,a){var n=i.length;var o=new e(n);var s=-1;while(++s<n){o[s]=t(r,i[s],a)}return o}}).call(this,e("buffer").Buffer)},{buffer:3}],25:[function(e,t,r){(function(t){var i=e("../xor");function a(e){var t=e._cipher.encryptBlock(e._prev);n(e._prev);return t}r.encrypt=function(e,r){while(e._cache.length<r.length){e._cache=t.concat([e._cache,a(e)])}var n=e._cache.slice(0,r.length);e._cache=e._cache.slice(r.length);return i(r,n)};function n(e){var t=e.length;var r;while(t--){r=e.readUInt8(t);if(r===255){e.writeUInt8(0,t)}else{r++;e.writeUInt8(r,t);break}}}}).call(this,e("buffer").Buffer)},{"../xor":29,buffer:3}],26:[function(e,t,r){r.encrypt=function(e,t){return e._cipher.encryptBlock(t)};r.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},{}],27:[function(e,t,r){(function(t){var i=e("../xor");function a(e){e._prev=e._cipher.encryptBlock(e._prev);return e._prev}r.encrypt=function(e,r){while(e._cache.length<r.length){e._cache=t.concat([e._cache,a(e)])}var n=e._cache.slice(0,r.length);e._cache=e._cache.slice(r.length);return i(r,n)}}).call(this,e("buffer").Buffer)},{"../xor":29,buffer:3}],28:[function(e,t,r){(function(r){var i=e("./aes");var a=e("./cipherBase");var n=e("inherits");n(o,a);t.exports=o;function o(e,t,n,s){if(!(this instanceof o)){return new o(e,t,n)}a.call(this);this._cipher=new i.AES(t);this._prev=new r(n.length);this._cache=new r("");this._secCache=new r("");this._decrypt=s;n.copy(this._prev);this._mode=e}o.prototype._transform=function(e,t,r){r(null,this._mode.encrypt(this,e,this._decrypt))};o.prototype._flush=function(e){this._cipher.scrub();e()}}).call(this,e("buffer").Buffer)},{"./aes":13,"./cipherBase":15,buffer:3,inherits:115}],29:[function(e,t,r){(function(e){t.exports=r;function r(t,r){var i=Math.min(t.length,r.length);var a=new e(i);var n=-1;while(++n<i){a.writeUInt8(t[n]^r[n],n)}return a}}).call(this,e("buffer").Buffer)},{buffer:3}],30:[function(e,t,r){t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],31:[function(e,t,r){(function(e){r["RSA-SHA224"]=r.sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:new e("302d300d06096086480165030402040500041c","hex")};r["RSA-SHA256"]=r.sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:new e("3031300d060960864801650304020105000420","hex")};r["RSA-SHA384"]=r.sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:new e("3041300d060960864801650304020205000430","hex")};r["RSA-SHA512"]=r.sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:new e("3051300d060960864801650304020305000440","hex")};r["RSA-SHA1"]={sign:"rsa",hash:"sha1",id:new e("3021300906052b0e03021a05000414","hex")};r["ecdsa-with-SHA1"]={sign:"ecdsa",hash:"sha1",id:new e("","hex")}}).call(this,e("buffer").Buffer)},{buffer:3}],32:[function(e,t,r){var i=e("asn1.js");var a=e("asn1.js-rfc3280");var n=i.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});r.RSAPrivateKey=n;var o=i.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});r.RSAPublicKey=o;var s=a.SubjectPublicKeyInfo;r.PublicKey=s;var d=i.define("ECPublicKey",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("curve").objid()),this.key("subjectPrivateKey").bitstr())});r.ECPublicKey=d;var c=i.define("ECPrivateWrap",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").seq().obj(this.key("id").objid(),this.key("curve").objid()),this.key("subjectPrivateKey").octstr())});r.ECPrivateWrap=c;var h=i.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a.AlgorithmIdentifier),this.key("subjectPrivateKey").octstr())});r.PrivateKey=h;var l=i.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});r.EncryptedPrivateKey=l;var f=i.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(u),this.key("publicKey").optional().explicit(1).bitstr())});r.ECPrivateKey=f;var u=i.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});var p=i.define("ECPrivateKey2",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("publicKey").seq().obj(this.key("key").bitstr()))});r.ECPrivateKey2=p},{"asn1.js":36,"asn1.js-rfc3280":35}],33:[function(e,t,r){e("./inject")(t.exports,e("crypto"))},{"./inject":34,crypto:10}],34:[function(e,t,r){(function(r){var i=e("./sign");var a=e("./verify");var n=e("readable-stream").Writable;var o=e("inherits");var s=e("./algos");"use strict";t.exports=function(e,t){e.createSign=r;function r(e){return new d(e,t)}e.createVerify=i;function i(e){return new c(e,t)}};o(d,n);function d(e,t){n.call(this);var r=s[e];if(!r){throw new Error("Unknown message digest")}this._hash=t.createHash(r.hash);this._tag=r.id;this._crypto=t}d.prototype._write=function h(e,t,r){this._hash.update(e);r()};d.prototype.update=function l(e){this.write(e);return this};d.prototype.sign=function f(e,t){this.end();var a=this._hash.digest();var n=i(r.concat([this._tag,a]),e,this._crypto);if(t){n=n.toString(t)}return n};o(c,n);function c(e,t){n.call(this);var r=s[e];if(!r){throw new Error("Unknown message digest")}this._hash=t.createHash(r.hash);this._tag=r.id}c.prototype._write=function u(e,t,r){this._hash.update(e);r()};c.prototype.update=function p(e){this.write(e);return this};c.prototype.verify=function b(e,t,i){this.end();var n=this._hash.digest();if(!r.isBuffer(t)){t=new r(t,i)}return a(t,r.concat([this._tag,n]),e)}}).call(this,e("buffer").Buffer)},{"./algos":31,"./sign":71,"./verify":72,buffer:3,inherits:115,"readable-stream":126}],35:[function(e,t,r){try{var i=e("asn1.js")}catch(a){var i=e("../..")}var n=i.define("CRLReason",function(){this.enum({0:"unspecified",1:"keyCompromise",2:"CACompromise",3:"affiliationChanged",4:"superseded",5:"cessationOfOperation",6:"certificateHold",8:"removeFromCRL",9:"privilegeWithdrawn",10:"AACompromise"})});r.CRLReason=n;var o=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())});r.AlgorithmIdentifier=o;var s=i.define("Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(o),this.key("signature").bitstr())});r.Certificate=s;var d=i.define("TBSCertificate",function(){this.seq().obj(this.key("version").def("v1").explicit(0).use(c),this.key("serialNumber").use(h),this.key("signature").use(o),this.key("issuer").use(v),this.key("validity").use(l),this.key("subject").use(v),this.key("subjectPublicKeyInfo").use(p),this.key("issuerUniqueID").optional().explicit(1).use(u),this.key("subjectUniqueID").optional().explicit(2).use(u),this.key("extensions").optional().explicit(3).use(b))});r.TBSCertificate=d;var c=i.define("Version",function(){this.int({0:"v1",1:"v2",2:"v3"})});r.Version=c;var h=i.define("CertificateSerialNumber",function(){this.int()});r.CertificateSerialNumber=h;var l=i.define("Validity",function(){this.seq().obj(this.key("notBefore").use(f),this.key("notAfter").use(f))});r.Validity=l;var f=i.define("Time",function(){this.choice({utcTime:this.utctime(),genTime:this.gentime()})});r.Time=f;var u=i.define("UniqueIdentifier",function(){this.bitstr()});r.UniqueIdentifier=u;var p=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())});r.SubjectPublicKeyInfo=p;var b=i.define("Extensions",function(){this.seqof(y)});r.Extensions=b;var y=i.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(false),this.key("extnValue").octstr())});r.Extension=y;var v=i.define("Name",function(){this.choice({rdn:this.use(g)})});r.Name=v;var g=i.define("RDNSequence",function(){this.seqof(m)});r.RDNSequence=g;var m=i.define("RelativeDistinguishedName",function(){this.setof(x)});r.RelativeDistinguishedName=m;var x=i.define("AttributeTypeAndValue",function(){this.seq().obj(this.key("type").use(_),this.key("value").use(w))});r.AttributeTypeAndValue=x;var _=i.define("AttributeType",function(){this.objid()});r.AttributeType=_;var w=i.define("AttributeValue",function(){this.any()});r.AttributeValue=w},{"../..":33,"asn1.js":36}],36:[function(e,t,r){var i=r;i.bignum=e("bn.js");i.define=e("./asn1/api").define;i.base=e("./asn1/base");i.constants=e("./asn1/constants");i.decoders=e("./asn1/decoders");i.encoders=e("./asn1/encoders")},{"./asn1/api":37,"./asn1/base":39,"./asn1/constants":43,"./asn1/decoders":45,"./asn1/encoders":47,"bn.js":48}],37:[function(e,t,r){var i=e("../asn1");var a=e("util");var n=e("vm");var o=r;o.define=function d(e,t){return new s(e,t)};function s(e,t){this.name=e;this.body=t;this.decoders={};this.encoders={}}s.prototype._createNamed=function c(e){var t=n.runInThisContext("(function "+this.name+"(entity) {\n"+"  this._initNamed(entity);\n"+"})");a.inherits(t,e);t.prototype._initNamed=function r(t){e.call(this,t)};return new t(this)};s.prototype._getDecoder=function h(e){if(!this.decoders.hasOwnProperty(e))this.decoders[e]=this._createNamed(i.decoders[e]);return this.decoders[e]};s.prototype.decode=function l(e,t,r){return this._getDecoder(t).decode(e,r)};s.prototype._getEncoder=function f(e){if(!this.encoders.hasOwnProperty(e))this.encoders[e]=this._createNamed(i.encoders[e]);return this.encoders[e]};s.prototype.encode=function u(e,t,r){return this._getEncoder(t).encode(e,r)}},{"../asn1":36,util:132,vm:133}],38:[function(e,t,r){var i=e("assert");var a=e("util");var n=e("../base").Reporter;var o=e("buffer").Buffer;function s(e,t){n.call(this,t);if(!o.isBuffer(e)){this.error("Input not Buffer");return}this.base=e;this.offset=0;this.length=e.length}a.inherits(s,n);r.DecoderBuffer=s;s.prototype.save=function c(){return{offset:this.offset}};s.prototype.restore=function h(e){var t=new s(this.base);t.offset=e.offset;t.length=this.offset;this.offset=e.offset;return t};s.prototype.isEmpty=function l(){return this.offset===this.length};s.prototype.readUInt8=function f(e){if(this.offset+1<=this.length)return this.base.readUInt8(this.offset++,true);else return this.error(e||"DecoderBuffer overrun")};s.prototype.skip=function u(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var r=new s(this.base);r._reporterState=this._reporterState;r.offset=this.offset;r.length=this.offset+e;this.offset+=e;return r};s.prototype.raw=function p(e){return this.base.slice(e?e.offset:this.offset,this.length)};function d(e,t){if(Array.isArray(e)){this.length=0;this.value=e.map(function(e){if(!(e instanceof d))e=new d(e,t);this.length+=e.length;return e},this)}else if(typeof e==="number"){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e;this.length=1}else if(typeof e==="string"){this.value=e;this.length=o.byteLength(e)}else if(o.isBuffer(e)){this.value=e;this.length=e.length}else{return t.error("Unsupported type: "+typeof e)}}r.EncoderBuffer=d;d.prototype.join=function b(e,t){if(!e)e=new o(this.length);if(!t)t=0;if(this.length===0)return e;if(Array.isArray(this.value)){this.value.forEach(function(r){r.join(e,t);t+=r.length})}else{if(typeof this.value==="number")e[t]=this.value;else if(typeof this.value==="string")e.write(this.value,t);else if(o.isBuffer(this.value))this.value.copy(e,t);t+=this.length}return e}},{"../base":39,assert:1,buffer:3,util:132}],39:[function(e,t,r){var i=r;i.Reporter=e("./reporter").Reporter;i.DecoderBuffer=e("./buffer").DecoderBuffer;i.EncoderBuffer=e("./buffer").EncoderBuffer;i.Node=e("./node")},{"./buffer":38,"./node":40,"./reporter":41}],40:[function(e,t,r){var i=e("assert");var a=e("../base").Reporter;var n=e("../base").EncoderBuffer;var o=["seq","seqof","set","setof","octstr","bitstr","objid","bool","gentime","utctime","null_","enum","int","ia5str"];var s=["key","obj","use","optional","explicit","implicit","def","choice","any"].concat(o);var d=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function c(e,t){var r={};this._baseState=r;r.enc=e;r.parent=t||null;r.children=null;r.tag=null;r.args=null;r.reverseArgs=null;r.choice=null;r.optional=false;r.any=false;r.obj=false;r.use=null;r.useDecoder=null;r.key=null;r["default"]=null;r.explicit=null;r.implicit=null;if(!r.parent){r.children=[];this._wrap()}}t.exports=c;var h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit"];c.prototype.clone=function l(){var e=this._baseState;var t={};h.forEach(function(r){t[r]=e[r]});var r=new this.constructor(t.parent);r._baseState=t;return r};c.prototype._wrap=function f(){var e=this._baseState;s.forEach(function(t){this[t]=function r(){var r=new this.constructor(this);e.children.push(r);return r[t].apply(r,arguments)}},this)};c.prototype._init=function u(e){var t=this._baseState;i(t.parent===null);e.call(this);t.children=t.children.filter(function(e){return e._baseState.parent===this},this);i.equal(t.children.length,1,"Root node can have only one child")};c.prototype._useArgs=function p(e){var t=this._baseState;var r=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this);if(r.length!==0){i(t.children===null);t.children=r;r.forEach(function(e){e._baseState.parent=this},this)}if(e.length!==0){i(t.args===null);t.args=e;t.reverseArgs=e.map(function(e){if(typeof e!=="object"||e.constructor!==Object)return e;var t={};Object.keys(e).forEach(function(r){if(r==(r|0))r|=0;var i=e[r];t[i]=r});return t})}};d.forEach(function(e){c.prototype[e]=function t(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}});o.forEach(function(e){c.prototype[e]=function t(){var t=this._baseState;var r=Array.prototype.slice.call(arguments);i(t.tag===null);t.tag=e;this._useArgs(r);return this}});c.prototype.use=function b(e){var t=this._baseState;i(t.use===null);t.use=e;return this};c.prototype.optional=function y(){var e=this._baseState;e.optional=true;return this};c.prototype.def=function v(e){var t=this._baseState;i(t["default"]===null);t["default"]=e;t.optional=true;return this};c.prototype.explicit=function g(e){var t=this._baseState;i(t.explicit===null&&t.implicit===null);t.explicit=e;return this};c.prototype.implicit=function m(e){var t=this._baseState;i(t.explicit===null&&t.implicit===null);t.implicit=e;return this};c.prototype.obj=function x(){var e=this._baseState;var t=Array.prototype.slice.call(arguments);e.obj=true;if(t.length!==0)this._useArgs(t);return this};c.prototype.key=function _(_){var e=this._baseState;i(e.key===null);e.key=_;return this};c.prototype.any=function w(){var e=this._baseState;e.any=true;return this};c.prototype.choice=function T(e){var t=this._baseState;i(t.choice===null);t.choice=e;this._useArgs(Object.keys(e).map(function(t){return e[t]}));return this};c.prototype._decode=function S(e){var t=this._baseState;if(t.parent===null)return e.wrapResult(t.children[0]._decode(e));var r=t["default"];var i=true;var a;if(t.key!==null)a=e.enterKey(t.key);if(t.optional){i=this._peekTag(e,t.explicit!==null?t.explicit:t.implicit!==null?t.implicit:t.tag||0);if(e.isError(i))return i}var n;if(t.obj&&i)n=e.enterObject();if(i){if(t.explicit!==null){var o=this._decodeTag(e,t.explicit);if(e.isError(o))return o;e=o}if(t.use===null&&t.choice===null){if(t.any)var s=e.save();var d=this._decodeTag(e,t.implicit!==null?t.implicit:t.tag,t.any);if(e.isError(d))return d;if(t.any)r=e.raw(s);else e=d}if(t.any)r=r;else if(t.choice===null)r=this._decodeGeneric(t.tag,e);else r=this._decodeChoice(e);if(e.isError(r))return r;if(!t.any&&t.choice===null&&t.children!==null){var c=t.children.some(function h(t){t._decode(e)});if(c)return err}}if(t.obj&&i)r=e.leaveObject(n);if(t.key!==null&&(r!==null||i===true))e.leaveKey(a,t.key,r);return r};c.prototype._decodeGeneric=function A(e,t){var r=this._baseState;if(e==="seq"||e==="set")return null;if(e==="seqof"||e==="setof")return this._decodeList(t,e,r.args[0]);else if(e==="octstr"||e==="bitstr"||e==="ia5str")return this._decodeStr(t,e);else if(e==="objid"&&r.args)return this._decodeObjid(t,r.args[0],r.args[1]);else if(e==="objid")return this._decodeObjid(t,null,null);else if(e==="gentime"||e==="utctime")return this._decodeTime(t,e);else if(e==="null_")return this._decodeNull(t);else if(e==="bool")return this._decodeBool(t);else if(e==="int"||e==="enum")return this._decodeInt(t,r.args&&r.args[0]);else if(r.use!==null)return this._getUse(r.use,t._reporterState.obj)._decode(t);else return t.error("unknown tag: "+e);return null};c.prototype._getUse=function C(e,t){var r=this._baseState;r.useDecoder=this._use(e,t);i(r.useDecoder._baseState.parent===null);r.useDecoder=r.useDecoder._baseState.children[0];if(r.implicit!==r.useDecoder._baseState.implicit){r.useDecoder=r.useDecoder.clone();r.useDecoder._baseState.implicit=r.implicit}return r.useDecoder};c.prototype._decodeChoice=function E(e){var t=this._baseState;var r=null;var i=false;Object.keys(t.choice).some(function(a){var n=e.save();var o=t.choice[a];try{var s=o._decode(e);if(e.isError(s))return false;r={type:a,value:s};i=true}catch(d){e.restore(n);return false}return true},this);if(!i)return e.error("Choice not matched");return r};c.prototype._createEncoderBuffer=function M(e){return new n(e,this.reporter)};c.prototype._encode=function R(e,t,r){var i=this._baseState;if(i["default"]!==null&&i["default"]===e)return;var a=this._encodeValue(e,t,r);if(a===undefined)return;if(this._skipDefault(a,t,r))return;return a};c.prototype._encodeValue=function $(e,t,r){var i=this._baseState;if(i.parent===null)return i.children[0]._encode(e,t||new a);var n=null;var o=true;this.reporter=t;if(i.optional&&e===undefined){if(i["default"]!==null)e=i["default"];else return}var s;var d=null;var c=false;if(i.any){n=this._createEncoderBuffer(e)}else if(i.choice){n=this._encodeChoice(e,t)}else if(i.children){d=i.children.map(function(r){if(r._baseState.tag==="null_")return r._encode(null,t,e);if(r._baseState.key===null)return t.error("Child should have a key");var i=t.enterKey(r._baseState.key);if(typeof e!=="object")return t.error("Child expected, but input is not object");var a=r._encode(e[r._baseState.key],t,e);t.leaveKey(i);return a},this).filter(function(e){return e});d=this._createEncoderBuffer(d)}else{if(i.tag==="seqof"||i.tag==="setof"){if(!(i.args&&i.args.length===1))return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var h=this.clone();h._baseState.implicit=null;d=this._createEncoderBuffer(e.map(function(r){var i=this._baseState;return this._getUse(i.args[0],e)._encode(r,t)},h))}else if(i.use!==null){n=this._getUse(i.use,r)._encode(e,t)}else{d=this._encodePrimitive(i.tag,e);c=true}}var n;if(!i.any&&i.choice===null){var l=i.implicit!==null?i.implicit:i.tag;var f=i.implicit===null?"universal":"context";if(l===null){if(i.use===null)t.error("Tag could be ommited only for .use()")}else{if(i.use===null)n=this._encodeComposite(l,c,f,d)}}if(i.explicit!==null)n=this._encodeComposite(i.explicit,false,"context",n);return n};c.prototype._encodeChoice=function B(e,t){var r=this._baseState;var a=r.choice[e.type];if(!a){i(false,e.type+" not found in "+JSON.stringify(Object.keys(r.choice)))}return a._encode(e.value,t)};c.prototype._encodePrimitive=function L(e,t){var r=this._baseState;if(e==="octstr"||e==="bitstr"||e==="ia5str")return this._encodeStr(t,e);else if(e==="objid"&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);else if(e==="objid")return this._encodeObjid(t,null,null);
else if(e==="gentime"||e==="utctime")return this._encodeTime(t,e);else if(e==="null_")return this._encodeNull();else if(e==="int"||e==="enum")return this._encodeInt(t,r.args&&r.reverseArgs[0]);else if(e==="bool")return this._encodeBool(t);else throw new Error("Unsupported tag: "+e)}},{"../base":39,assert:1}],41:[function(e,t,r){var i=e("util");function a(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}r.Reporter=a;a.prototype.isError=function o(e){return e instanceof n};a.prototype.enterKey=function s(e){return this._reporterState.path.push(e)};a.prototype.leaveKey=function d(e,t,r){var i=this._reporterState;i.path=i.path.slice(0,e-1);if(i.obj!==null)i.obj[t]=r};a.prototype.enterObject=function c(){var e=this._reporterState;var t=e.obj;e.obj={};return t};a.prototype.leaveObject=function h(e){var t=this._reporterState;var r=t.obj;t.obj=e;return r};a.prototype.error=function l(e){var t;var r=this._reporterState;var i=e instanceof n;if(i){t=e}else{t=new n(r.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack)}if(!r.options.partial)throw t;if(!i)r.errors.push(t);return t};a.prototype.wrapResult=function f(e){var t=this._reporterState;if(!t.options.partial)return e;return{result:this.isError(e)?null:e,errors:t.errors}};function n(e,t){this.path=e;this.rethrow(t)}i.inherits(n,Error);n.prototype.rethrow=function u(e){this.message=e+" at: "+(this.path||"(shallow)");Error.captureStackTrace(this,n);return this}},{util:132}],42:[function(e,t,r){var i=e("../constants");r.tagClass={0:"universal",1:"application",2:"context",3:"private"};r.tagClassByName=i._reverse(r.tagClass);r.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};r.tagByName=i._reverse(r.tag)},{"../constants":43}],43:[function(e,t,r){var i=r;i._reverse=function a(e){var t={};Object.keys(e).forEach(function(r){if((r|0)==r)r=r|0;var i=e[r];t[i]=r});return t};i.der=e("./der")},{"./der":42}],44:[function(e,t,r){var i=e("util");var a=e("../../asn1");var n=a.base;var o=a.bignum;var s=a.constants.der;function d(e){this.enc="der";this.name=e.name;this.entity=e;this.tree=new c;this.tree._init(e.body)}t.exports=d;d.prototype.decode=function f(e,t){if(!(e instanceof n.DecoderBuffer))e=new n.DecoderBuffer(e,t);return this.tree._decode(e,t)};function c(e){n.Node.call(this,"der",e)}i.inherits(c,n.Node);c.prototype._peekTag=function u(e,t){if(e.isEmpty())return false;var r=e.save();var i=h(e,'Failed to peek tag: "'+t+'"');if(e.isError(i))return i;e.restore(r);return i.tag===t||i.tagStr===t};c.prototype._decodeTag=function p(e,t,r){var i=h(e,'Failed to decode tag of "'+t+'"');if(e.isError(i))return i;var a=l(e,i.primitive,'Failed to get length of "'+t+'"');if(e.isError(a))return a;if(!r&&i.tag!==t&&i.tagStr!==t&&i.tagStr+"of"!==t){return e.error('Failed to match tag: "'+t+'"')}if(i.primitive||a!==null)return e.skip(a,'Failed to match body of: "'+t+'"');var n=e.start();var o=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');if(e.isError(o))return o;return e.cut(n)};c.prototype._skipUntilEnd=function b(e,t){while(true){var r=h(e,t);if(e.isError(r))return r;var i=l(e,r.primitive,t);if(e.isError(i))return i;var a;if(r.primitive||i!==null)a=e.skip(i);else a=this._skipUntilEnd(e,t);if(e.isError(a))return a;if(r.tagStr==="end")break}};c.prototype._decodeList=function y(e,t,r){var i=[];while(!e.isEmpty()){var a=this._peekTag(e,"end");if(e.isError(a))return a;var n=r.decode(e,"der");if(e.isError(n)&&a)break;i.push(n)}return i};c.prototype._decodeStr=function v(e,t){if(t==="octstr"){return e.raw()}else if(t==="bitstr"){var r=e.readUInt8();if(e.isError(r))return r;return{unused:r,data:e.raw()}}else if(t==="ia5str"){return e.raw().toString()}else{return this.error("Decoding of string type: "+t+" unsupported")}};c.prototype._decodeObjid=function g(e,t,r){var i=[];var a=0;while(!e.isEmpty()){var n=e.readUInt8();a<<=7;a|=n&127;if((n&128)===0){i.push(a);a=0}}if(n&128)i.push(a);var o=i[0]/40|0;var s=i[0]%40;if(r)result=i;else result=[o,s].concat(i.slice(1));if(t)result=t[result.join(" ")];return result};c.prototype._decodeTime=function m(e,t){var r=e.raw().toString();if(t==="gentime"){var i=r.slice(0,4)|0;var a=r.slice(4,6)|0;var n=r.slice(6,8)|0;var o=r.slice(8,10)|0;var s=r.slice(10,12)|0;var d=r.slice(12,14)|0}else if(t==="utctime"){var i=r.slice(0,2)|0;var a=r.slice(2,4)|0;var n=r.slice(4,6)|0;var o=r.slice(6,8)|0;var s=r.slice(8,10)|0;var d=r.slice(10,12)|0;if(i<70)i=2e3+i;else i=1900+i}else{return this.error("Decoding "+t+" time is not supported yet")}return Date.UTC(i,a-1,n,o,s,d,0)};c.prototype._decodeNull=function x(e){return null};c.prototype._decodeBool=function _(e){var t=e.readUInt8();if(e.isError(t))return t;else return t!==0};c.prototype._decodeInt=function w(e,t){var r=0;var i=e.raw();if(i.length>3)return new o(i);while(!e.isEmpty()){r<<=8;var a=e.readUInt8();if(e.isError(a))return a;r|=a}if(t)r=t[r]||r;return r};c.prototype._use=function T(e,t){if(typeof e==="function")e=e(t);return e._getDecoder("der").tree};function h(e,t){var r=e.readUInt8(t);if(e.isError(r))return r;var i=s.tagClass[r>>6];var a=(r&32)===0;if((r&31)===31){var n=r;r=0;while((n&128)===128){n=e.readUInt8(t);if(e.isError(n))return n;r<<=7;r|=n&127}}else{r&=31}var o=s.tag[r];return{cls:i,primitive:a,tag:r,tagStr:o}}function l(e,t,r){var i=e.readUInt8(r);if(e.isError(i))return i;if(!t&&i===128)return null;if((i&128)===0){return i}var a=i&127;if(a>=4)return e.error("length octect is too long");i=0;for(var n=0;n<a;n++){i<<=8;var o=e.readUInt8(r);if(e.isError(o))return o;i|=o}return i}},{"../../asn1":36,util:132}],45:[function(e,t,r){var i=r;i.der=e("./der")},{"./der":44}],46:[function(e,t,r){var i=e("util");var a=e("buffer").Buffer;var n=e("../../asn1");var o=n.base;var s=n.bignum;var d=n.constants.der;function c(e){this.enc="der";this.name=e.name;this.entity=e;this.tree=new h;this.tree._init(e.body)}t.exports=c;c.prototype.encode=function u(e,t){return this.tree._encode(e,t).join()};function h(e){o.Node.call(this,"der",e)}i.inherits(h,o.Node);h.prototype._encodeComposite=function p(e,t,r,i){var n=f(e,t,r,this.reporter);if(i.length<128){var o=new a(2);o[0]=n;o[1]=i.length;return this._createEncoderBuffer([o,i])}var s=1;for(var d=i.length;d>=256;d>>=8)s++;var o=new a(1+1+s);o[0]=n;o[1]=128|s;for(var d=1+s,c=i.length;c>0;d--,c>>=8)o[d]=c&255;return this._createEncoderBuffer([o,i])};h.prototype._encodeStr=function b(e,t){if(t==="octstr")return this._createEncoderBuffer(e);else if(t==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);else if(t==="ia5str")return this._createEncoderBuffer(e);return this.reporter.error("Encoding of string type: "+t+" unsupported")};h.prototype._encodeObjid=function y(e,t,r){if(typeof e==="string"){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/\s+/g);for(var i=0;i<e.length;i++)e[i]|=0}else if(Array.isArray(e)){e=e.slice()}if(!Array.isArray(e)){return this.reporter.error("objid() should be either array or string, "+"got: "+JSON.stringify(e))}if(!r){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}var n=0;for(var i=0;i<e.length;i++){var o=e[i];for(n++;o>=128;o>>=7)n++}var s=new a(n);var d=s.length-1;for(var i=e.length-1;i>=0;i--){var o=e[i];s[d--]=o&127;while((o>>=7)>0)s[d--]=128|o&127}return this._createEncoderBuffer(s)};function l(e){if(e<=10)return"0"+e;else return e}h.prototype._encodeTime=function v(e,t){var r;var i=new Date(e);if(t==="gentime"){r=[i.getFullYear(),l(i.getUTCMonth()+1),l(i.getUTCDate()),l(i.getUTCHours()),l(i.getUTCMinutes()),l(i.getUTCSeconds()),"Z"].join("")}else if(t==="utctime"){r=[i.getFullYear()%100,l(i.getUTCMonth()+1),l(i.getUTCDate()),l(i.getUTCHours()),l(i.getUTCMinutes()),l(i.getUTCSeconds()),"Z"].join("")}else{this.reporter.error("Encoding "+t+" time is not supported yet")}return this._encodeStr(r,"octstr")};h.prototype._encodeNull=function g(){return this._createEncoderBuffer("")};h.prototype._encodeInt=function m(e,t){if(typeof e==="string"){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e)){return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e))}e=t[e]}if(s!==null&&e instanceof s){var r=e.toArray();if(e.sign===false&&r[0]&128){r.unshift(0)}e=new a(r)}if(a.isBuffer(e)){var i=e.length;if(e.length===0)i++;var n=new a(i);e.copy(n);if(e.length===0)n[0]=0;return this._createEncoderBuffer(n)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);var i=1;for(var o=e;o>=256;o>>=8)i++;var n=new Array(i);for(var o=n.length-1;o>=0;o--){n[o]=e&255;e>>=8}if(n[0]&128){n.unshift(0)}return this._createEncoderBuffer(new a(n))};h.prototype._encodeBool=function x(e){return this._createEncoderBuffer(e?255:0)};h.prototype._use=function _(e,t){if(typeof e==="function")e=e(t);return e._getEncoder("der").tree};h.prototype._skipDefault=function w(e,t,r){var i=this._baseState;var a;if(i["default"]===null)return false;var n=e.join();if(i.defaultBuffer===undefined)i.defaultBuffer=this._encodeValue(i["default"],t,r).join();if(n.length!==i.defaultBuffer.length)return false;for(a=0;a<n.length;a++)if(n[a]!==i.defaultBuffer[a])return false;return true};function f(e,t,r,i){var a;if(e==="seqof")e="seq";else if(e==="setof")e="set";if(d.tagByName.hasOwnProperty(e))a=d.tagByName[e];else if(typeof e==="number"&&(e|0)===e)a=e;else return i.error("Unknown tag: "+e);if(a>=31)return i.error("Multi-octet tag encoding unsupported");if(!t)a|=32;a|=d.tagClassByName[r||"universal"]<<6;return a}},{"../../asn1":36,buffer:3,util:132}],47:[function(e,t,r){var i=r;i.der=e("./der")},{"./der":46}],48:[function(e,t,r){function i(e,t){if(!e)throw new Error(t||"Assertion failed")}function a(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype;e.prototype=new r;e.prototype.constructor=e}function o(e,t){if(e!==null&&typeof e==="object"&&Array.isArray(e.words)){return e}this.sign=false;this.words=null;this.length=0;this.red=null;if(e!==null)this._init(e||0,t||10)}if(typeof t==="object")t.exports=o;o.BN=o;o.wordSize=26;o.prototype._init=function g(e,t){if(typeof e==="number"){if(e<0){this.sign=true;e=-e}if(e<67108864){this.words=[e&67108863];this.length=1}else{this.words=[e&67108863,e/67108864&67108863];this.length=2}return}else if(typeof e==="object"){i(typeof e.length==="number");this.length=Math.ceil(e.length/3);this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var a=0;for(var r=e.length-1,n=0;r>=0;r-=3){var o=e[r]|e[r-1]<<8|e[r-2]<<16;this.words[n]|=o<<a&67108863;this.words[n+1]=o>>>26-a&67108863;a+=24;if(a>=26){a-=26;n++}}return this.strip()}if(t==="hex")t=16;i(t===(t|0)&&t>=2&&t<=36);e=e.toString().replace(/\s+/g,"");var s=0;if(e[0]==="-")s++;if(t===16)this._parseHex(e,s);else this._parseBase(e,t,s);if(e[0]==="-")this.sign=true;this.strip()};o.prototype._parseHex=function m(e,t){this.length=Math.ceil((e.length-t)/6);this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i=0;for(var r=e.length-6,a=0;r>=t;r-=6){var n=parseInt(e.slice(r,r+6),16);this.words[a]|=n<<i&67108863;this.words[a+1]|=n>>>26-i&4194303;i+=24;if(i>=26){i-=26;a++}}if(r+6!==t){var n=parseInt(e.slice(t,r+6),16);this.words[a]|=n<<i&67108863;this.words[a+1]|=n>>>26-i&4194303}this.strip()};o.prototype._parseBase=function x(e,t,r){this.words=[0];this.length=1;var a=0;var n=1;var s=0;var d=null;for(var c=r;c<e.length;c++){var h;var l=e[c];if(t===10||l<="9")h=l|0;else if(l>="a")h=l.charCodeAt(0)-97+10;else h=l.charCodeAt(0)-65+10;a*=t;a+=h;n*=t;s++;if(n>1048575){i(n<=67108863);if(!d)d=new o(n);this.mul(d).copy(this);this.iadd(new o(a));a=0;n=1;s=0}}if(s!==0){this.mul(new o(n)).copy(this);this.iadd(new o(a))}};o.prototype.copy=function _(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length;e.sign=this.sign;e.red=this.red};o.prototype.clone=function w(){var e=new o(null);this.copy(e);return e};o.prototype.strip=function T(){while(this.length>1&&this.words[this.length-1]===0)this.length--;return this._normSign()};o.prototype._normSign=function S(){if(this.length===1&&this.words[0]===0)this.sign=false;return this};o.prototype.inspect=function A(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var s=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"];var d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5];var c=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function C(e,t){e=e||10;if(e===16||e==="hex"){var r="";var a=0;var t=t|0||1;var n=0;for(var o=0;o<this.length;o++){var h=this.words[o];var l=((h<<a|n)&16777215).toString(16);n=h>>>24-a&16777215;if(n!==0||o!==this.length-1)r=s[6-l.length]+l+r;else r=l+r;a+=2;if(a>=26){a-=26;o--}}if(n!==0)r=n.toString(16)+r;while(r.length%t!==0)r="0"+r;if(this.sign)r="-"+r;return r}else if(e===(e|0)&&e>=2&&e<=36){var f=d[e];var u=c[e];var r="";var p=this.clone();p.sign=false;while(p.cmpn(0)!==0){var b=p.modn(u).toString(e);p=p.idivn(u);if(p.cmpn(0)!==0)r=s[f-b.length]+b+r;else r=b+r}if(this.cmpn(0)===0)r="0"+r;if(this.sign)r="-"+r;return r}else{i(false,"Base should be between 2 and 36")}};o.prototype.toJSON=function E(){return this.toString(16)};o.prototype.toArray=function M(){this.strip();var e=new Array(this.byteLength());e[0]=0;var t=this.clone();for(var r=0;t.cmpn(0)!==0;r++){var i=t.andln(255);t.ishrn(8);e[e.length-r-1]=i}return e};o.prototype._countBits=function R(e){return e>=33554432?26:e>=16777216?25:e>=8388608?24:e>=4194304?23:e>=2097152?22:e>=1048576?21:e>=524288?20:e>=262144?19:e>=131072?18:e>=65536?17:e>=32768?16:e>=16384?15:e>=8192?14:e>=4096?13:e>=2048?12:e>=1024?11:e>=512?10:e>=256?9:e>=128?8:e>=64?7:e>=32?6:e>=16?5:e>=8?4:e>=4?3:e>=2?2:e>=1?1:0};o.prototype.bitLength=function $(){var e=0;var t=this.words[this.length-1];var e=this._countBits(t);return(this.length-1)*26+e};o.prototype.byteLength=function B(){var e=0;var t=this.words[this.length-1];return Math.ceil(this.bitLength()/8)};o.prototype.neg=function L(){if(this.cmpn(0)===0)return this.clone();var e=this.clone();e.sign=!this.sign;return e};o.prototype.iadd=function I(e){if(this.sign&&!e.sign){this.sign=false;var t=this.isub(e);this.sign=!this.sign;return this._normSign()}else if(!this.sign&&e.sign){e.sign=false;var t=this.isub(e);e.sign=true;return t._normSign()}var r;var i;if(this.length>e.length){r=this;i=e}else{r=e;i=this}var a=0;for(var n=0;n<i.length;n++){var t=r.words[n]+i.words[n]+a;this.words[n]=t&67108863;a=t>>>26}for(;a!==0&&n<r.length;n++){var t=r.words[n]+a;this.words[n]=t&67108863;a=t>>>26}this.length=r.length;if(a!==0){this.words[this.length]=a;this.length++}else if(r!==this){for(;n<r.length;n++)this.words[n]=r.words[n]}return this};o.prototype.add=function j(e){if(e.sign&&!this.sign){e.sign=false;var t=this.sub(e);e.sign=true;return t}else if(!e.sign&&this.sign){this.sign=false;var t=e.sub(this);this.sign=true;return t}if(this.length>e.length)return this.clone().iadd(e);else return e.clone().iadd(this)};o.prototype.isub=function F(e){if(e.sign){e.sign=false;var t=this.iadd(e);e.sign=true;return t._normSign()}else if(this.sign){this.sign=false;this.iadd(e);this.sign=true;return this._normSign()}var r=this.cmp(e);if(r===0){this.sign=false;this.length=1;this.words[0]=0;return this}if(r>0){var i=this;var a=e}else{var i=e;var a=this}var n=0;for(var o=0;o<a.length;o++){var t=i.words[o]-a.words[o]-n;if(t<0){t+=67108864;n=1}else{n=0}this.words[o]=t}for(;n!==0&&o<i.length;o++){var t=i.words[o]-n;if(t<0){t+=67108864;n=1}else{n=0}this.words[o]=t}if(n===0&&o<i.length&&i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];this.length=Math.max(this.length,o);if(i!==this)this.sign=true;return this.strip()};o.prototype.sub=function P(e){return this.clone().isub(e)};o.prototype._smallMulTo=function k(e,t){t.sign=e.sign!==this.sign;t.length=this.length+e.length;var r=0;for(var i=0;i<t.length-1;i++){var a=r>>>26;var n=r&67108863;var o=Math.min(i,e.length-1);for(var s=Math.max(0,i-this.length+1);s<=o;s++){var d=i-s;var c=this.words[d]|0;var h=e.words[s]|0;var l=c*h;var f=l&67108863;a=a+(l/67108864|0)|0;f=f+n|0;n=f&67108863;a=a+(f>>>26)|0}t.words[i]=n;r=a}if(r!==0){t.words[i]=r}else{t.length--}return t.strip()};o.prototype._bigMulTo=function D(e,t){t.sign=e.sign!==this.sign;t.length=this.length+e.length;var r=0;var i=0;for(var a=0;a<t.length-1;a++){var n=i;i=0;var o=r&67108863;var s=Math.min(a,e.length-1);for(var d=Math.max(0,a-this.length+1);d<=s;d++){var c=a-d;var h=this.words[c]|0;var l=e.words[d]|0;var f=h*l;var u=f&67108863;n=n+(f/67108864|0)|0;u=u+o|0;o=u&67108863;n=n+(u>>>26)|0;i+=n>>>26;n&=67108863}t.words[a]=o;r=n;n=i}if(r!==0){t.words[a]=r}else{t.length--}return t.strip()};o.prototype.mulTo=function O(e,t){var r;if(this.length+e.length<63)r=this._smallMulTo(e,t);else r=this._bigMulTo(e,t);return r};o.prototype.mul=function N(e){var t=new o(null);t.words=new Array(this.length+e.length);return this.mulTo(e,t)};o.prototype.imul=function U(e){if(this.cmpn(0)===0||e.cmpn(0)===0){this.words[0]=0;this.length=1;return this}var t=this.length;var r=e.length;this.sign=e.sign!==this.sign;this.length=this.length+e.length;this.words[this.length-1]=0;var i=0;for(var a=this.length-2;a>=0;a--){var n=0;var o=0;var s=Math.min(a,r-1);for(var d=Math.max(0,a-t+1);d<=s;d++){var c=a-d;var h=this.words[c];var l=e.words[d];var f=h*l;var u=f&67108863;n+=f/67108864|0;u+=o;o=u&67108863;n+=u>>>26}this.words[a]=o;this.words[a+1]+=n;n=0}var n=0;for(var c=1;c<this.length;c++){var p=this.words[c]+n;this.words[c]=p&67108863;n=p>>>26}return this.strip()};o.prototype.sqr=function G(){return this.mul(this)};o.prototype.isqr=function W(){return this.mul(this)};o.prototype.ishln=function Y(e){i(typeof e==="number"&&e>=0);var t=e%26;var r=(e-t)/26;var a=67108863>>>26-t<<26-t;var n=this.clone();if(t!==0){var o=0;for(var s=0;s<this.length;s++){var d=this.words[s]&a;var c=this.words[s]-d<<t;this.words[s]=c|o;o=d>>>26-t}if(o){this.words[s]=o;this.length++}}if(r!==0){for(var s=this.length-1;s>=0;s--)this.words[s+r]=this.words[s];for(var s=0;s<r;s++)this.words[s]=0;this.length+=r}return this.strip()};o.prototype.ishrn=function z(e,t,r){i(typeof e==="number"&&e>=0);if(t)t=(t-t%26)/26;else t=0;var a=e%26;var n=Math.min((e-a)/26,this.length);var o=67108863^67108863>>>a<<a;var s=r;t-=n;t=Math.max(0,t);if(s){for(var d=0;d<n;d++)s.words[d]=this.words[d];s.length=n}if(n===0){}else if(this.length>n){this.length-=n;for(var d=0;d<this.length;d++)this.words[d]=this.words[d+n]}else{this.words[0]=0;this.length=1}var c=0;for(var d=this.length-1;d>=0&&(c!==0||d>=t);d--){var h=this.words[d];this.words[d]=c<<26-a|h>>>a;c=h&o}if(s&&c!==0)s.words[s.length++]=c;if(this.length===0){this.words[0]=0;this.length=1}this.strip();if(r)return{hi:this,lo:s};return this};o.prototype.shln=function V(e){return this.clone().ishln(e)};o.prototype.shrn=function X(e){return this.clone().ishrn(e)};o.prototype.testn=function q(e){i(typeof e==="number"&&e>=0);var t=e%26;var r=(e-t)/26;var a=1<<t;if(this.length<=r){return false}var n=this.words[r];return!!(n&a)};o.prototype.imaskn=function H(e){i(typeof e==="number"&&e>=0);var t=e%26;var r=(e-t)/26;i(!this.sign,"imaskn works only with positive numbers");if(t!==0)r++;this.length=Math.min(r,this.length);if(t!==0){var a=67108863^67108863>>>t<<t;this.words[this.length-1]&=a}return this.strip()};o.prototype.maskn=function K(e){return this.clone().imaskn(e)};o.prototype.iaddn=function J(e){i(typeof e==="number");if(e<0)return this.isubn(-e);if(this.sign){if(this.length===1&&this.words[0]<e){this.words[0]=e-this.words[0];this.sign=false;return this}this.sign=false;this.isubn(e);this.sign=true;return this}this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++){this.words[t]-=67108864;if(t===this.length-1)this.words[t+1]=1;else this.words[t+1]++}this.length=Math.max(this.length,t+1);return this};o.prototype.isubn=function Q(e){i(typeof e==="number");if(e<0)return this.iaddn(-e);if(this.sign){this.sign=false;this.iaddn(e);this.sign=true;return this}this.words[0]-=e;for(var t=0;t<this.length&&this.words[t]<0;t++){this.words[t]+=67108864;this.words[t+1]-=1}return this.strip()};o.prototype.addn=function Z(e){return this.clone().iaddn(e)};o.prototype.subn=function et(e){return this.clone().isubn(e)};o.prototype.iabs=function tt(){this.sign=false;return this};o.prototype.abs=function rt(){return this.clone().iabs()};o.prototype._wordDiv=function it(e,t){var r=this.length-e.length;var i=this.clone();var a=e;var n=t!=="mod"&&new o(0);var s=false;while(i.length>a.length){var d=i.words[i.length-1]*67108864+i.words[i.length-2];var c=d/a.words[a.length-1];var h=c/67108864|0;var l=c&67108863;c=new o(null);c.words=[l,h];c.length=2;var r=(i.length-a.length-1)*26;if(n){var f=c.shln(r);if(i.sign)n.isub(f);else n.iadd(f)}c=c.mul(a).ishln(r);if(i.sign)i.iadd(c);else i.isub(c)}while(i.ucmp(a)>=0){var d=i.words[i.length-1];var c=new o(d/a.words[a.length-1]|0);var r=(i.length-a.length)*26;if(n){var f=c.shln(r);if(i.sign)n.isub(f);else n.iadd(f)}c=c.mul(a).ishln(r);if(i.sign)i.iadd(c);else i.isub(c)}if(i.sign){if(n)n.isubn(1);i.iadd(a)}return{div:n?n:null,mod:i}};o.prototype.divmod=function at(e,t){i(e.cmpn(0)!==0);if(this.sign&&!e.sign){var r=this.neg().divmod(e,t);var a;var n;if(t!=="mod")a=r.div.neg();if(t!=="div")n=r.mod.cmpn(0)===0?r.mod:e.sub(r.mod);return{div:a,mod:n}}else if(!this.sign&&e.sign){var r=this.divmod(e.neg(),t);var a;if(t!=="mod")a=r.div.neg();return{div:a,mod:r.mod}}else if(this.sign&&e.sign){return this.neg().divmod(e.neg(),t)}if(e.length>this.length||this.cmp(e)<0)return{div:new o(0),mod:this};if(e.length===1){if(t==="div")return{div:this.divn(e.words[0]),mod:null};else if(t==="mod")return{div:null,mod:new o(this.modn(e.words[0]))};return{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}}return this._wordDiv(e,t)};o.prototype.div=function nt(e){return this.divmod(e,"div").div};o.prototype.mod=function ot(e){return this.divmod(e,"mod").mod};o.prototype.divRound=function st(e){var t=this.divmod(e);if(t.mod.cmpn(0)===0)return t.div;var r=t.div.sign?t.mod.isub(e):t.mod;var i=e.shrn(1);var a=e.andln(1);var n=r.cmp(i);if(n<0||a===1&&n===0)return t.div;return t.div.sign?t.div.isubn(1):t.div.iaddn(1)};o.prototype.modn=function dt(e){i(e<=67108863);var t=(1<<26)%e;var r=0;for(var a=this.length-1;a>=0;a--)r=(t*r+this.words[a])%e;return r};o.prototype.idivn=function ct(e){i(e<=67108863);var t=0;for(var r=this.length-1;r>=0;r--){var a=this.words[r]+t*67108864;this.words[r]=a/e|0;t=a%e}return this.strip()};o.prototype.divn=function ht(e){return this.clone().idivn(e)};o.prototype._egcd=function lt(e,t){i(!t.sign);i(t.cmpn(0)!==0);var r=this;var a=t.clone();if(r.sign)r=r.mod(t);else r=r.clone();var n=new o(0);while(a.isEven())a.ishrn(1);var s=a.clone();while(r.cmpn(1)>0&&a.cmpn(1)>0){while(r.isEven()){r.ishrn(1);if(e.isEven())e.ishrn(1);else e.iadd(s).ishrn(1)}while(a.isEven()){a.ishrn(1);if(n.isEven())n.ishrn(1);else n.iadd(s).ishrn(1)}if(r.cmp(a)>=0){r.isub(a);e.isub(n)}else{a.isub(r);n.isub(e)}}if(r.cmpn(1)===0)return e;else return n};o.prototype.gcd=function ft(e){if(this.cmpn(0)===0)return e.clone();if(e.cmpn(0)===0)return this.clone();var t=this.clone();var r=e.clone();t.sign=false;r.sign=false;for(var i=0;t.isEven()&&r.isEven();i++){t.ishrn(1);r.ishrn(1)}while(t.isEven())t.ishrn(1);do{while(r.isEven())r.ishrn(1);if(t.cmp(r)<0){var a=t;t=r;r=a}t.isub(t.div(r).mul(r))}while(t.cmpn(0)!==0&&r.cmpn(0)!==0);if(t.cmpn(0)===0)return r.ishln(i);else return t.ishln(i)};o.prototype.invm=function ut(e){return this._egcd(new o(1),e).mod(e)};o.prototype.isEven=function pt(e){return(this.words[0]&1)===0};o.prototype.isOdd=function bt(e){return(this.words[0]&1)===1};o.prototype.andln=function yt(e){return this.words[0]&e};o.prototype.bincn=function vt(e){i(typeof e==="number");var t=e%26;var r=(e-t)/26;var a=1<<t;if(this.length<=r){for(var n=this.length;n<r+1;n++)this.words[n]=0;this.words[r]|=a;this.length=r+1;return this}var o=a;for(var n=r;o!==0&&n<this.length;n++){var s=this.words[n];s+=o;o=s>>>26;s&=67108863;this.words[n]=s}if(o!==0){this.words[n]=o;this.length++}return this};o.prototype.cmpn=function gt(e){var t=e<0;if(t)e=-e;if(this.sign&&!t)return-1;else if(!this.sign&&t)return 1;e&=67108863;this.strip();var r;if(this.length>1){r=1}else{var i=this.words[0];r=i===e?0:i<e?-1:1}if(this.sign)r=-r;return r};o.prototype.cmp=function mt(e){if(this.sign&&!e.sign)return-1;else if(!this.sign&&e.sign)return 1;var t=this.ucmp(e);if(this.sign)return-t;else return t};o.prototype.ucmp=function xt(e){if(this.length>e.length)return 1;else if(this.length<e.length)return-1;var t=0;for(var r=this.length-1;r>=0;r--){var i=this.words[r];var a=e.words[r];if(i===a)continue;if(i<a)t=-1;else if(i>a)t=1;break}return t};o.red=function _t(e){return new y(e)};o.prototype.toRed=function wt(e){i(!this.red,"Already a number in reduction context");i(!this.sign,"red works only with positives");return e.convertTo(this)._forceRed(e)};o.prototype.fromRed=function Tt(){i(this.red,"fromRed works only with numbers in reduction context");return this.red.convertFrom(this)};o.prototype._forceRed=function St(e){this.red=e;return this};o.prototype.forceRed=function At(e){i(!this.red,"Already a number in reduction context");return this._forceRed(e)};o.prototype.redAdd=function Ct(e){i(this.red,"redAdd works only with red numbers");return this.red.add(this,e)};o.prototype.redIAdd=function Et(e){i(this.red,"redIAdd works only with red numbers");return this.red.iadd(this,e)};o.prototype.redSub=function Mt(e){i(this.red,"redSub works only with red numbers");return this.red.sub(this,e)};o.prototype.redISub=function Rt(e){i(this.red,"redISub works only with red numbers");return this.red.isub(this,e)};o.prototype.redShl=function $t(e){i(this.red,"redShl works only with red numbers");return this.red.shl(this,e)};o.prototype.redMul=function Bt(e){i(this.red,"redMul works only with red numbers");this.red._verify2(this,e);return this.red.mul(this,e)};o.prototype.redIMul=function Lt(e){i(this.red,"redMul works only with red numbers");this.red._verify2(this,e);return this.red.imul(this,e)};o.prototype.redSqr=function It(){i(this.red,"redSqr works only with red numbers");this.red._verify1(this);return this.red.sqr(this)};o.prototype.redISqr=function jt(){i(this.red,"redISqr works only with red numbers");this.red._verify1(this);return this.red.isqr(this)};o.prototype.redSqrt=function Ft(){i(this.red,"redSqrt works only with red numbers");this.red._verify1(this);return this.red.sqrt(this)};o.prototype.redInvm=function Pt(){i(this.red,"redInvm works only with red numbers");this.red._verify1(this);return this.red.invm(this)};o.prototype.redNeg=function kt(){i(this.red,"redNeg works only with red numbers");this.red._verify1(this);return this.red.neg(this)};o.prototype.redPow=function Dt(e){i(this.red&&!e.red,"redPow(normalNum)");this.red._verify1(this);return this.red.pow(this,e)};var h={k256:null,p224:null,p192:null,p25519:null};function l(e,t){this.name=e;this.p=new o(t,16);this.n=this.p.bitLength();this.k=new o(1).ishln(this.n).isub(this.p);this.tmp=this._tmp()}l.prototype._tmp=function Ot(){var e=new o(null);e.words=new Array(Math.ceil(this.n/13));return e};l.prototype.ireduce=function Nt(e){var t=e;var r;do{var i=t.ishrn(this.n,0,this.tmp);t=this.imulK(i.hi);t=t.iadd(i.lo);r=t.bitLength()}while(r>this.n);var a=r<this.n?-1:t.cmp(this.p);if(a===0){t.words[0]=0;t.length=1}else if(a>0){t.isub(this.p)}else{t.strip()}return t};l.prototype.imulK=function Ut(e){return e.imul(this.k)};function f(){l.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(f,l);f.prototype.imulK=function Gt(e){e.words[e.length]=0;e.words[e.length+1]=0;e.length+=2;for(var t=e.length-3;t>=0;t--){var r=e.words[t];var i=r*64;var a=r*977;i+=a/67108864|0;var n=i/67108864|0;i&=67108863;a&=67108863;e.words[t+2]+=n;e.words[t+1]+=i;e.words[t]=a}var r=e.words[e.length-2];if(r>=67108864){e.words[e.length-1]+=r>>>26;e.words[e.length-2]=r&67108863}if(e.words[e.length-1]===0)e.length--;if(e.words[e.length-1]===0)e.length--;return e};function u(){l.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(u,l);function p(){l.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(p,l);function b(){l.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(b,l);b.prototype.imulK=function Wt(e){var t=0;for(var r=0;r<e.length;r++){var i=e.words[r]*19+t;var a=i&67108863;i>>>=26;e.words[r]=a;t=i}if(t!==0)e.words[e.length++]=t;return e};o._prime=function Yt(e){if(h[e])return h[e];var Yt;if(e==="k256")Yt=new f;else if(e==="p224")Yt=new u;else if(e==="p192")Yt=new p;else if(e==="p25519")Yt=new b;else throw new Error("Unknown prime "+e);h[e]=Yt;return Yt};function y(e){if(typeof e==="string"){var t=o._prime(e);this.m=t.p;this.prime=t}else{this.m=e;this.prime=null}}y.prototype._verify1=function zt(e){i(!e.sign,"red works only with positives");i(e.red,"red works only with red numbers")};y.prototype._verify2=function Vt(e,t){i(!e.sign&&!t.sign,"red works only with positives");i(e.red&&e.red===t.red,"red works only with red numbers")};y.prototype.imod=function Xt(e){if(this.prime)return this.prime.ireduce(e)._forceRed(this);return e.mod(this.m)._forceRed(this)};y.prototype.neg=function qt(e){var t=e.clone();t.sign=!t.sign;return t.iadd(this.m)._forceRed(this)};y.prototype.add=function Ht(e,t){this._verify2(e,t);var r=e.add(t);if(r.cmp(this.m)>=0)r.isub(this.m);return r._forceRed(this)};y.prototype.iadd=function Kt(e,t){this._verify2(e,t);var r=e.iadd(t);if(r.cmp(this.m)>=0)r.isub(this.m);return r};y.prototype.sub=function Jt(e,t){this._verify2(e,t);var r=e.sub(t);if(r.cmpn(0)<0)r.iadd(this.m);return r._forceRed(this)};y.prototype.isub=function Qt(e,t){this._verify2(e,t);var r=e.isub(t);if(r.cmpn(0)<0)r.iadd(this.m);return r};y.prototype.shl=function Zt(e,t){this._verify1(e);return this.imod(e.shln(t))};y.prototype.imul=function er(e,t){this._verify2(e,t);return this.imod(e.imul(t))};y.prototype.mul=function tr(e,t){this._verify2(e,t);return this.imod(e.mul(t))};y.prototype.isqr=function rr(e){return this.imul(e,e)};y.prototype.sqr=function ir(e){return this.mul(e,e)};y.prototype.sqrt=function ar(e){if(e.cmpn(0)===0)return e.clone();var t=this.m.andln(3);i(t%2===1);if(t===3){var r=this.m.add(new o(1)).ishrn(2);var a=this.pow(e,r);return a}var n=this.m.subn(1);var s=0;while(n.cmpn(0)!==0&&n.andln(1)===0){s++;n.ishrn(1)}i(n.cmpn(0)!==0);var d=new o(1).toRed(this);var c=d.redNeg();var h=this.m.subn(1).ishrn(1);var l=this.m.bitLength();l=new o(2*l*l).toRed(this);while(this.pow(l,h).cmp(c)!==0)l.redIAdd(c);var f=this.pow(l,n);var a=this.pow(e,n.addn(1).ishrn(1));var u=this.pow(e,n);var p=s;while(u.cmp(d)!==0){var b=u;for(var y=0;b.cmp(d)!==0;y++)b=b.redSqr();i(y<p);var v=this.pow(f,new o(1).ishln(p-y-1));a=a.redMul(v);f=v.redSqr();
u=u.redMul(f);p=y}return a};y.prototype.invm=function nr(e){var t=e._egcd(new o(1),this.m);if(t.sign){t.sign=false;return this.imod(t).redNeg()}else{return this.imod(t)}};y.prototype.pow=function or(e,t){var r=[];var i=t.clone();while(i.cmpn(0)!==0){r.push(i.andln(1));i.ishrn(1)}var a=e;for(var n=0;n<r.length;n++,a=this.sqr(a))if(r[n]!==0)break;if(++n<r.length){for(var i=this.sqr(a);n<r.length;n++,i=this.sqr(i)){if(r[n]===0)continue;a=this.mul(a,i)}}return a};y.prototype.convertTo=function sr(e){return e.clone()};y.prototype.convertFrom=function dr(e){var t=e.clone();t.red=null;return t};o.mont=function cr(e){return new v(e)};function v(e){y.call(this,e);this.shift=this.m.bitLength();if(this.shift%26!==0)this.shift+=26-this.shift%26;this.r=new o(1).ishln(this.shift);this.r2=this.imod(this.r.sqr());this.rinv=this.r.invm(this.m);this.minv=this.rinv.mul(this.r).sub(new o(1)).div(this.m).neg().mod(this.r)}n(v,y);v.prototype.convertTo=function hr(e){return this.imod(e.shln(this.shift))};v.prototype.convertFrom=function lr(e){var t=this.imod(e.mul(this.rinv));t.red=null;return t};v.prototype.imul=function fr(e,t){if(e.cmpn(0)===0||t.cmpn(0)===0){e.words[0]=0;e.length=1;return e}var r=e.imul(t);var i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var a=r.isub(i).ishrn(this.shift);var n=a;if(a.cmp(this.m)>=0)n=a.isub(this.m);else if(a.cmpn(0)<0)n=a.iadd(this.m);return n._forceRed(this)};v.prototype.mul=function ur(e,t){if(e.cmpn(0)===0||t.cmpn(0)===0)return new o(0)._forceRed(this);var r=e.mul(t);var i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var a=r.isub(i).ishrn(this.shift);var n=a;if(a.cmp(this.m)>=0)n=a.isub(this.m);else if(a.cmpn(0)<0)n=a.iadd(this.m);return n._forceRed(this)};v.prototype.invm=function pr(e){var t=this.imod(e.invm(this.m).mul(this.r2));return t._forceRed(this)}},{}],49:[function(e,t,r){var i=r;i.version=e("../package.json").version;i.utils=e("./elliptic/utils");i.rand=e("brorand");i.hmacDRBG=e("./elliptic/hmac-drbg");i.curve=e("./elliptic/curve");i.curves=e("./elliptic/curves");i.ec=e("./elliptic/ec")},{"../package.json":68,"./elliptic/curve":52,"./elliptic/curves":55,"./elliptic/ec":56,"./elliptic/hmac-drbg":59,"./elliptic/utils":60,brorand:61}],50:[function(e,t,r){var i=e("assert");var a=e("bn.js");var n=e("../../elliptic");var o=n.utils.getNAF;var s=n.utils.getJSF;function d(e,t){this.type=e;this.p=new a(t.p,16);this.red=t.prime?a.red(t.prime):a.mont(this.p);this.zero=new a(0).toRed(this.red);this.one=new a(1).toRed(this.red);this.two=new a(2).toRed(this.red);this.n=t.n&&new a(t.n,16);this.g=t.g&&this.pointFromJSON(t.g,t.gRed);this._wnafT1=new Array(4);this._wnafT2=new Array(4);this._wnafT3=new Array(4);this._wnafT4=new Array(4)}t.exports=d;d.prototype.point=function h(){throw new Error("Not implemented")};d.prototype.validate=function l(e){throw new Error("Not implemented")};d.prototype._fixedNafMul=function f(e,t){var r=e._getDoubles();var i=o(t,1);var a=(1<<r.step+1)-(r.step%2===0?2:1);a/=3;var n=[];for(var s=0;s<i.length;s+=r.step){var d=0;for(var t=s+r.step-1;t>=s;t--)d=(d<<1)+i[t];n.push(d)}var c=this.jpoint(null,null,null);var h=this.jpoint(null,null,null);for(var l=a;l>0;l--){for(var s=0;s<n.length;s++){var d=n[s];if(d===l)h=h.mixedAdd(r.points[s]);else if(d===-l)h=h.mixedAdd(r.points[s].neg())}c=c.add(h)}return c.toP()};d.prototype._wnafMul=function u(e,t){var r=4;var a=e._getNAFPoints(r);r=a.wnd;var n=a.points;var s=o(t,r);var d=this.jpoint(null,null,null);for(var c=s.length-1;c>=0;c--){for(var t=0;c>=0&&s[c]===0;c--)t++;if(c>=0)t++;d=d.dblp(t);if(c<0)break;var h=s[c];i(h!==0);if(e.type==="affine"){if(h>0)d=d.mixedAdd(n[h-1>>1]);else d=d.mixedAdd(n[-h-1>>1].neg())}else{if(h>0)d=d.add(n[h-1>>1]);else d=d.add(n[-h-1>>1].neg())}}return e.type==="affine"?d.toP():d};d.prototype._wnafMulAdd=function p(e,t,r,i){var a=this._wnafT1;var n=this._wnafT2;var d=this._wnafT3;var c=0;for(var h=0;h<i;h++){var l=t[h];var f=l._getNAFPoints(e);a[h]=f.wnd;n[h]=f.points}for(var h=i-1;h>=1;h-=2){var u=h-1;var p=h;if(a[u]!==1||a[p]!==1){d[u]=o(r[u],a[u]);d[p]=o(r[p],a[p]);c=Math.max(d[u].length,c);c=Math.max(d[p].length,c);continue}var b=[t[u],null,null,t[p]];if(t[u].y.cmp(t[p].y)===0){b[1]=t[u].add(t[p]);b[2]=t[u].toJ().mixedAdd(t[p].neg())}else if(t[u].y.cmp(t[p].y.redNeg())===0){b[1]=t[u].toJ().mixedAdd(t[p]);b[2]=t[u].add(t[p].neg())}else{b[1]=t[u].toJ().mixedAdd(t[p]);b[2]=t[u].toJ().mixedAdd(t[p].neg())}var y=[-3,-1,-5,-7,0,7,5,1,3];var v=s(r[u],r[p]);c=Math.max(v[0].length,c);d[u]=new Array(c);d[p]=new Array(c);for(var g=0;g<c;g++){var m=v[0][g]|0;var x=v[1][g]|0;d[u][g]=y[(m+1)*3+(x+1)];d[p][g]=0;n[u]=b}}var _=this.jpoint(null,null,null);var w=this._wnafT4;for(var h=c;h>=0;h--){var T=0;while(h>=0){var S=true;for(var g=0;g<i;g++){w[g]=d[g][h]|0;if(w[g]!==0)S=false}if(!S)break;T++;h--}if(h>=0)T++;_=_.dblp(T);if(h<0)break;for(var g=0;g<i;g++){var A=w[g];var l;if(A===0)continue;else if(A>0)l=n[g][A-1>>1];else if(A<0)l=n[g][-A-1>>1].neg();if(l.type==="affine")_=_.mixedAdd(l);else _=_.add(l)}}for(var h=0;h<i;h++)n[h]=null;return _.toP()};d.BasePoint=c;function c(e,t){this.curve=e;this.type=t;this.precomputed=null}c.prototype.validate=function b(){return this.curve.validate(this)};c.prototype.precompute=function y(e,t){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};r.naf=this._getNAFPoints(8);r.doubles=this._getDoubles(4,e);r.beta=this._getBeta();this.precomputed=r;return this};c.prototype._getDoubles=function v(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;var r=[this];var i=this;for(var a=0;a<t;a+=e){for(var n=0;n<e;n++)i=i.dbl();r.push(i)}return{step:e,points:r}};c.prototype._getNAFPoints=function g(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;var t=[this];var r=(1<<e)-1;var i=r===1?null:this.dbl();for(var a=1;a<r;a++)t[a]=t[a-1].add(i);return{wnd:e,points:t}};c.prototype._getBeta=function m(){return null};c.prototype.dblp=function x(e){var t=this;for(var r=0;r<e;r++)t=t.dbl();return t}},{"../../elliptic":49,assert:1,"bn.js":48}],51:[function(e,t,r){var i=e("assert");var a=e("../curve");var n=e("../../elliptic");var o=e("bn.js");var s=e("inherits");var d=a.base;var c=n.utils.getNAF;function h(e){this.twisted=e.a!=1;this.mOneA=this.twisted&&e.a==-1;this.extended=this.mOneA;d.call(this,"mont",e);this.a=new o(e.a,16).mod(this.red.m).toRed(this.red);this.c=new o(e.c,16).toRed(this.red);this.c2=this.c.redSqr();this.d=new o(e.d,16).toRed(this.red);this.dd=this.d.redAdd(this.d);i(!this.twisted||this.c.fromRed().cmpn(1)===0);this.oneC=e.c==1}s(h,d);t.exports=h;h.prototype._mulA=function f(e){if(this.mOneA)return e.redNeg();else return this.a.redMul(e)};h.prototype._mulC=function u(e){if(this.oneC)return e;else return this.c.redMul(e)};h.prototype.point=function p(e,t,r,i){return new l(this,e,t,r,i)};h.prototype.jpoint=function b(e,t,r,i){return this.point(e,t,r,i)};h.prototype.pointFromJSON=function y(e){return l.fromJSON(this,e)};h.prototype.pointFromX=function v(e,t){t=new o(t,16);if(!t.red)t=t.toRed(this.red);var r=t.redSqr();var i=this.c2.redSub(this.a.redMul(r));var n=this.one.redSub(this.c2.redMul(this.d).redMul(r));var s=i.redMul(n.redInvm()).redSqrt();var d=s.fromRed().isOdd();if(e&&!d||!e&&d)s=s.redNeg();return this.point(t,s,a.one)};h.prototype.validate=function g(e){if(e.isInfinity())return true;e.normalize();var t=e.x.redSqr();var r=e.y.redSqr();var i=t.redMul(this.a).redAdd(r);var a=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return i.cmp(a)===0};function l(e,t,r,i,a){d.BasePoint.call(this,e,"projective");if(t===null&&r===null&&i===null){this.x=this.curve.zero;this.y=this.curve.one;this.z=this.curve.one;this.t=this.curve.zero;this.zOne=true}else{this.x=new o(t,16);this.y=new o(r,16);this.z=i?new o(i,16):this.curve.one;this.t=a&&new o(a,16);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);if(this.t&&!this.t.red)this.t=this.t.toRed(this.curve.red);this.zOne=this.z===this.curve.one;if(this.curve.extended&&!this.t){this.t=this.x.redMul(this.y);if(!this.zOne)this.t=this.t.redMul(this.z.redInvm())}}}s(l,d.BasePoint);l.fromJSON=function m(e,t){return new l(e,t[0],t[1],t[2])};l.prototype.inspect=function x(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};l.prototype.isInfinity=function _(){return this.x.cmpn(0)===0&&this.y.cmp(this.z)===0};l.prototype._extDbl=function w(){var e=this.x.redSqr();var t=this.y.redSqr();var r=this.z.redSqr();r=r.redIAdd(r);var i=this.curve._mulA(e);var a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t);var n=i.redAdd(t);var o=n.redSub(r);var s=i.redSub(t);var d=a.redMul(o);var c=n.redMul(s);var h=a.redMul(s);var l=o.redMul(n);return this.curve.point(d,c,l,h)};l.prototype._projDbl=function T(){var e=this.x.redAdd(this.y).redSqr();var t=this.x.redSqr();var r=this.y.redSqr();if(this.curve.twisted){var i=this.curve._mulA(t);var a=i.redAdd(r);if(this.zOne){var n=e.redSub(t).redSub(r).redMul(a.redSub(this.curve.two));var o=a.redMul(i.redSub(r));var s=a.redSqr().redSub(a).redSub(a)}else{var d=this.z.redSqr();var c=a.redSub(d).redISub(d);var n=e.redSub(t).redISub(r).redMul(c);var o=a.redMul(i.redSub(r));var s=a.redMul(c)}}else{var i=t.redAdd(r);var d=this.curve._mulC(redMul(this.z)).redSqr();var c=i.redSub(d).redSub(d);var n=this.curve._mulC(e.redISub(i)).redMul(c);var o=this.curve._mulC(i).redMul(t.redISub(r));var s=i.redMul(c)}return this.curve.point(n,o,s)};l.prototype.dbl=function S(){if(this.isInfinity())return this;if(this.curve.extended)return this._extDbl();else return this._projDbl()};l.prototype._extAdd=function A(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x));var r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x));var i=this.t.redMul(this.curve.dd).redMul(e.t);var a=this.z.redMul(e.z.redAdd(e.z));var n=r.redSub(t);var o=a.redSub(i);var s=a.redAdd(i);var d=r.redAdd(t);var c=n.redMul(o);var h=s.redMul(d);var l=n.redMul(d);var f=o.redMul(s);return this.curve.point(c,h,f,l)};l.prototype._projAdd=function C(e){var t=this.z.redMul(e.z);var r=t.redSqr();var i=this.x.redMul(e.x);var a=this.y.redMul(e.y);var n=this.curve.d.redMul(i).redMul(a);var o=r.redSub(n);var s=r.redAdd(n);var d=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(a);var c=t.redMul(o).redMul(d);if(this.curve.twisted){var h=t.redMul(s).redMul(a.redSub(this.curve._mulA(i)));var l=o.redMul(s)}else{var h=t.redMul(s).redMul(a.redSub(i));var l=this.curve._mulC(o).redMul(s)}return this.curve.point(c,h,l)};l.prototype.add=function E(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.curve.extended)return this._extAdd(e);else return this._projAdd(e)};l.prototype.mul=function M(e){if(this.precomputed&&this.precomputed.doubles)return this.curve._fixedNafMul(this,e);else return this.curve._wnafMul(this,e)};l.prototype.mulAdd=function R(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2)};l.prototype.normalize=function $(){if(this.zOne)return this;var e=this.z.redInvm();this.x=this.x.redMul(e);this.y=this.y.redMul(e);if(this.t)this.t=this.t.redMul(e);this.z=this.curve.one;this.zOne=true;return this};l.prototype.neg=function B(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};l.prototype.getX=function L(){this.normalize();return this.x.fromRed()};l.prototype.getY=function I(){this.normalize();return this.y.fromRed()};l.prototype.toP=l.prototype.normalize;l.prototype.mixedAdd=l.prototype.add},{"../../elliptic":49,"../curve":52,assert:1,"bn.js":48,inherits:115}],52:[function(e,t,r){var i=r;i.base=e("./base");i.short=e("./short");i.mont=e("./mont");i.edwards=e("./edwards")},{"./base":50,"./edwards":51,"./mont":53,"./short":54}],53:[function(e,t,r){var i=e("assert");var a=e("../curve");var n=e("../../elliptic");var o=e("bn.js");var s=e("inherits");var d=a.base;var c=n.utils.getNAF;function h(e){d.call(this,"mont",e);this.a=new o(e.a,16).toRed(this.red);this.b=new o(e.b,16).toRed(this.red);this.i4=new o(4).toRed(this.red).redInvm();this.two=new o(2).toRed(this.red);this.a24=this.i4.redMul(this.a.redAdd(this.two))}s(h,d);t.exports=h;h.prototype.point=function f(e,t){return new l(this,e,t)};h.prototype.pointFromJSON=function u(e){return l.fromJSON(this,e)};h.prototype.validate=function p(e){var t=e.normalize().x;var r=t.redSqr();var i=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);var a=i.redSqrt();return a.redSqr().cmp(i)===0};function l(e,t,r){d.BasePoint.call(this,e,"projective");if(t===null&&r===null){this.x=this.curve.one;this.z=this.curve.zero}else{this.x=new o(t,16);this.z=new o(r,16);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red)}}s(l,d.BasePoint);l.prototype.precompute=function b(){};l.fromJSON=function y(e,t){return new l(e,t[0],t[1]||e.one)};l.prototype.inspect=function v(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};l.prototype.isInfinity=function g(){return this.z.cmpn(0)===0};l.prototype.dbl=function m(){var e=this.x.redAdd(this.z);var t=e.redSqr();var r=this.x.redSub(this.z);var i=r.redSqr();var a=t.redSub(i);var n=t.redMul(i);var o=a.redMul(i.redAdd(this.curve.a24.redMul(a)));return this.curve.point(n,o)};l.prototype.add=function x(e){throw new Error("Not supported on Montgomery curve")};l.prototype.diffAdd=function _(e,t){var r=this.x.redAdd(this.z);var i=this.x.redSub(this.z);var a=e.x.redAdd(e.z);var n=e.x.redSub(e.z);var o=n.redMul(r);var s=a.redMul(i);var d=t.z.redMul(o.redAdd(s).redSqr());var c=t.x.redMul(o.redISub(s).redSqr());return this.curve.point(d,c)};l.prototype.mul=function w(e){var t=e.clone();var r=this;var i=this.curve.point(null,null);var a=this;for(var n=[];t.cmpn(0)!==0;t.ishrn(1))n.push(t.andln(1));for(var o=n.length-1;o>=0;o--){if(n[o]===0){r=r.diffAdd(i,a);i=i.dbl()}else{i=r.diffAdd(i,a);r=r.dbl()}}return i};l.prototype.mulAdd=function T(){throw new Error("Not supported on Montgomery curve")};l.prototype.normalize=function S(){this.x=this.x.redMul(this.z.redInvm());this.z=this.curve.one;return this};l.prototype.getX=function A(){this.normalize();return this.x.fromRed()}},{"../../elliptic":49,"../curve":52,assert:1,"bn.js":48,inherits:115}],54:[function(e,t,r){var i=e("assert");var a=e("../curve");var n=e("../../elliptic");var o=e("bn.js");var s=e("inherits");var d=a.base;var c=n.utils.getNAF;function h(e){d.call(this,"short",e);this.a=new o(e.a,16).toRed(this.red);this.b=new o(e.b,16).toRed(this.red);this.tinv=this.two.redInvm();this.zeroA=this.a.fromRed().cmpn(0)===0;this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0;this.endo=this._getEndomorphism(e);this._endoWnafT1=new Array(4);this._endoWnafT2=new Array(4)}s(h,d);t.exports=h;h.prototype._getEndomorphism=function u(e){if(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)return;var t;var r;if(e.beta){t=new o(e.beta,16).toRed(this.red)}else{var a=this._getEndoRoots(this.p);t=a[0].cmp(a[1])<0?a[0]:a[1];t=t.toRed(this.red)}if(e.lambda){r=new o(e.lambda,16)}else{var n=this._getEndoRoots(this.n);if(this.g.mul(n[0]).x.cmp(this.g.x.redMul(t))===0){r=n[0]}else{r=n[1];i(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0)}}var s;if(e.basis){s=e.basis.map(function(e){return{a:new o(e.a,16),b:new o(e.b,16)}})}else{s=this._getEndoBasis(r)}return{beta:t,lambda:r,basis:s}};h.prototype._getEndoRoots=function p(e){var t=e===this.p?this.red:o.mont(e);var r=new o(2).toRed(t).redInvm();var i=r.redNeg();var a=new o(1).toRed(t);var n=new o(3).toRed(t).redNeg().redSqrt().redMul(r);var s=i.redAdd(n).fromRed();var d=i.redSub(n).fromRed();return[s,d]};h.prototype._getEndoBasis=function b(e){var t=this.n.shrn(Math.floor(this.n.bitLength()/2));var r=e;var i=this.n.clone();var a=new o(1);var n=new o(0);var s=new o(0);var d=new o(1);var c;var h;var l;var f;var u;var p;var b;var y=0;while(r.cmpn(0)!==0){var v=i.div(r);var g=i.sub(v.mul(r));var m=s.sub(v.mul(a));var x=d.sub(v.mul(n));if(!l&&g.cmp(t)<0){c=b.neg();h=a;l=g.neg();f=m}else if(l&&++y===2){break}b=g;i=r;r=g;s=a;a=m;d=n;n=x}u=g.neg();p=m;var _=l.sqr().add(f.sqr());var w=u.sqr().add(p.sqr());if(w.cmp(_)>=0){u=c;p=h}if(l.sign){l=l.neg();f=f.neg()}if(u.sign){u=u.neg();p=p.neg()}return[{a:l,b:f},{a:u,b:p}]};h.prototype._endoSplit=function y(e){var t=this.endo.basis;var r=t[0];var i=t[1];var a=i.b.mul(e).divRound(this.n);var n=r.b.neg().mul(e).divRound(this.n);var o=a.mul(r.a);var s=n.mul(i.a);var d=a.mul(r.b);var c=n.mul(i.b);var h=e.sub(o).sub(s);var l=d.add(c).neg();return{k1:h,k2:l}};h.prototype.point=function v(e,t,r){return new l(this,e,t,r)};h.prototype.pointFromX=function g(e,t){t=new o(t,16);if(!t.red)t=t.toRed(this.red);var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b);var i=r.redSqrt();var a=i.fromRed().isOdd();if(e&&!a||!e&&a)i=i.redNeg();return this.point(t,i)};h.prototype.jpoint=function m(e,t,r){return new f(this,e,t,r)};h.prototype.pointFromJSON=function x(e,t){return l.fromJSON(this,e,t)};h.prototype.validate=function _(e){if(e.inf)return true;var t=e.x;var r=e.y;var i=this.a.redMul(t);var a=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(a).cmpn(0)===0};h.prototype._endoWnafMulAdd=function w(e,t){var r=this._endoWnafT1;var i=this._endoWnafT2;for(var a=0;a<e.length;a++){var n=this._endoSplit(t[a]);var o=e[a];var s=o._getBeta();if(n.k1.sign){n.k1.sign=!n.k1.sign;o=o.neg(true)}if(n.k2.sign){n.k2.sign=!n.k2.sign;s=s.neg(true)}r[a*2]=o;r[a*2+1]=s;i[a*2]=n.k1;i[a*2+1]=n.k2}var d=this._wnafMulAdd(1,r,i,a*2);for(var c=0;c<a*2;c++){r[c]=null;i[c]=null}return d};function l(e,t,r,i){d.BasePoint.call(this,e,"affine");if(t===null&&r===null){this.x=null;this.y=null;this.inf=true}else{this.x=new o(t,16);this.y=new o(r,16);if(i){this.x.forceRed(this.curve.red);this.y.forceRed(this.curve.red)}if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);this.inf=false}}s(l,d.BasePoint);l.prototype._getBeta=function T(){if(!this.curve.endo)return;var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve;function i(e){return r.point(e.x.redMul(r.endo.beta),e.y)}e.beta=t;t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t};l.prototype.toJSON=function S(){if(!this.precomputed)return[this.x,this.y];return[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]};l.fromJSON=function A(e,t,r){if(typeof t==="string")t=JSON.parse(t);var i=e.point(t[0],t[1],r);if(!t[2])return i;function a(t){return e.point(t[0],t[1],r)}var n=t[2];i.precomputed={beta:null,doubles:n.doubles&&{step:n.doubles.step,points:[i].concat(n.doubles.points.map(a))},naf:n.naf&&{wnd:n.naf.wnd,points:[i].concat(n.naf.points.map(a))}};return i};l.prototype.inspect=function C(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};l.prototype.isInfinity=function E(){return this.inf};l.prototype.add=function M(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);if(t.cmpn(0)!==0)t=t.redMul(this.x.redSub(e.x).redInvm());var r=t.redSqr().redISub(this.x).redISub(e.x);var i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)};l.prototype.dbl=function R(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a;var r=this.x.redSqr();var i=e.redInvm();var a=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i);var n=a.redSqr().redISub(this.x.redAdd(this.x));var o=a.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,o)};l.prototype.getX=function $(){return this.x.fromRed()};l.prototype.getY=function B(){return this.y.fromRed()};l.prototype.mul=function L(e){e=new o(e,16);if(this.precomputed&&this.precomputed.doubles)return this.curve._fixedNafMul(this,e);else if(this.curve.endo)return this.curve._endoWnafMulAdd([this],[e]);else return this.curve._wnafMul(this,e)};l.prototype.mulAdd=function I(e,t,r){var i=[this,t];var a=[e,r];if(this.curve.endo)return this.curve._endoWnafMulAdd(i,a);else return this.curve._wnafMulAdd(1,i,a,2)};l.prototype.eq=function j(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};l.prototype.neg=function F(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed;function i(e){return e.neg()}t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t};l.prototype.toJ=function P(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function f(e,t,r,i){d.BasePoint.call(this,e,"jacobian");if(t===null&&r===null&&i===null){this.x=this.curve.one;this.y=this.curve.one;this.z=new o(0)}else{this.x=new o(t,16);this.y=new o(r,16);this.z=new o(i,16)}if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);this.zOne=this.z===this.curve.one}s(f,d.BasePoint);f.prototype.toP=function k(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm();var t=e.redSqr();var r=this.x.redMul(t);var i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)};f.prototype.neg=function D(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};f.prototype.add=function O(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr();var r=this.z.redSqr();var i=this.x.redMul(t);var a=e.x.redMul(r);var n=this.y.redMul(t.redMul(e.z));var o=e.y.redMul(r.redMul(this.z));var s=i.redSub(a);var d=n.redSub(o);if(s.cmpn(0)===0){if(d.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl()}var c=s.redSqr();var h=c.redMul(s);var l=i.redMul(c);var f=d.redSqr().redIAdd(h).redISub(l).redISub(l);var u=d.redMul(l.redISub(f)).redISub(n.redMul(h));var p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(f,u,p)};f.prototype.mixedAdd=function N(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr();var r=this.x;var i=e.x.redMul(t);var a=this.y;var n=e.y.redMul(t).redMul(this.z);var o=r.redSub(i);var s=a.redSub(n);if(o.cmpn(0)===0){if(s.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl()}var d=o.redSqr();var c=d.redMul(o);var h=r.redMul(d);var l=s.redSqr().redIAdd(c).redISub(h).redISub(h);var f=s.redMul(h.redISub(l)).redISub(a.redMul(c));var u=this.z.redMul(o);return this.curve.jpoint(l,f,u)};f.prototype.dblp=function U(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var t=this;for(var r=0;r<e;r++)t=t.dbl();return t}var i=this.curve.a;var a=this.curve.tinv;var n=this.x;var o=this.y;var s=this.z;var d=s.redSqr().redSqr();var c=o.redAdd(o);for(var r=0;r<e;r++){var h=n.redSqr();var l=c.redSqr();var f=l.redSqr();var u=h.redAdd(h).redIAdd(h).redIAdd(i.redMul(d));var p=n.redMul(l);var b=u.redSqr().redISub(p.redAdd(p));var y=p.redISub(b);var v=u.redMul(y);v=v.redIAdd(v).redISub(f);var g=c.redMul(s);if(r+1<e)d=d.redMul(f);n=b;s=g;c=v}return this.curve.jpoint(n,c.redMul(a),s)};f.prototype.dbl=function G(){if(this.isInfinity())return this;if(this.curve.zeroA)return this._zeroDbl();else if(this.curve.threeA)return this._threeDbl();else return this._dbl()};f.prototype._zeroDbl=function W(){if(this.zOne){var e=this.x.redSqr();var t=this.y.redSqr();var r=t.redSqr();var i=this.x.redAdd(t).redSqr().redISub(e).redISub(r);i=i.redIAdd(i);var a=e.redAdd(e).redIAdd(e);var n=a.redSqr().redISub(i).redISub(i);var o=r.redIAdd(r);o=o.redIAdd(o);o=o.redIAdd(o);var s=n;var d=a.redMul(i.redISub(n)).redISub(o);var c=this.y.redAdd(this.y)}else{var h=this.x.redSqr();var l=this.y.redSqr();var f=l.redSqr();var u=this.x.redAdd(l).redSqr().redISub(h).redISub(f);u=u.redIAdd(u);var p=h.redAdd(h).redIAdd(h);var b=p.redSqr();var y=f.redIAdd(f);y=y.redIAdd(y);y=y.redIAdd(y);var s=b.redISub(u).redISub(u);var d=p.redMul(u.redISub(s)).redISub(y);var c=this.y.redMul(this.z);c=c.redIAdd(c)}return this.curve.jpoint(s,d,c)};f.prototype._threeDbl=function Y(){if(this.zOne){var e=this.x.redSqr();var t=this.y.redSqr();var r=t.redSqr();var i=this.x.redAdd(t).redSqr().redISub(e).redISub(r);i=i.redIAdd(i);var a=e.redAdd(e).redIAdd(e).redIAdd(this.curve.a);var n=a.redSqr().redISub(i).redISub(i);var o=n;var s=r.redIAdd(r);s=s.redIAdd(s);s=s.redIAdd(s);var d=a.redMul(i.redISub(n)).redISub(s);var c=this.y.redAdd(this.y)}else{var h=this.z.redSqr();var l=this.y.redSqr();var f=this.x.redMul(l);var u=this.x.redSub(h).redMul(this.x.redAdd(h));u=u.redAdd(u).redIAdd(u);var p=f.redIAdd(f);p=p.redIAdd(p);var b=p.redAdd(p);var o=u.redSqr().redISub(b);var c=this.y.redAdd(this.z).redSqr().redISub(l).redISub(h);var y=l.redSqr();y=y.redIAdd(y);y=y.redIAdd(y);y=y.redIAdd(y);var d=u.redMul(p.redISub(o)).redISub(y)}return this.curve.jpoint(o,d,c)};f.prototype._dbl=function z(){var e=this.curve.a;var t=this.curve.tinv;var r=this.x;var i=this.y;var a=this.z;var n=a.redSqr().redSqr();var o=r.redSqr();var s=i.redSqr();var d=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(n));var c=r.redAdd(r);c=c.redIAdd(c);var h=c.redMul(s);var l=d.redSqr().redISub(h.redAdd(h));var f=h.redISub(l);var u=s.redSqr();u=u.redIAdd(u);u=u.redIAdd(u);u=u.redIAdd(u);var p=d.redMul(f).redISub(u);var b=i.redAdd(i).redMul(a);return this.curve.jpoint(l,p,b)};f.prototype.trpl=function V(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr();var t=this.y.redSqr();var r=this.z.redSqr();var i=t.redSqr();var a=e.redAdd(e).redIAdd(e);var n=a.redSqr();var o=this.x.redAdd(t).redSqr().redISub(e).redISub(i);o=o.redIAdd(o);o=o.redAdd(o).redIAdd(o);o=o.redISub(n);var s=o.redSqr();var d=i.redIAdd(i);d=d.redIAdd(d);d=d.redIAdd(d);d=d.redIAdd(d);var c=a.redIAdd(o).redSqr().redISub(n).redISub(s).redISub(d);var h=t.redMul(c);h=h.redIAdd(h);h=h.redIAdd(h);var l=this.x.redMul(s).redISub(h);l=l.redIAdd(l);l=l.redIAdd(l);var f=this.y.redMul(c.redMul(d.redISub(c)).redISub(o.redMul(s)));f=f.redIAdd(f);f=f.redIAdd(f);f=f.redIAdd(f);var u=this.z.redAdd(o).redSqr().redISub(r).redISub(s);return this.curve.jpoint(l,f,u)};f.prototype.mul=function X(e,t){e=new o(e,t);return this.curve._wnafMul(this,e)};f.prototype.eq=function q(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return true;var t=this.z.redSqr();var r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return false;var i=t.redMul(this.z);var a=r.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(i)).cmpn(0)===0};f.prototype.inspect=function H(){if(this.isInfinity())return"<EC JPoint Infinity>";return"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};f.prototype.isInfinity=function K(){return this.z.cmpn(0)===0}},{"../../elliptic":49,"../curve":52,assert:1,"bn.js":48,inherits:115}],55:[function(e,t,r){var i=r;var a=e("assert");var n=e("hash.js");var o=e("bn.js");var s=e("../elliptic");function d(e){if(e.type==="short")this.curve=new s.curve.short(e);else if(e.type==="edwards")this.curve=new s.curve.edwards(e);else this.curve=new s.curve.mont(e);this.g=this.curve.g;this.n=this.curve.n;this.hash=e.hash;a(this.g.validate(),"Invalid curve");a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}i.PresetCurve=d;function c(e,t){Object.defineProperty(i,e,{configurable:true,enumerable:true,get:function(){var r=new d(t);Object.defineProperty(i,e,{configurable:true,enumerable:true,value:r});return r}})}c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:n.sha256,gRed:false,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:n.sha256,gRed:false,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:n.sha256,gRed:false,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"0",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:false,g:["9"]});c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:false,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:n.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:false,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",{doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}]})
},{"../elliptic":49,assert:1,"bn.js":48,"hash.js":62}],56:[function(e,t,r){var i=e("assert");var a=e("bn.js");var n=e("../../elliptic");var o=n.utils;var s=e("./key");var d=e("./signature");function c(e){if(!(this instanceof c))return new c(e);if(typeof e==="string"){i(n.curves.hasOwnProperty(e),"Unknown curve "+e);e=n.curves[e]}if(e instanceof n.curves.PresetCurve)e={curve:e};this.curve=e.curve.curve;this.n=this.curve.n;this.nh=this.n.shrn(1);this.g=this.curve.g;this.g=e.curve.g;this.g.precompute(e.curve.n.bitLength()+1);this.hash=e.hash||e.curve.hash}t.exports=c;c.prototype.keyPair=function h(e,t){return new s(this,e,t)};c.prototype.genKeyPair=function l(e){if(!e)e={};var t=new n.hmacDRBG({hash:this.hash,pers:e.pers,entropy:e.entropy||n.rand(this.hash.hmacStrength),nonce:this.n.toArray()});var r=this.n.byteLength();var i=this.n.sub(new a(2));do{var o=new a(t.generate(r));if(o.cmp(i)>0)continue;o.iaddn(1);return this.keyPair(o)}while(true)};c.prototype._truncateToN=function f(e,t){var r=e.byteLength()*8-this.n.bitLength();if(r>0)e=e.shrn(r);if(!t&&e.cmp(this.n)>=0)return e.sub(this.n);else return e};c.prototype.sign=function u(e,t,r){t=this.keyPair(t,"hex");e=this._truncateToN(new a(e,16));if(!r)r={};var i=this.n.byteLength();var o=t.getPrivate().toArray();for(var s=o.length;s<21;s++)o.unshift(0);var c=e.toArray();for(var s=c.length;s<i;s++)c.unshift(0);var h=new n.hmacDRBG({hash:this.hash,entropy:o,nonce:c});var l=this.n.sub(new a(1));do{var f=new a(h.generate(this.n.byteLength()));f=this._truncateToN(f,true);if(f.cmpn(1)<=0||f.cmp(l)>=0)continue;var u=this.g.mul(f);if(u.isInfinity())continue;var p=u.getX().mod(this.n);if(p.cmpn(0)===0)continue;var b=f.invm(this.n).mul(p.mul(t.getPrivate()).iadd(e)).mod(this.n);if(b.cmpn(0)===0)continue;if(r.canonical&&b.cmp(this.nh)>0)b=this.n.sub(b);return new d(p,b)}while(true)};c.prototype.verify=function p(e,t,r){e=this._truncateToN(new a(e,16));r=this.keyPair(r,"hex");t=new d(t,"hex");var i=t.r;var n=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return false;if(n.cmpn(1)<0||n.cmp(this.n)>=0)return false;var o=n.invm(this.n);var s=o.mul(e).mod(this.n);var c=o.mul(i).mod(this.n);var h=this.g.mulAdd(s,r.getPublic(),c);if(h.isInfinity())return false;return h.getX().mod(this.n).cmp(i)===0}},{"../../elliptic":49,"./key":57,"./signature":58,assert:1,"bn.js":48}],57:[function(e,t,r){var i=e("assert");var a=e("bn.js");var n=e("../../elliptic");var o=n.utils;function s(e,t,r){if(t instanceof s)return t;if(r instanceof s)return r;if(!t){t=r;r=null}if(t!==null&&typeof t==="object"){if(t.x){r=t;t=null}else if(t.priv||t.pub){r=t.pub;t=t.priv}}this.ec=e;this.priv=null;this.pub=null;if(this._importPublicHex(t,r))return;if(r==="hex")r=null;if(t)this._importPrivate(t);if(r)this._importPublic(r)}t.exports=s;s.prototype.validate=function d(){var e=this.getPublic();if(e.isInfinity())return{result:false,reason:"Invalid public key"};if(!e.validate())return{result:false,reason:"Public key is not a point"};if(!e.mul(this.ec.curve.n).isInfinity())return{result:false,reason:"Public key * N != O"};return{result:true,reason:null}};s.prototype.getPublic=function c(e,t){if(!this.pub)this.pub=this.ec.g.mul(this.priv);if(typeof e==="string"){t=e;e=null}if(!t)return this.pub;var r=this.ec.curve.p.byteLength();var i=this.pub.getX().toArray();for(var a=i.length;a<r;a++)i.unshift(0);if(e){var n=[this.pub.getY().isEven()?2:3].concat(i)}else{var s=this.pub.getY().toArray();for(var a=s.length;a<r;a++)s.unshift(0);var n=[4].concat(i,s)}return o.encode(n,t)};s.prototype.getPrivate=function h(e){if(e==="hex")return this.priv.toString(16,2);else return this.priv};s.prototype._importPrivate=function l(e){this.priv=new a(e,16);this.priv=this.priv.mod(this.ec.curve.n)};s.prototype._importPublic=function f(e){this.pub=this.ec.curve.point(e.x,e.y)};s.prototype._importPublicHex=function u(e,t){e=o.toArray(e,t);var r=this.ec.curve.p.byteLength();if(e[0]===4&&e.length-1===2*r){this.pub=this.ec.curve.point(e.slice(1,1+r),e.slice(1+r,1+2*r))}else if((e[0]===2||e[0]===3)&&e.length-1===r){this.pub=this.ec.curve.pointFromX(e[0]===3,e.slice(1,1+r))}else{return false}return true};s.prototype.derive=function p(e){return e.mul(this.priv).getX()};s.prototype.sign=function b(e){return this.ec.sign(e,this)};s.prototype.verify=function y(e,t){return this.ec.verify(e,t,this)};s.prototype.inspect=function v(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../../elliptic":49,assert:1,"bn.js":48}],58:[function(e,t,r){var i=e("assert");var a=e("bn.js");var n=e("../../elliptic");var o=n.utils;function s(e,t){if(e instanceof s)return e;if(this._importDER(e,t))return;i(e&&t,"Signature without r or s");this.r=new a(e,16);this.s=new a(t,16)}t.exports=s;s.prototype._importDER=function d(e,t){e=o.toArray(e,t);if(e.length<6||e[0]!==48||e[2]!==2)return false;var r=e[1];if(1+r>e.length)return false;var i=e[3];if(i>=128)return false;if(4+i+2>=e.length)return false;if(e[4+i]!==2)return false;var n=e[5+i];if(n>=128)return false;if(4+i+2+n>e.length)return false;this.r=new a(e.slice(4,4+i));this.s=new a(e.slice(4+i+2,4+i+2+n));return true};s.prototype.toDER=function c(e){var t=this.r.toArray();var r=this.s.toArray();if(t[0]&128)t=[0].concat(t);if(r[0]&128)r=[0].concat(r);var i=t.length+r.length+4;var a=[48,i,2,t.length];a=a.concat(t,[2,r.length],r);return o.encode(a,e)}},{"../../elliptic":49,assert:1,"bn.js":48}],59:[function(e,t,r){var i=e("assert");var a=e("hash.js");var n=e("../elliptic");var o=n.utils;function s(e){if(!(this instanceof s))return new s(e);this.hash=e.hash;this.predResist=!!e.predResist;this.outLen=this.hash.outSize;this.minEntropy=e.minEntropy||this.hash.hmacStrength;this.reseed=null;this.reseedInterval=null;this.K=null;this.V=null;var t=o.toArray(e.entropy,e.entropyEnc);var r=o.toArray(e.nonce,e.nonceEnc);var a=o.toArray(e.pers,e.persEnc);i(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits");this._init(t,r,a)}t.exports=s;s.prototype._init=function d(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8);this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++){this.K[a]=0;this.V[a]=1}this._update(i);this.reseed=1;this.reseedInterval=281474976710656};s.prototype._hmac=function c(){return new a.hmac(this.hash,this.K)};s.prototype._update=function h(e){var t=this._hmac().update(this.V).update([0]);if(e)t=t.update(e);this.K=t.digest();this.V=this._hmac().update(this.V).digest();if(!e)return;this.K=this._hmac().update(this.V).update([1]).update(e).digest();this.V=this._hmac().update(this.V).digest()};s.prototype.reseed=function l(e,t,r,a){if(typeof t!=="string"){a=r;r=t;t=null}e=o.toBuffer(e,t);r=o.toBuffer(r,a);i(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits");this._update(e.concat(r||[]));this.reseed=1};s.prototype.generate=function f(e,t,r,i){if(this.reseed>this.reseedInterval)throw new Error("Reseed is required");if(typeof t!=="string"){i=r;r=t;t=null}if(r){r=o.toArray(r,i);this._update(r)}var a=[];while(a.length<e){this.V=this._hmac().update(this.V).digest();a=a.concat(this.V)}var n=a.slice(0,e);this._update(r);this.reseed++;return o.encode(n,t)}},{"../elliptic":49,assert:1,"hash.js":62}],60:[function(e,t,r){var i=e("assert");var a=e("bn.js");var n=r;function o(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e==="string"){if(!t){for(var i=0;i<e.length;i++){var a=e.charCodeAt(i);var n=a>>8;var o=a&255;if(n)r.push(n,o);else r.push(o)}}else if(t==="hex"){e=e.replace(/[^a-z0-9]+/gi,"");if(e.length%2!==0)e="0"+e;for(var i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}}else{for(var i=0;i<e.length;i++)r[i]=e[i]|0}return r}n.toArray=o;function s(e){var t="";for(var r=0;r<e.length;r++)t+=d(e[r].toString(16));return t}n.toHex=s;n.encode=function l(e,t){if(t==="hex")return s(e);else return e};function d(e){if(e.length===1)return"0"+e;else return e}n.zero2=d;function c(e,t){var r=[];var i=1<<t+1;var a=e.clone();while(a.cmpn(1)>=0){var n;if(a.isOdd()){var o=a.andln(i-1);if(o>(i>>1)-1)n=(i>>1)-o;else n=o;a.isubn(n)}else{n=0}r.push(n);var s=a.cmpn(0)!==0&&a.andln(i-1)===0?t+1:1;for(var d=1;d<s;d++)r.push(0);a.ishrn(s)}return r}n.getNAF=c;function h(e,t){var r=[[],[]];e=e.clone();t=t.clone();var i=0;var a=0;while(e.cmpn(-i)>0||t.cmpn(-a)>0){var n=e.andln(3)+i&3;var o=t.andln(3)+a&3;if(n===3)n=-1;if(o===3)o=-1;var s;if((n&1)===0){s=0}else{var d=e.andln(7)+i&7;if((d===3||d===5)&&o===2)s=-n;else s=n}r[0].push(s);var c;if((o&1)===0){c=0}else{var d=t.andln(7)+a&7;if((d===3||d===5)&&n===2)c=-o;else c=o}r[1].push(c);if(2*i===s+1)i=1-i;if(2*a===c+1)a=1-a;e.ishrn(1);t.ishrn(1)}return r}n.getJSF=h},{assert:1,"bn.js":48}],61:[function(e,t,r){var i;t.exports=function s(e){if(!i)i=new a(null);return i.generate(e)};function a(e){this.rand=e}t.exports.Rand=a;a.prototype.generate=function d(e){return this._rand(e)};if(typeof window==="object"){if(window.crypto&&window.crypto.getRandomValues){a.prototype._rand=function c(e){var t=new Uint8Array(e);window.crypto.getRandomValues(t);return t}}else if(window.msCrypto&&window.msCrypto.getRandomValues){a.prototype._rand=function h(e){var t=new Uint8Array(e);window.msCrypto.getRandomValues(t);return t}}else{a.prototype._rand=function(){throw new Error("Not implemented yet")}}}else{try{var n=e("cry"+"pto");a.prototype._rand=function l(e){return n.randomBytes(e)}}catch(o){a.prototype._rand=function f(e){var t=new Uint8Array(e);for(var r=0;r<t.length;r++)t[r]=this.rand.getByte();return t}}}},{}],62:[function(e,t,r){var i=r;i.utils=e("./hash/utils");i.common=e("./hash/common");i.sha=e("./hash/sha");i.ripemd=e("./hash/ripemd");i.hmac=e("./hash/hmac");i.sha256=i.sha.sha256;i.sha224=i.sha.sha224;i.ripemd160=i.ripemd.ripemd160},{"./hash/common":63,"./hash/hmac":64,"./hash/ripemd":65,"./hash/sha":66,"./hash/utils":67}],63:[function(e,t,r){var i=e("../hash");var a=i.utils;var n=a.assert;function o(){this.pending=null;this.pendingTotal=0;this.blockSize=this.constructor.blockSize;this.outSize=this.constructor.outSize;this.hmacStrength=this.constructor.hmacStrength;this.endian="big"}r.BlockHash=o;o.prototype.update=function s(e,t){e=a.toArray(e,t);if(!this.pending)this.pending=e;else this.pending=this.pending.concat(e);this.pendingTotal+=e.length;if(this.pending.length>=this.blockSize/8){e=this.pending;var r=e.length%(this.blockSize/8);this.pending=e.slice(e.length-r,e.length);if(this.pending.length===0)this.pending=null;e=a.join32(e.slice(0,e.length-r),this.endian);for(var i=0;i<e.length;i+=this.blockSize/32)this._update(e.slice(i,i+this.blockSize/32))}return this};o.prototype.digest=function d(e){this.update(this._pad());n(this.pending===null);return this._digest(e)};o.prototype._pad=function c(){var e=this.pendingTotal;var t=this.blockSize/8;var r=t-(e+8)%t;var i=new Array(r+8);i[0]=128;for(var a=1;a<r;a++)i[a]=0;e<<=3;if(this.endian==="big"){i[a++]=0;i[a++]=0;i[a++]=0;i[a++]=0;i[a++]=e>>>24&255;i[a++]=e>>>16&255;i[a++]=e>>>8&255;i[a++]=e&255}else{i[a++]=e&255;i[a++]=e>>>8&255;i[a++]=e>>>16&255;i[a++]=e>>>24&255;i[a++]=0;i[a++]=0;i[a++]=0;i[a++]=0}return i}},{"../hash":62}],64:[function(e,t,r){var i=r;var a=e("../hash");var n=a.utils;var o=n.assert;function s(e,t,r){if(!(this instanceof s))return new s(e,t,r);this.Hash=e;this.blockSize=e.blockSize/8;this.outSize=e.outSize/8;this._init(n.toArray(t,r))}t.exports=s;s.prototype._init=function d(e){if(e.length>this.blockSize)e=(new this.Hash).update(e).digest();o(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);var r=e.slice();for(var t=0;t<e.length;t++){e[t]^=54;r[t]^=92}this.hash={inner:(new this.Hash).update(e),outer:(new this.Hash).update(r)}};s.prototype.update=function c(e,t){this.hash.inner.update(e,t);return this};s.prototype.digest=function h(e){this.hash.outer.update(this.hash.inner.digest());return this.hash.outer.digest(e)}},{"../hash":62}],65:[function(e,t,r){var i=e("../hash");var a=i.utils;var n=a.rotl32;var o=a.sum32;var s=a.sum32_3;var d=a.sum32_4;var c=i.common.BlockHash;function h(){if(!(this instanceof h))return new h;c.call(this);this.h=[1732584193,4023233417,2562383102,271733878,3285377520];this.endian="little"}a.inherits(h,c);r.ripemd160=h;h.blockSize=512;h.outSize=160;h.hmacStrength=192;h.prototype._update=function g(e){var t=this.h[0];var r=this.h[1];var i=this.h[2];var a=this.h[3];var c=this.h[4];var h=t;var g=r;var m=i;var x=a;var _=c;for(var w=0;w<80;w++){var T=o(n(d(t,l(w,r,i,a),e[p[w]],f(w)),y[w]),c);t=c;c=a;a=n(i,10);i=r;r=T;T=o(n(d(h,l(79-w,g,m,x),e[b[w]],u(w)),v[w]),_);h=_;_=x;x=n(m,10);m=g;g=T}T=s(this.h[1],i,x);this.h[1]=s(this.h[2],a,_);this.h[2]=s(this.h[3],c,h);this.h[3]=s(this.h[4],t,g);this.h[4]=s(this.h[0],r,m);this.h[0]=T};h.prototype._digest=function m(e){if(e==="hex")return a.toHex32(this.h,"little");else return a.split32(this.h,"little")};function l(e,t,r,i){if(e<=15)return t^r^i;else if(e<=31)return t&r|~t&i;else if(e<=47)return(t|~r)^i;else if(e<=63)return t&i|r&~i;else return t^(r|~i)}function f(e){if(e<=15)return 0;else if(e<=31)return 1518500249;else if(e<=47)return 1859775393;else if(e<=63)return 2400959708;else return 2840853838}function u(e){if(e<=15)return 1352829926;else if(e<=31)return 1548603684;else if(e<=47)return 1836072691;else if(e<=63)return 2053994217;else return 0}var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13];var b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11];var y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6];var v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"../hash":62}],66:[function(e,t,r){var i=e("../hash");var a=i.utils;var n=a.assert;var o=a.rotr32;var s=a.rotl32;var d=a.sum32;var c=a.sum32_4;var h=a.sum32_5;var l=i.common.BlockHash;var f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function u(){if(!(this instanceof u))return new u;l.call(this);this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];this.k=f}a.inherits(u,l);r.sha256=u;u.blockSize=512;u.outSize=256;u.hmacStrength=192;u.prototype._update=function _(e){var t=new Array(64);for(var r=0;r<16;r++)t[r]=e[r];for(;r<t.length;r++)t[r]=c(x(t[r-2]),t[r-7],m(t[r-15]),t[r-16]);var i=this.h[0];var a=this.h[1];var o=this.h[2];var s=this.h[3];var l=this.h[4];var f=this.h[5];var u=this.h[6];var p=this.h[7];n(this.k.length===t.length);for(var r=0;r<t.length;r++){var _=h(p,g(l),b(l,f,u),this.k[r],t[r]);var w=d(v(i),y(i,a,o));p=u;u=f;f=l;l=d(s,_);s=o;o=a;a=i;i=d(_,w)}this.h[0]=d(this.h[0],i);this.h[1]=d(this.h[1],a);this.h[2]=d(this.h[2],o);this.h[3]=d(this.h[3],s);this.h[4]=d(this.h[4],l);this.h[5]=d(this.h[5],f);this.h[6]=d(this.h[6],u);this.h[7]=d(this.h[7],p)};u.prototype._digest=function w(e){if(e==="hex")return a.toHex32(this.h,"big");else return a.split32(this.h,"big")};function p(){if(!(this instanceof p))return new p;u.call(this);this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}a.inherits(p,u);r.sha224=p;p.blockSize=512;p.outSize=224;p.hmacStrength=192;p.prototype._digest=function T(e){if(e==="hex")return a.toHex32(this.h.slice(0,7),"big");else return a.split32(this.h.slice(0,7),"big")};function b(e,t,r){return e&t^~e&r}function y(e,t,r){return e&t^e&r^t&r}function v(e){return o(e,2)^o(e,13)^o(e,22)}function g(e){return o(e,6)^o(e,11)^o(e,25)}function m(e){return o(e,7)^o(e,18)^e>>>3}function x(e){return o(e,17)^o(e,19)^e>>>10}},{"../hash":62}],67:[function(e,t,r){var i=r;function a(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e==="string"){if(!t){for(var i=0;i<e.length;i++){var a=e.charCodeAt(i);var n=a>>8;var o=a&255;if(n)r.push(n,o);else r.push(o)}}else if(t==="hex"){e=e.replace(/[^a-z0-9]+/gi,"");if(e.length%2!=0)e="0"+e;for(var i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}}else{for(var i=0;i<e.length;i++)r[i]=e[i]|0}return r}i.toArray=a;function n(e){var t="";for(var r=0;r<e.length;r++)t+=s(e[r].toString(16));return t}i.toHex=n;function o(e,t){var r="";for(var i=0;i<e.length;i++){var a=e[i];if(t==="little"){a=a>>>24|a>>>8&65280|a<<8&16711680|(a&255)<<24;if(a<0)a+=4294967296}r+=d(a.toString(16))}return r}i.toHex32=o;function s(e){if(e.length===1)return"0"+e;else return e}i.zero2=s;function d(e){if(e.length===7)return"0"+e;else if(e.length===6)return"00"+e;else if(e.length===5)return"000"+e;else if(e.length===4)return"0000"+e;else if(e.length===3)return"00000"+e;else if(e.length===2)return"000000"+e;else if(e.length===1)return"0000000"+e;else return e}i.zero8=d;function c(e,t){v(e.length%4===0);var r=new Array(e.length/4);for(var i=0,a=0;i<r.length;i++,a+=4){var n;if(t==="big")n=e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3];else n=e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a];if(n<0)n+=4294967296;r[i]=n}return r}i.join32=c;function h(e,t){var r=new Array(e.length*4);for(var i=0,a=0;i<e.length;i++,a+=4){var n=e[i];if(t==="big"){r[a]=n>>>24;r[a+1]=n>>>16&255;r[a+2]=n>>>8&255;r[a+3]=n&255}else{r[a+3]=n>>>24;r[a+2]=n>>>16&255;r[a+1]=n>>>8&255;r[a]=n&255}}return r}i.split32=h;function l(e,t){return e>>>t|e<<32-t}i.rotr32=l;function f(e,t){return e<<t|e>>>32-t}i.rotl32=f;function u(e,t){var r=e+t&4294967295;if(r<0)r+=4294967296;return r}i.sum32=u;function p(e,t,r){var i=e+t+r&4294967295;if(i<0)i+=4294967296;return i}i.sum32_3=p;function b(e,t,r,i){var a=e+t+r+i&4294967295;if(a<0)a+=4294967296;return a}i.sum32_4=b;function y(e,t,r,i,a){var n=e+t+r+i+a&4294967295;if(n<0)n+=4294967296;return n}i.sum32_5=y;function v(e,t){if(!e)throw new Error(t||"Assertion failed")}i.assert=v;if(typeof Object.create==="function"){i.inherits=function g(e,t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})}}else{i.inherits=function m(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype;e.prototype=new r;e.prototype.constructor=e}}},{}],68:[function(e,t,r){t.exports={name:"elliptic",version:"0.15.15",description:"EC cryptography",main:"lib/elliptic.js",scripts:{test:"mocha --reporter=spec test/*-test.js"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:{name:"Fedor Indutny",email:"fedor@indutny.com"},license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{browserify:"^3.44.2",mocha:"^1.18.2","uglify-js":"^2.4.13"},dependencies:{"bn.js":"^0.15.0",brorand:"^1.0.1","hash.js":"^0.2.0",inherits:"^2.0.1"},gitHead:"4bf1f50607285bff4ae19521217dbc801c3d36af",_id:"elliptic@0.15.15",_shasum:"63269184a856d6e00871e84f37a8401ff84e4aea",_from:"elliptic@>=0.15.14 <0.16.0",_npmVersion:"2.1.6",_nodeVersion:"0.10.33",_npmUser:{name:"indutny",email:"fedor@indutny.com"},maintainers:[{name:"indutny",email:"fedor@indutny.com"}],dist:{shasum:"63269184a856d6e00871e84f37a8401ff84e4aea",tarball:"http://registry.npmjs.org/elliptic/-/elliptic-0.15.15.tgz"},directories:{},_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-0.15.15.tgz",readme:"ERROR: No README data found!"}},{}],69:[function(e,t,r){r.strip=function a(e){e=e.toString();var t=/^-----BEGIN (.*)-----\n/;var r=t.exec(e);var i=r[1];var a=new RegExp("\n-----END "+i+"-----(\n*)$");var n=e.slice(r[0].length).replace(a,"").replace(/\n/g,"");return{tag:i,base64:n}};var i=function n(e,t){var r=[];while(e){if(e.length<t){r.push(e);break}else{r.push(e.substr(0,t));e=e.substr(t)}}return r.join("\n")};r.assemble=function o(e){var t=e.tag;var r=e.base64;var a="-----BEGIN "+t+"-----";var n="-----END "+t+"-----";return a+"\n"+i(r,64)+"\n"+n+"\n"}},{}],70:[function(e,t,r){(function(r){var i=e("pemstrip");var a=e("./asn1");var n=e("./aesid.json");t.exports=o;function o(e,t){var n;if(typeof e==="object"&&!r.isBuffer(e)){n=e.passphrase;e=e.key}var o=i.strip(e);var d=o.tag;var c=new r(o.base64,"base64");var h,l;switch(d){case"PUBLIC KEY":l=a.PublicKey.decode(c,"der");h=l.algorithm.algorithm.join(".");switch(h){case"1.2.840.113549.1.1.1":return a.RSAPublicKey.decode(l.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return{type:"ec",data:a.ECPublicKey.decode(c,"der")};default:throw new Error("unknown key id "+h)}throw new Error("unknown key type "+d);case"ENCRYPTED PRIVATE KEY":c=a.EncryptedPrivateKey.decode(c,"der");c=s(t,c,n);case"PRIVATE KEY":l=a.PrivateKey.decode(c,"der");h=l.algorithm.algorithm.join(".");switch(h){case"1.2.840.113549.1.1.1":return a.RSAPrivateKey.decode(l.subjectPrivateKey,"der");case"1.2.840.10045.2.1":l=a.ECPrivateWrap.decode(c,"der");return{curve:l.algorithm.curve,privateKey:a.ECPrivateKey.decode(l.subjectPrivateKey,"der").privateKey};default:throw new Error("unknown key id "+h)}throw new Error("unknown key type "+d);case"RSA PUBLIC KEY":return a.RSAPublicKey.decode(c,"der");case"RSA PRIVATE KEY":return a.RSAPrivateKey.decode(c,"der");case"EC PRIVATE KEY":c=a.ECPrivateKey.decode(c,"der");return{curve:c.parameters.value,privateKey:c.privateKey};default:throw new Error("unknown key type "+d)}}function s(e,t,i){var a=t.algorithm.decrypt.kde.kdeparams.salt;var o=t.algorithm.decrypt.kde.kdeparams.iters;var s=n[t.algorithm.decrypt.cipher.algo.join(".")];var d=t.algorithm.decrypt.cipher.iv;var c=t.subjectPrivateKey;var h=parseInt(s.split("-")[1],10)/8;var l=e.pbkdf2Sync(i,a,o,h);var f=e.createDecipheriv(s,l,d);var u=[];u.push(f.update(c));u.push(f.final());return r.concat(u)}}).call(this,e("buffer").Buffer)},{"./aesid.json":30,"./asn1":32,buffer:3,pemstrip:69}],71:[function(e,t,r){(function(r){var i=e("./parseKeys");var a=e("bn.js");var n=e("elliptic");t.exports=o;function o(e,t,a){var n=i(t,a);if(n.curve){return d(e,n,a)}var o=n.modulus.byteLength();var c=[0,1];while(e.length+c.length+1<o){c.push(255)}c.push(0);var h=-1;while(++h<e.length){c.push(e[h])}var l=s(c,n);if(l.length<o){var f=new r(o-l.length);f.fill(0);l=r.concat([f,l],o)}return l}function s(e,t){var i=new a(e).toRed(a.mont(t.prime1));var n=new a(e).toRed(a.mont(t.prime2));var o=new a(t.coefficient);var s=new a(t.prime1);var d=new a(t.prime2);var c=i.redPow(t.exponent1);var h=n.redPow(t.exponent2);c=c.fromRed();h=h.fromRed();var l=c.isub(h).imul(o).mod(s);l.imul(d);h.iadd(l);return new r(h.toArray())}function d(e,t,i){n.rand=i.randomBytes;var a;if(t.curve.join(".")==="1.3.132.0.10"){a=new n.ec("secp256k1")}var o=a.genKeyPair();o._importPrivate(t.privateKey);var s=o.sign(e);return new r(s.toDER())}}).call(this,e("buffer").Buffer)},{"./parseKeys":70,"bn.js":48,buffer:3,elliptic:49}],72:[function(e,t,r){(function(r){var i=e("./parseKeys");var a=e("elliptic");var n=e("bn.js");t.exports=o;function o(e,t,a){var o=i(a);if(o.type==="ec"){return s(e,t,o)}var d=n.mont(o.modulus);e=new n(e).toRed(d);e=e.redPow(new n(o.publicExponent));e=new r(e.fromRed().toArray());e=e.slice(e.length-t.length);var c=0;var h=e.length;var l=-1;while(++l<h){c+=e[l]^t[l]}return!c}function s(e,t,r){var i;if(r.data.algorithm.curve.join(".")==="1.3.132.0.10"){i=new a.ec("secp256k1")}var n=r.data.subjectPrivateKey.data;return i.verify(t.toString("hex"),e.toString("hex"),n.toString("hex"))}}).call(this,e("buffer").Buffer)},{"./parseKeys":70,"bn.js":48,buffer:3,elliptic:49}],73:[function(e,t,r){(function(r){var i=e("elliptic");var a=e("bn.js");t.exports=n;function n(e,t){i.rand=t.randomBytes;this.curve=new i.ec(e);this.keys=void 0}n.prototype.generateKeys=function(e,t){this.keys=this.curve.genKeyPair();return this.getPublicKey(e,t)};n.prototype.computeSecret=function(e,t,i){t=t||"utf8";if(!r.isBuffer(e)){e=new r(e,t)}e=new a(e);e=e.toString(16);var n=this.curve.keyPair(e,"hex").getPublic();var s=n.mul(this.keys.getPrivate()).getX();return o(s,i)};n.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic(t==="compressed",true);if(t==="hybrid"){if(r[r.length-1]%2){r[0]=7}else{r[0]=6}}return o(r,e)};n.prototype.getPrivateKey=function(e){return o(this.keys.getPrivate(),e)};n.prototype.setPublicKey=function(e,t){t=t||"utf8";if(!r.isBuffer(e)){e=new r(e,t)}var i=new a(e);i=i.toArray();this.keys._importPublicHex(i)};n.prototype.setPrivateKey=function(e,t){t=t||"utf8";if(!r.isBuffer(e)){e=new r(e,t)}var i=new a(e);i=i.toString(16);this.keys._importPrivate(i)};function o(e,t){if(!Array.isArray(e)){e=e.toArray()}var i=new r(e);if(!t){return i}else{return i.toString(t)}}}).call(this,e("buffer").Buffer)},{"bn.js":75,buffer:3,elliptic:76}],74:[function(e,t,r){var i=e("./ecdh");t.exports=function(e,t){t.createECDH=function(t){return new i(t,e)}}},{"./ecdh":73}],75:[function(e,t,r){t.exports=e(48)},{"/Users/gre/.nvm/v0.10.33/lib/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/bn.js/lib/bn.js":48}],76:[function(e,t,r){t.exports=e(49)},{"../package.json":95,"./elliptic/curve":79,"./elliptic/curves":82,"./elliptic/ec":83,"./elliptic/hmac-drbg":86,"./elliptic/utils":87,"/Users/gre/.nvm/v0.10.33/lib/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic.js":49,brorand:88}],77:[function(e,t,r){t.exports=e(50)},{"../../elliptic":76,"/Users/gre/.nvm/v0.10.33/lib/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/curve/base.js":50,assert:1,"bn.js":75}],78:[function(e,t,r){t.exports=e(51)},{"../../elliptic":76,"../curve":79,"/Users/gre/.nvm/v0.10.33/lib/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/curve/edwards.js":51,assert:1,"bn.js":75,inherits:115}],79:[function(e,t,r){t.exports=e(52)},{"./base":77,"./edwards":78,"./mont":80,"./short":81,"/Users/gre/.nvm/v0.10.33/lib/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/curve/index.js":52}],80:[function(e,t,r){t.exports=e(53)},{"../../elliptic":76,"../curve":79,"/Users/gre/.nvm/v0.10.33/lib/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/curve/mont.js":53,assert:1,"bn.js":75,inherits:115}],81:[function(e,t,r){t.exports=e(54)},{"../../elliptic":76,"../curve":79,"/Users/gre/.nvm/v0.10.33/lib/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/curve/short.js":54,assert:1,"bn.js":75,inherits:115}],82:[function(e,t,r){t.exports=e(55)},{"../elliptic":76,"/Users/gre/.nvm/v0.10.33/lib/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/curves.js":55,assert:1,"bn.js":75,"hash.js":89}],83:[function(e,t,r){t.exports=e(56)},{"../../elliptic":76,"./key":84,"./signature":85,"/Users/gre/.nvm/v0.10.33/lib/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/ec/index.js":56,assert:1,"bn.js":75}],84:[function(e,t,r){t.exports=e(57)},{"../../elliptic":76,"/Users/gre/.nvm/v0.10.33/lib/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/ec/key.js":57,assert:1,"bn.js":75}],85:[function(e,t,r){t.exports=e(58)},{"../../elliptic":76,"/Users/gre/.nvm/v0.10.33/lib/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/ec/signature.js":58,assert:1,"bn.js":75}],86:[function(e,t,r){t.exports=e(59)},{"../elliptic":76,"/Users/gre/.nvm/v0.10.33/lib/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/hmac-drbg.js":59,assert:1,"hash.js":89}],87:[function(e,t,r){t.exports=e(60)},{"/Users/gre/.nvm/v0.10.33/lib/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/utils.js":60,assert:1,"bn.js":75}],88:[function(e,t,r){t.exports=e(61)},{"/Users/gre/.nvm/v0.10.33/lib/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/brorand/index.js":61}],89:[function(e,t,r){t.exports=e(62)},{"./hash/common":90,"./hash/hmac":91,"./hash/ripemd":92,"./hash/sha":93,"./hash/utils":94,"/Users/gre/.nvm/v0.10.33/lib/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash.js":62}],90:[function(e,t,r){t.exports=e(63)},{"../hash":89,"/Users/gre/.nvm/v0.10.33/lib/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash/common.js":63}],91:[function(e,t,r){t.exports=e(64)},{"../hash":89,"/Users/gre/.nvm/v0.10.33/lib/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash/hmac.js":64}],92:[function(e,t,r){t.exports=e(65)},{"../hash":89,"/Users/gre/.nvm/v0.10.33/lib/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash/ripemd.js":65}],93:[function(e,t,r){t.exports=e(66)},{"../hash":89,"/Users/gre/.nvm/v0.10.33/lib/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash/sha.js":66}],94:[function(e,t,r){t.exports=e(67)},{"/Users/gre/.nvm/v0.10.33/lib/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash/utils.js":67}],95:[function(e,t,r){t.exports=e(68)},{"/Users/gre/.nvm/v0.10.33/lib/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/package.json":68}],96:[function(e,t,r){(function(r){var i=e("bn.js");var a=e("miller-rabin");var n=new a;var o=new i(24);var s=new i(11);var d=new i(10);var c=new i(3);var h=new i(7);var l=e("./generatePrime");t.exports=v;function f(e,t){t=t||"utf8";if(!r.isBuffer(e)){e=new r(e,t)}this._pub=new i(e)}function u(e,t){t=t||"utf8";if(!r.isBuffer(e)){e=new r(e,t)}this._priv=new i(e)}var p={};function b(e,t){var r=t.toString("hex");var i=[r,e.toString(16)].join("_");if(i in p){return p[i]}var a=0;if(e.isEven()||!l.simpleSieve||!l.fermatTest(e)||!n.test(e)){a+=1;if(r==="02"||r==="05"){a+=8}else{a+=4}p[i]=a;return a}if(!n.test(e.shrn(1))){a+=2}var r=t.toString("hex");var f;switch(r){case"02":if(e.mod(o).cmp(s)){a+=8}break;case"05":f=e.mod(d);if(f.cmp(c)&&f.cmp(h)){a+=8}break;default:a+=4}p[i]=a;return a}function y(e,t){try{Object.defineProperty(e,"verifyError",{enumerable:true,value:t,writable:false})}catch(r){e.verifyError=t}}function v(e,t,r,a){this.setGenerator(t);this.__prime=new i(e);this._prime=i.mont(this.__prime);this._pub=void 0;this._priv=void 0;if(a){this.setPublicKey=f;this.setPrivateKey=u;y(this,b(this.__prime,t))}else{y(this,8)}this._makeNum=function n(){return r.randomBytes(192)}}v.prototype.generateKeys=function(){if(!this._priv){this._priv=new i(this._makeNum())
}this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed();return this.getPublicKey()};v.prototype.computeSecret=function(e){e=new i(e);e=e.toRed(this._prime);var t=e.redPow(this._priv).fromRed();var a=new r(t.toArray());var n=this.getPrime();if(a.length<n.length){var o=new r(n.length-a.length);o.fill(0);a=r.concat([o,a])}return a};v.prototype.getPublicKey=function m(e){return g(this._pub,e)};v.prototype.getPrivateKey=function x(e){return g(this._priv,e)};v.prototype.getPrime=function(e){return g(this.__prime,e)};v.prototype.getGenerator=function(e){return g(this._gen,e)};v.prototype.setGenerator=function(e,t){t=t||"utf8";if(!r.isBuffer(e)){e=new r(e,t)}this._gen=new i(e)};function g(e,t){var i=new r(e.toArray());if(!t){return i}else{return i.toString(t)}}}).call(this,e("buffer").Buffer)},{"./generatePrime":97,"bn.js":99,buffer:3,"miller-rabin":100}],97:[function(e,t,r){t.exports=w;w.simpleSieve=x;w.fermatTest=_;var i=e("bn.js");var a=new i(24);var n=e("miller-rabin");var o=new n;var s=new i(1);var d=new i(2);var c=new i(5);var h=new i(16);var l=new i(8);var f=new i(10);var u=new i(3);var p=new i(7);var b=new i(11);var y=new i(4);var v=new i(12);var g=null;function m(){if(g!==null)return g;var e=1048576;var t=[];t[0]=2;for(var r=1,i=3;i<e;i+=2){var a=Math.ceil(Math.sqrt(i));for(var n=0;n<r&&t[n]<=a;n++)if(i%t[n]===0)break;if(r!==n&&t[n]<=a)continue;t[r++]=i}g=t;return t}function x(e){var t=m();for(var r=0;r<t.length;r++)if(e.modn(t[r])===0)return false;return true}function _(e){var t=i.mont(e);return d.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)===0}function w(e,t,r){t=new i(t);var n,s;function p(e){n=-1;var o=r.randomBytes(Math.ceil(e/8));o[0]|=192;o[o.length-1]|=3;var p;var g=new i(o);if(!t.cmp(d)){while(g.mod(a).cmp(b)){g.iadd(y)}s={major:[a],minor:[v]}}else if(!t.cmp(c)){p=g.mod(f);while(p.cmp(u)){g.iadd(y);p=g.mod(f)}s={major:[y,h],minor:[d,l]}}else{s={major:[y],minor:[d]}}return g}var g=p(e);var m=g.shrn(1);while(true){if(g.bitLength()>e){g=p(e);m=g.shrn(1)}n++;if(x(m)&&_(m)&&o.test(m)&&x(g)&&_(g)&&o.test(g)){return g}g.iadd(s.major[n%s.major.length]);m.iadd(s.minor[n%s.minor.length])}}},{"bn.js":99,"miller-rabin":100}],98:[function(e,t,r){(function(r){var i=e("./primes.json");var a=e("./dh");var n=e("./generatePrime");t.exports=function(e,t){t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=o;function o(t){return new a(new r(i[t].prime,"hex"),new r(i[t].gen,"hex"),e)}t.createDiffieHellman=t.DiffieHellman=s;function s(t,i,o,s){if(r.isBuffer(i)||typeof i==="string"&&["hex","binary","base64"].indexOf(i)===-1){s=o;o=i;i=void 0}i=i||"binary";s=s||"binary";o=o||new r([2]);if(!r.isBuffer(o)){o=new r(o,s)}if(typeof t==="number"){return new a(n(t,o,e),o,e,true)}if(!r.isBuffer(t)){t=new r(t,i)}return new a(t,o,e,true)}}}).call(this,e("buffer").Buffer)},{"./dh":96,"./generatePrime":97,"./primes.json":102,buffer:3}],99:[function(e,t,r){t.exports=e(48)},{"/Users/gre/.nvm/v0.10.33/lib/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/bn.js/lib/bn.js":48}],100:[function(e,t,r){var i=e("bn.js");var a=e("brorand");function n(e){this.rand=e||new a.Rand}t.exports=n;n.create=function o(e){return new n(e)};n.prototype._rand=function s(e){var t=e.bitLength();var r=this.rand.generate(Math.ceil(t/8));r[0]|=3;var a=t&7;if(a!==0)r[r.length-1]>>=7-a;return new i(r)};n.prototype.test=function d(e,t,r){var a=e.bitLength();var n=i.mont(e);var o=new i(1).toRed(n);if(!t)t=Math.max(1,a/48|0);var s=e.subn(1);var d=s.subn(1);for(var c=0;!s.testn(c);c++){}var h=e.shrn(c);var l=s.toRed(n);var f=true;for(;t>0;t--){var u=this._rand(d);if(r)r(u);var p=u.toRed(n).redPow(h);if(p.cmp(o)===0||p.cmp(l)===0)continue;for(var b=1;b<c;b++){p=p.redSqr();if(p.cmp(o)===0)return false;if(p.cmp(l)===0)break}if(b===c)return false}return f};n.prototype.getDivisor=function c(e,t){var r=e.bitLength();var a=i.mont(e);var n=new i(1).toRed(a);if(!t)t=Math.max(1,r/48|0);var o=e.subn(1);var s=o.subn(1);for(var d=0;!o.testn(d);d++){}var c=e.shrn(d);var h=o.toRed(a);var l=true;for(;t>0;t--){var f=this._rand(s);var u=e.gcd(f);if(u.cmpn(1)!==0)return u;var p=f.toRed(a).redPow(c);if(p.cmp(n)===0||p.cmp(h)===0)continue;for(var b=1;b<d;b++){p=p.redSqr();if(p.cmp(n)===0)return p.fromRed().subn(1).gcd(e);if(p.cmp(h)===0)break}if(b===d){p=p.redSqr();return p.fromRed().subn(1).gcd(e)}}return l}},{"bn.js":99,brorand:101}],101:[function(e,t,r){t.exports=e(61)},{"/Users/gre/.nvm/v0.10.33/lib/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/brorand/index.js":61}],102:[function(e,t,r){t.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],103:[function(e,t,r){(function(e){t.exports=function(t){function r(e,t,r,a,n,o){if("function"===typeof n){o=n;n=undefined}if("function"!==typeof o)throw new Error("No callback provided to pbkdf2");setTimeout(function(){var s;try{s=i(e,t,r,a,n)}catch(d){return o(d)}o(undefined,s)})}function i(r,i,a,n,o){if("number"!==typeof a)throw new TypeError("Iterations not a number");if(a<0)throw new TypeError("Bad iterations");if("number"!==typeof n)throw new TypeError("Key length not a number");if(n<0)throw new TypeError("Bad key length");o=o||"sha1";if(!e.isBuffer(r))r=new e(r);if(!e.isBuffer(i))i=new e(i);var s,d=1,c,h;var l=new e(n);var f=new e(i.length+4);i.copy(f,0,0,i.length);for(var u=1;u<=d;u++){f.writeUInt32BE(u,i.length);var p=t.createHmac(o,r).update(f).digest();if(!s){s=p.length;h=new e(s);d=Math.ceil(n/s);c=n-(d-1)*s;if(n>(Math.pow(2,32)-1)*s)throw new TypeError("keylen exceeds maximum length")}p.copy(h,0,0,s);for(var b=1;b<a;b++){p=t.createHmac(o,r).update(p).digest();for(var y=0;y<s;y++){h[y]^=p[y]}}var v=(u-1)*s;var g=u==d?c:s;h.copy(l,v,0,g)}return l}return{pbkdf2:r,pbkdf2Sync:i}}}).call(this,e("buffer").Buffer)},{buffer:3}],104:[function(e,t,r){(function(e){t.exports=v;var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13];var i=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11];var a=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6];var n=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];var o=[0,1518500249,1859775393,2400959708,2840853838];var s=[1352829926,1548603684,1836072691,2053994217,0];var d=function(e){var t=[];for(var r=0,i=0;r<e.length;r++,i+=8){t[i>>>5]|=e[r]<<24-i%32}return t};var c=function(e){var t=[];for(var r=0;r<e.length*32;r+=8){t.push(e[r>>>5]>>>24-r%32&255)}return t};var h=function(e,t,d){for(var c=0;c<16;c++){var h=d+c;var v=t[h];t[h]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360}var g,m,x,_,w;var T,S,A,C,E;T=g=e[0];S=m=e[1];A=x=e[2];C=_=e[3];E=w=e[4];var M;for(var c=0;c<80;c+=1){M=g+t[d+r[c]]|0;if(c<16){M+=l(m,x,_)+o[0]}else if(c<32){M+=f(m,x,_)+o[1]}else if(c<48){M+=u(m,x,_)+o[2]}else if(c<64){M+=p(m,x,_)+o[3]}else{M+=b(m,x,_)+o[4]}M=M|0;M=y(M,a[c]);M=M+w|0;g=w;w=_;_=y(x,10);x=m;m=M;M=T+t[d+i[c]]|0;if(c<16){M+=b(S,A,C)+s[0]}else if(c<32){M+=p(S,A,C)+s[1]}else if(c<48){M+=u(S,A,C)+s[2]}else if(c<64){M+=f(S,A,C)+s[3]}else{M+=l(S,A,C)+s[4]}M=M|0;M=y(M,n[c]);M=M+E|0;T=E;E=C;C=y(A,10);A=S;S=M}M=e[1]+x+C|0;e[1]=e[2]+_+E|0;e[2]=e[3]+w+T|0;e[3]=e[4]+g+S|0;e[4]=e[0]+m+A|0;e[0]=M};function l(e,t,r){return e^t^r}function f(e,t,r){return e&t|~e&r}function u(e,t,r){return(e|~t)^r}function p(e,t,r){return e&r|t&~r}function b(e,t,r){return e^(t|~r)}function y(e,t){return e<<t|e>>>32-t}function v(t){var r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string")t=new e(t,"utf8");var i=d(t);var a=t.length*8;var n=t.length*8;i[a>>>5]|=128<<24-a%32;i[(a+64>>>9<<4)+14]=(n<<8|n>>>24)&16711935|(n<<24|n>>>8)&4278255360;for(var o=0;o<i.length;o+=16){h(r,i,o)}for(var o=0;o<5;o++){var s=r[o];r[o]=(s<<8|s>>>24)&16711935|(s<<24|s>>>8)&4278255360}var l=c(r);return new e(l)}}).call(this,e("buffer").Buffer)},{buffer:3}],105:[function(e,t,r){(function(e){function r(t,r){this._block=new e(t);this._finalSize=r;this._blockSize=t;this._len=0;this._s=0}r.prototype.init=function(){this._s=0;this._len=0};r.prototype.update=function(t,r){if("string"===typeof t){r=r||"utf8";t=new e(t,r)}var i=this._len+=t.length;var a=this._s=this._s||0;var n=0;var o=this._block;while(a<i){var s=Math.min(t.length,n+this._blockSize-a%this._blockSize);var d=s-n;for(var c=0;c<d;c++){o[a%this._blockSize+c]=t[c+n]}a+=d;n+=d;if(a%this._blockSize===0){this._update(o)}}this._s=a;return this};r.prototype.digest=function(e){var t=this._len*8;this._block[this._len%this._blockSize]=128;this._block.fill(0,this._len%this._blockSize+1);if(t%(this._blockSize*8)>=this._finalSize*8){this._update(this._block);this._block.fill(0)}this._block.writeInt32BE(t,this._blockSize-4);var r=this._update(this._block)||this._hash();return e?r.toString(e):r};r.prototype._update=function(){throw new Error("_update must be implemented by subclass")};t.exports=r}).call(this,e("buffer").Buffer)},{buffer:3}],106:[function(e,t,r){var r=t.exports=function(e){var t=r[e.toLowerCase()];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};r.sha1=e("./sha1");r.sha224=e("./sha224");r.sha256=e("./sha256");r.sha384=e("./sha384");r.sha512=e("./sha512")},{"./sha1":107,"./sha224":108,"./sha256":109,"./sha384":110,"./sha512":111}],107:[function(e,t,r){(function(r){var i=e("util").inherits;var a=e("./hash");var n=0|0;var o=4|0;var s=8|0;var d=12|0;var c=16|0;var h=new(typeof Int32Array==="undefined"?Array:Int32Array)(80);var l=[];function f(){if(l.length)return l.pop().init();if(!(this instanceof f))return new f;this._w=h;a.call(this,16*4,14*4);this._h=null;this.init()}i(f,a);f.prototype.init=function(){this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520;a.prototype.init.call(this);return this};f.prototype._POOL=l;f.prototype._update=function(e){var t,r,i,a,n,o,s,d,c,h;t=o=this._a;r=s=this._b;i=d=this._c;a=c=this._d;n=h=this._e;var l=this._w;for(var f=0;f<80;f++){var v=l[f]=f<16?e.readInt32BE(f*4):y(l[f-3]^l[f-8]^l[f-14]^l[f-16],1);var g=b(b(y(t,5),u(f,r,i,a)),b(b(n,v),p(f)));n=a;a=i;i=y(r,30);r=t;t=g}this._a=b(t,o);this._b=b(r,s);this._c=b(i,d);this._d=b(a,c);this._e=b(n,h)};f.prototype._hash=function(){if(l.length<100)l.push(this);var e=new r(20);e.writeInt32BE(this._a|0,n);e.writeInt32BE(this._b|0,o);e.writeInt32BE(this._c|0,s);e.writeInt32BE(this._d|0,d);e.writeInt32BE(this._e|0,c);return e};function u(e,t,r,i){if(e<20)return t&r|~t&i;if(e<40)return t^r^i;if(e<60)return t&r|t&i|r&i;return t^r^i}function p(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function b(e,t){return e+t|0}function y(e,t){return e<<t|e>>>32-t}t.exports=f}).call(this,e("buffer").Buffer)},{"./hash":105,buffer:3,util:132}],108:[function(e,t,r){(function(r){var i=e("util").inherits;var a=e("./sha256");var n=e("./hash");var o=new Array(64);function s(){this.init();this._w=o;n.call(this,16*4,14*4)}i(s,a);s.prototype.init=function(){this._a=3238371032|0;this._b=914150663|0;this._c=812702999|0;this._d=4144912697|0;this._e=4290775857|0;this._f=1750603025|0;this._g=1694076839|0;this._h=3204075428|0;this._len=this._s=0;return this};s.prototype._hash=function(){var e=new r(28);e.writeInt32BE(this._a,0);e.writeInt32BE(this._b,4);e.writeInt32BE(this._c,8);e.writeInt32BE(this._d,12);e.writeInt32BE(this._e,16);e.writeInt32BE(this._f,20);e.writeInt32BE(this._g,24);return e};t.exports=s}).call(this,e("buffer").Buffer)},{"./hash":105,"./sha256":109,buffer:3,util:132}],109:[function(e,t,r){(function(r){var i=e("util").inherits;var a=e("./hash");var n=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];var o=new Array(64);function s(){this.init();this._w=o;a.call(this,16*4,14*4)}i(s,a);s.prototype.init=function(){this._a=1779033703|0;this._b=3144134277|0;this._c=1013904242|0;this._d=2773480762|0;this._e=1359893119|0;this._f=2600822924|0;this._g=528734635|0;this._h=1541459225|0;this._len=this._s=0;return this};function d(e,t){return e>>>t|e<<32-t}function c(e,t){return e>>>t}function h(e,t,r){return e&t^~e&r}function l(e,t,r){return e&t^e&r^t&r}function f(e){return d(e,2)^d(e,13)^d(e,22)}function u(e){return d(e,6)^d(e,11)^d(e,25)}function p(e){return d(e,7)^d(e,18)^c(e,3)}function b(e){return d(e,17)^d(e,19)^c(e,10)}s.prototype._update=function(e){var t=this._w;var r,i,a,o,s,d,c,y;var v,g;r=this._a|0;i=this._b|0;a=this._c|0;o=this._d|0;s=this._e|0;d=this._f|0;c=this._g|0;y=this._h|0;for(var m=0;m<64;m++){var x=t[m]=m<16?e.readInt32BE(m*4):b(t[m-2])+t[m-7]+p(t[m-15])+t[m-16];v=y+u(s)+h(s,d,c)+n[m]+x;g=f(r)+l(r,i,a);y=c;c=d;d=s;s=o+v;o=a;a=i;i=r;r=v+g}this._a=r+this._a|0;this._b=i+this._b|0;this._c=a+this._c|0;this._d=o+this._d|0;this._e=s+this._e|0;this._f=d+this._f|0;this._g=c+this._g|0;this._h=y+this._h|0};s.prototype._hash=function(){var e=new r(32);e.writeInt32BE(this._a,0);e.writeInt32BE(this._b,4);e.writeInt32BE(this._c,8);e.writeInt32BE(this._d,12);e.writeInt32BE(this._e,16);e.writeInt32BE(this._f,20);e.writeInt32BE(this._g,24);e.writeInt32BE(this._h,28);return e};t.exports=s}).call(this,e("buffer").Buffer)},{"./hash":105,buffer:3,util:132}],110:[function(e,t,r){(function(r){var i=e("util").inherits;var a=e("./sha512");var n=e("./hash");var o=new Array(160);function s(){this.init();this._w=o;n.call(this,128,112)}i(s,a);s.prototype.init=function(){this._a=3418070365|0;this._b=1654270250|0;this._c=2438529370|0;this._d=355462360|0;this._e=1731405415|0;this._f=2394180231|0;this._g=3675008525|0;this._h=1203062813|0;this._al=3238371032|0;this._bl=914150663|0;this._cl=812702999|0;this._dl=4144912697|0;this._el=4290775857|0;this._fl=1750603025|0;this._gl=1694076839|0;this._hl=3204075428|0;this._len=this._s=0;return this};s.prototype._hash=function(){var e=new r(48);function t(t,r,i){e.writeInt32BE(t,i);e.writeInt32BE(r,i+4)}t(this._a,this._al,0);t(this._b,this._bl,8);t(this._c,this._cl,16);t(this._d,this._dl,24);t(this._e,this._el,32);t(this._f,this._fl,40);return e};t.exports=s}).call(this,e("buffer").Buffer)},{"./hash":105,"./sha512":111,buffer:3,util:132}],111:[function(e,t,r){(function(r){var i=e("util").inherits;var a=e("./hash");var n=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];var o=new Array(160);function s(){this.init();this._w=o;a.call(this,128,112)}i(s,a);s.prototype.init=function(){this._a=1779033703|0;this._b=3144134277|0;this._c=1013904242|0;this._d=2773480762|0;this._e=1359893119|0;this._f=2600822924|0;this._g=528734635|0;this._h=1541459225|0;this._al=4089235720|0;this._bl=2227873595|0;this._cl=4271175723|0;this._dl=1595750129|0;this._el=2917565137|0;this._fl=725511199|0;this._gl=4215389547|0;this._hl=327033209|0;this._len=this._s=0;return this};function d(e,t,r){return e>>>r|t<<32-r}function c(e,t,r){return e&t^~e&r}function h(e,t,r){return e&t^e&r^t&r}s.prototype._update=function(e){var t=this._w;var r,i,a,o,s,l,f,u;var p,b,y,v,g,m,x,_;r=this._a|0;i=this._b|0;a=this._c|0;o=this._d|0;s=this._e|0;l=this._f|0;f=this._g|0;u=this._h|0;p=this._al|0;b=this._bl|0;y=this._cl|0;v=this._dl|0;g=this._el|0;m=this._fl|0;x=this._gl|0;_=this._hl|0;for(var w=0;w<80;w++){var T=w*2;var S,A;if(w<16){S=t[T]=e.readInt32BE(T*4);A=t[T+1]=e.readInt32BE(T*4+4)}else{var C=t[T-15*2];var E=t[T-15*2+1];var M=d(C,E,1)^d(C,E,8)^C>>>7;var R=d(E,C,1)^d(E,C,8)^d(E,C,7);C=t[T-2*2];E=t[T-2*2+1];var $=d(C,E,19)^d(E,C,29)^C>>>6;var B=d(E,C,19)^d(C,E,29)^d(E,C,6);var L=t[T-7*2];var I=t[T-7*2+1];var j=t[T-16*2];var F=t[T-16*2+1];A=R+I;S=M+L+(A>>>0<R>>>0?1:0);A=A+B;S=S+$+(A>>>0<B>>>0?1:0);A=A+F;S=S+j+(A>>>0<F>>>0?1:0);t[T]=S;t[T+1]=A}var P=h(r,i,a);var k=h(p,b,y);var D=d(r,p,28)^d(p,r,2)^d(p,r,7);var O=d(p,r,28)^d(r,p,2)^d(r,p,7);var N=d(s,g,14)^d(s,g,18)^d(g,s,9);var U=d(g,s,14)^d(g,s,18)^d(s,g,9);var G=n[T];var W=n[T+1];var Y=c(s,l,f);var z=c(g,m,x);var V=_+U;var X=u+N+(V>>>0<_>>>0?1:0);V=V+z;X=X+Y+(V>>>0<z>>>0?1:0);V=V+W;X=X+G+(V>>>0<W>>>0?1:0);V=V+A;X=X+S+(V>>>0<A>>>0?1:0);var q=O+k;var H=D+P+(q>>>0<O>>>0?1:0);u=f;_=x;f=l;x=m;l=s;m=g;g=v+V|0;s=o+X+(g>>>0<v>>>0?1:0)|0;o=a;v=y;a=i;y=b;i=r;b=p;p=V+q|0;r=X+H+(p>>>0<V>>>0?1:0)|0}this._al=this._al+p|0;this._bl=this._bl+b|0;this._cl=this._cl+y|0;this._dl=this._dl+v|0;this._el=this._el+g|0;this._fl=this._fl+m|0;this._gl=this._gl+x|0;this._hl=this._hl+_|0;this._a=this._a+r+(this._al>>>0<p>>>0?1:0)|0;this._b=this._b+i+(this._bl>>>0<b>>>0?1:0)|0;this._c=this._c+a+(this._cl>>>0<y>>>0?1:0)|0;this._d=this._d+o+(this._dl>>>0<v>>>0?1:0)|0;this._e=this._e+s+(this._el>>>0<g>>>0?1:0)|0;this._f=this._f+l+(this._fl>>>0<m>>>0?1:0)|0;this._g=this._g+f+(this._gl>>>0<x>>>0?1:0)|0;this._h=this._h+u+(this._hl>>>0<_>>>0?1:0)|0};s.prototype._hash=function(){var e=new r(64);function t(t,r,i){e.writeInt32BE(t,i);e.writeInt32BE(r,i+4)}t(this._a,this._al,0);t(this._b,this._bl,8);t(this._c,this._cl,16);t(this._d,this._dl,24);t(this._e,this._el,32);t(this._f,this._fl,40);t(this._g,this._gl,48);t(this._h,this._hl,56);return e};t.exports=s}).call(this,e("buffer").Buffer)},{"./hash":105,buffer:3,util:132}],112:[function(e,t,r){"use strict";var i=e("pbkdf2-compat/pbkdf2");t.exports=function(e,t){t=t||{};var r=i(e);t.pbkdf2=r.pbkdf2;t.pbkdf2Sync=r.pbkdf2Sync;return t}},{"pbkdf2-compat/pbkdf2":103}],113:[function(e,t,r){(function(r,i){"use strict";(function(){var a=("undefined"===typeof window?r:window)||{};var n=a.crypto||a.msCrypto||e("crypto");t.exports=function(e){if(n.getRandomValues){var t=new i(e);n.getRandomValues(t);return t}else if(n.randomBytes){return n.randomBytes(e)}else throw new Error("secure random number generation not supported by this browser\n"+"use chrome, FireFox or Internet Explorer 11")}})()}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},e("buffer").Buffer)},{buffer:3,crypto:2}],114:[function(e,t,r){function i(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}t.exports=i;i.EventEmitter=i;i.prototype._events=undefined;i.prototype._maxListeners=undefined;i.defaultMaxListeners=10;i.prototype.setMaxListeners=function(e){if(!n(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");this._maxListeners=e;return this};i.prototype.emit=function(e){var t,r,i,n,d,c;if(!this._events)this._events={};if(e==="error"){if(!this._events.error||o(this._events.error)&&!this._events.error.length){t=arguments[1];if(t instanceof Error){throw t}throw TypeError('Uncaught, unspecified "error" event.')}}r=this._events[e];if(s(r))return false;if(a(r)){switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=arguments.length;n=new Array(i-1);for(d=1;d<i;d++)n[d-1]=arguments[d];r.apply(this,n)}}else if(o(r)){i=arguments.length;n=new Array(i-1);for(d=1;d<i;d++)n[d-1]=arguments[d];c=r.slice();i=c.length;for(d=0;d<i;d++)c[d].apply(this,n)}return true};i.prototype.addListener=function(e,t){var r;if(!a(t))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",e,a(t.listener)?t.listener:t);if(!this._events[e])this._events[e]=t;else if(o(this._events[e]))this._events[e].push(t);else this._events[e]=[this._events[e],t];if(o(this._events[e])&&!this._events[e].warned){var r;if(!s(this._maxListeners)){r=this._maxListeners}else{r=i.defaultMaxListeners}if(r&&r>0&&this._events[e].length>r){this._events[e].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[e].length);if(typeof console.trace==="function"){console.trace()}}}return this};i.prototype.on=i.prototype.addListener;i.prototype.once=function(e,t){if(!a(t))throw TypeError("listener must be a function");var r=false;function i(){this.removeListener(e,i);if(!r){r=true;t.apply(this,arguments)}}i.listener=t;this.on(e,i);return this};i.prototype.removeListener=function(e,t){var r,i,n,s;if(!a(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;r=this._events[e];n=r.length;i=-1;if(r===t||a(r.listener)&&r.listener===t){delete this._events[e];if(this._events.removeListener)this.emit("removeListener",e,t)}else if(o(r)){for(s=n;s-->0;){if(r[s]===t||r[s].listener&&r[s].listener===t){i=s;break}}if(i<0)return this;if(r.length===1){r.length=0;delete this._events[e]}else{r.splice(i,1)}if(this._events.removeListener)this.emit("removeListener",e,t)}return this};i.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[e])delete this._events[e];return this}if(arguments.length===0){for(t in this._events){if(t==="removeListener")continue;this.removeAllListeners(t)}this.removeAllListeners("removeListener");this._events={};return this}r=this._events[e];if(a(r)){this.removeListener(e,r)}else{while(r.length)this.removeListener(e,r[r.length-1])}delete this._events[e];return this};i.prototype.listeners=function(e){var t;if(!this._events||!this._events[e])t=[];else if(a(this._events[e]))t=[this._events[e]];else t=this._events[e].slice();return t};i.listenerCount=function(e,t){var r;if(!e._events||!e._events[t])r=0;else if(a(e._events[t]))r=1;else r=e._events[t].length;return r};function a(e){return typeof e==="function"}function n(e){return typeof e==="number"}function o(e){return typeof e==="object"&&e!==null}function s(e){return e===void 0}},{}],115:[function(e,t,r){if(typeof Object.create==="function"){t.exports=function i(e,t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})}}else{t.exports=function a(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype;e.prototype=new r;e.prototype.constructor=e}}},{}],116:[function(e,t,r){t.exports=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"}},{}],117:[function(e,t,r){var i=t.exports={};i.nextTick=function(){var e=typeof window!=="undefined"&&window.setImmediate;var t=typeof window!=="undefined"&&window.MutationObserver;var r=typeof window!=="undefined"&&window.postMessage&&window.addEventListener;if(e){return function(e){return window.setImmediate(e)}}var i=[];if(t){var a=document.createElement("div");var n=new MutationObserver(function(){var e=i.slice();i.length=0;
e.forEach(function(e){e()})});n.observe(a,{attributes:true});return function o(e){if(!i.length){a.setAttribute("yes","no")}i.push(e)}}if(r){window.addEventListener("message",function(e){var t=e.source;if((t===window||t===null)&&e.data==="process-tick"){e.stopPropagation();if(i.length>0){var r=i.shift();r()}}},true);return function s(e){i.push(e);window.postMessage("process-tick","*")}}return function d(e){setTimeout(e,0)}}();i.title="browser";i.browser=true;i.env={};i.argv=[];function a(){}i.on=a;i.addListener=a;i.once=a;i.off=a;i.removeListener=a;i.removeAllListeners=a;i.emit=a;i.binding=function(e){throw new Error("process.binding is not supported")};i.cwd=function(){return"/"};i.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],118:[function(e,t,r){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":119}],119:[function(e,t,r){(function(r){t.exports=s;var i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};var a=e("core-util-is");a.inherits=e("inherits");var n=e("./_stream_readable");var o=e("./_stream_writable");a.inherits(s,n);c(i(o.prototype),function(e){if(!s.prototype[e])s.prototype[e]=o.prototype[e]});function s(e){if(!(this instanceof s))return new s(e);n.call(this,e);o.call(this,e);if(e&&e.readable===false)this.readable=false;if(e&&e.writable===false)this.writable=false;this.allowHalfOpen=true;if(e&&e.allowHalfOpen===false)this.allowHalfOpen=false;this.once("end",d)}function d(){if(this.allowHalfOpen||this._writableState.ended)return;r.nextTick(this.end.bind(this))}function c(e,t){for(var r=0,i=e.length;r<i;r++){t(e[r],r)}}}).call(this,e("_process"))},{"./_stream_readable":121,"./_stream_writable":123,_process:117,"core-util-is":124,inherits:115}],120:[function(e,t,r){t.exports=n;var i=e("./_stream_transform");var a=e("core-util-is");a.inherits=e("inherits");a.inherits(n,i);function n(e){if(!(this instanceof n))return new n(e);i.call(this,e)}n.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":122,"core-util-is":124,inherits:115}],121:[function(e,t,r){(function(r){t.exports=h;var i=e("isarray");var a=e("buffer").Buffer;h.ReadableState=c;var n=e("events").EventEmitter;if(!n.listenerCount)n.listenerCount=function(e,t){return e.listeners(t).length};var o=e("stream");var s=e("core-util-is");s.inherits=e("inherits");var d;s.inherits(h,o);function c(t,r){t=t||{};var i=t.highWaterMark;this.highWaterMark=i||i===0?i:16*1024;this.highWaterMark=~~this.highWaterMark;this.buffer=[];this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=false;this.ended=false;this.endEmitted=false;this.reading=false;this.calledRead=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.objectMode=!!t.objectMode;this.defaultEncoding=t.defaultEncoding||"utf8";this.ranOut=false;this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(t.encoding){if(!d)d=e("string_decoder/").StringDecoder;this.decoder=new d(t.encoding);this.encoding=t.encoding}}function h(e){if(!(this instanceof h))return new h(e);this._readableState=new c(e,this);this.readable=true;o.call(this)}h.prototype.push=function(e,t){var r=this._readableState;if(typeof e==="string"&&!r.objectMode){t=t||r.defaultEncoding;if(t!==r.encoding){e=new a(e,t);t=""}}return l(this,r,e,t,false)};h.prototype.unshift=function(e){var t=this._readableState;return l(this,t,e,"",true)};function l(e,t,r,i,a){var n=y(t,r);if(n){e.emit("error",n)}else if(r===null||r===undefined){t.reading=false;if(!t.ended)v(e,t)}else if(t.objectMode||r&&r.length>0){if(t.ended&&!a){var o=new Error("stream.push() after EOF");e.emit("error",o)}else if(t.endEmitted&&a){var o=new Error("stream.unshift() after end event");e.emit("error",o)}else{if(t.decoder&&!a&&!i)r=t.decoder.write(r);t.length+=t.objectMode?1:r.length;if(a){t.buffer.unshift(r)}else{t.reading=false;t.buffer.push(r)}if(t.needReadable)g(e);x(e,t)}}else if(!a){t.reading=false}return f(t)}function f(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}h.prototype.setEncoding=function(t){if(!d)d=e("string_decoder/").StringDecoder;this._readableState.decoder=new d(t);this._readableState.encoding=t};var u=8388608;function p(e){if(e>=u){e=u}else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}function b(e,t){if(t.length===0&&t.ended)return 0;if(t.objectMode)return e===0?0:1;if(e===null||isNaN(e)){if(t.flowing&&t.buffer.length)return t.buffer[0].length;else return t.length}if(e<=0)return 0;if(e>t.highWaterMark)t.highWaterMark=p(e);if(e>t.length){if(!t.ended){t.needReadable=true;return 0}else return t.length}return e}h.prototype.read=function(e){var t=this._readableState;t.calledRead=true;var r=e;var i;if(typeof e!=="number"||e>0)t.emittedReadable=false;if(e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended)){g(this);return null}e=b(e,t);if(e===0&&t.ended){i=null;if(t.length>0&&t.decoder){i=C(e,t);t.length-=i.length}if(t.length===0)E(this);return i}var a=t.needReadable;if(t.length-e<=t.highWaterMark)a=true;if(t.ended||t.reading)a=false;if(a){t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false}if(a&&!t.reading)e=b(r,t);if(e>0)i=C(e,t);else i=null;if(i===null){t.needReadable=true;e=0}t.length-=e;if(t.length===0&&!t.ended)t.needReadable=true;if(t.ended&&!t.endEmitted&&t.length===0)E(this);return i};function y(e,t){var r=null;if(!a.isBuffer(t)&&"string"!==typeof t&&t!==null&&t!==undefined&&!e.objectMode){r=new TypeError("Invalid non-string/buffer chunk")}return r}function v(e,t){if(t.decoder&&!t.ended){var r=t.decoder.end();if(r&&r.length){t.buffer.push(r);t.length+=t.objectMode?1:r.length}}t.ended=true;if(t.length>0)g(e);else E(e)}function g(e){var t=e._readableState;t.needReadable=false;if(t.emittedReadable)return;t.emittedReadable=true;if(t.sync)r.nextTick(function(){m(e)});else m(e)}function m(e){e.emit("readable")}function x(e,t){if(!t.readingMore){t.readingMore=true;r.nextTick(function(){_(e,t)})}}function _(e,t){var r=t.length;while(!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark){e.read(0);if(r===t.length)break;else r=t.length}t.readingMore=false}h.prototype._read=function(e){this.emit("error",new Error("not implemented"))};h.prototype.pipe=function(e,t){var a=this;var o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e);break}o.pipesCount+=1;var s=(!t||t.end!==false)&&e!==r.stdout&&e!==r.stderr;var d=s?h:f;if(o.endEmitted)r.nextTick(d);else a.once("end",d);e.on("unpipe",c);function c(e){if(e!==a)return;f()}function h(){e.end()}var l=w(a);e.on("drain",l);function f(){e.removeListener("close",p);e.removeListener("finish",b);e.removeListener("drain",l);e.removeListener("error",u);e.removeListener("unpipe",c);a.removeListener("end",h);a.removeListener("end",f);if(!e._writableState||e._writableState.needDrain)l()}function u(t){y();e.removeListener("error",u);if(n.listenerCount(e,"error")===0)e.emit("error",t)}if(!e._events||!e._events.error)e.on("error",u);else if(i(e._events.error))e._events.error.unshift(u);else e._events.error=[u,e._events.error];function p(){e.removeListener("finish",b);y()}e.once("close",p);function b(){e.removeListener("close",p);y()}e.once("finish",b);function y(){a.unpipe(e)}e.emit("pipe",a);if(!o.flowing){this.on("readable",S);o.flowing=true;r.nextTick(function(){T(a)})}return e};function w(e){return function(){var t=this;var r=e._readableState;r.awaitDrain--;if(r.awaitDrain===0)T(e)}}function T(e){var t=e._readableState;var r;t.awaitDrain=0;function i(e,i,a){var n=e.write(r);if(false===n){t.awaitDrain++}}while(t.pipesCount&&null!==(r=e.read())){if(t.pipesCount===1)i(t.pipes,0,null);else M(t.pipes,i);e.emit("data",r);if(t.awaitDrain>0)return}if(t.pipesCount===0){t.flowing=false;if(n.listenerCount(e,"data")>0)A(e);return}t.ranOut=true}function S(){if(this._readableState.ranOut){this._readableState.ranOut=false;T(this)}}h.prototype.unpipe=function(e){var t=this._readableState;if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;this.removeListener("readable",S);t.flowing=false;if(e)e.emit("unpipe",this);return this}if(!e){var r=t.pipes;var i=t.pipesCount;t.pipes=null;t.pipesCount=0;this.removeListener("readable",S);t.flowing=false;for(var a=0;a<i;a++)r[a].emit("unpipe",this);return this}var a=R(t.pipes,e);if(a===-1)return this;t.pipes.splice(a,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this);return this};h.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t);if(e==="data"&&!this._readableState.flowing)A(this);if(e==="readable"&&this.readable){var i=this._readableState;if(!i.readableListening){i.readableListening=true;i.emittedReadable=false;i.needReadable=true;if(!i.reading){this.read(0)}else if(i.length){g(this,i)}}}return r};h.prototype.addListener=h.prototype.on;h.prototype.resume=function(){A(this);this.read(0);this.emit("resume")};h.prototype.pause=function(){A(this,true);this.emit("pause")};function A(e,t){var i=e._readableState;if(i.flowing){throw new Error("Cannot switch to old mode now.")}var a=t||false;var n=false;e.readable=true;e.pipe=o.prototype.pipe;e.on=e.addListener=o.prototype.on;e.on("readable",function(){n=true;var t;while(!a&&null!==(t=e.read()))e.emit("data",t);if(t===null){n=false;e._readableState.needReadable=true}});e.pause=function(){a=true;this.emit("pause")};e.resume=function(){a=false;if(n)r.nextTick(function(){e.emit("readable")});else this.read(0);this.emit("resume")};e.emit("readable")}h.prototype.wrap=function(e){var t=this._readableState;var r=false;var i=this;e.on("end",function(){if(t.decoder&&!t.ended){var e=t.decoder.end();if(e&&e.length)i.push(e)}i.push(null)});e.on("data",function(a){if(t.decoder)a=t.decoder.write(a);if(t.objectMode&&(a===null||a===undefined))return;else if(!t.objectMode&&(!a||!a.length))return;var n=i.push(a);if(!n){r=true;e.pause()}});for(var a in e){if(typeof e[a]==="function"&&typeof this[a]==="undefined"){this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a)}}var n=["error","close","destroy","pause","resume"];M(n,function(t){e.on(t,i.emit.bind(i,t))});i._read=function(t){if(r){r=false;e.resume()}};return i};h._fromList=C;function C(e,t){var r=t.buffer;var i=t.length;var n=!!t.decoder;var o=!!t.objectMode;var s;if(r.length===0)return null;if(i===0)s=null;else if(o)s=r.shift();else if(!e||e>=i){if(n)s=r.join("");else s=a.concat(r,i);r.length=0}else{if(e<r[0].length){var d=r[0];s=d.slice(0,e);r[0]=d.slice(e)}else if(e===r[0].length){s=r.shift()}else{if(n)s="";else s=new a(e);var c=0;for(var h=0,l=r.length;h<l&&c<e;h++){var d=r[0];var f=Math.min(e-c,d.length);if(n)s+=d.slice(0,f);else d.copy(s,c,0,f);if(f<d.length)r[0]=d.slice(f);else r.shift();c+=f}}}return s}function E(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");if(!t.endEmitted&&t.calledRead){t.ended=true;r.nextTick(function(){if(!t.endEmitted&&t.length===0){t.endEmitted=true;e.readable=false;e.emit("end")}})}}function M(e,t){for(var r=0,i=e.length;r<i;r++){t(e[r],r)}}function R(e,t){for(var r=0,i=e.length;r<i;r++){if(e[r]===t)return r}return-1}}).call(this,e("_process"))},{_process:117,buffer:3,"core-util-is":124,events:114,inherits:115,isarray:116,stream:129,"string_decoder/":130}],122:[function(e,t,r){t.exports=s;var i=e("./_stream_duplex");var a=e("core-util-is");a.inherits=e("inherits");a.inherits(s,i);function n(e,t){this.afterTransform=function(e,r){return o(t,e,r)};this.needTransform=false;this.transforming=false;this.writecb=null;this.writechunk=null}function o(e,t,r){var i=e._transformState;i.transforming=false;var a=i.writecb;if(!a)return e.emit("error",new Error("no writecb in Transform class"));i.writechunk=null;i.writecb=null;if(r!==null&&r!==undefined)e.push(r);if(a)a(t);var n=e._readableState;n.reading=false;if(n.needReadable||n.length<n.highWaterMark){e._read(n.highWaterMark)}}function s(e){if(!(this instanceof s))return new s(e);i.call(this,e);var t=this._transformState=new n(e,this);var r=this;this._readableState.needReadable=true;this._readableState.sync=false;this.once("finish",function(){if("function"===typeof this._flush)this._flush(function(e){d(r,e)});else d(r)})}s.prototype.push=function(e,t){this._transformState.needTransform=false;return i.prototype.push.call(this,e,t)};s.prototype._transform=function(e,t,r){throw new Error("not implemented")};s.prototype._write=function(e,t,r){var i=this._transformState;i.writecb=r;i.writechunk=e;i.writeencoding=t;if(!i.transforming){var a=this._readableState;if(i.needTransform||a.needReadable||a.length<a.highWaterMark)this._read(a.highWaterMark)}};s.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&t.writecb&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};function d(e,t){if(t)return e.emit("error",t);var r=e._writableState;var i=e._readableState;var a=e._transformState;if(r.length)throw new Error("calling transform done when ws.length != 0");if(a.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}},{"./_stream_duplex":119,"core-util-is":124,inherits:115}],123:[function(e,t,r){(function(r){t.exports=d;var i=e("buffer").Buffer;d.WritableState=s;var a=e("core-util-is");a.inherits=e("inherits");var n=e("stream");a.inherits(d,n);function o(e,t,r){this.chunk=e;this.encoding=t;this.callback=r}function s(e,t){e=e||{};var r=e.highWaterMark;this.highWaterMark=r||r===0?r:16*1024;this.objectMode=!!e.objectMode;this.highWaterMark=~~this.highWaterMark;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;var i=e.decodeStrings===false;this.decodeStrings=!i;this.defaultEncoding=e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){y(t,e)};this.writecb=null;this.writelen=0;this.buffer=[];this.errorEmitted=false}function d(t){var r=e("./_stream_duplex");if(!(this instanceof d)&&!(this instanceof r))return new d(t);this._writableState=new s(t,this);this.writable=true;n.call(this)}d.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))};function c(e,t,i){var a=new Error("write after end");e.emit("error",a);r.nextTick(function(){i(a)})}function h(e,t,a,n){var o=true;if(!i.isBuffer(a)&&"string"!==typeof a&&a!==null&&a!==undefined&&!t.objectMode){var s=new TypeError("Invalid non-string/buffer chunk");e.emit("error",s);r.nextTick(function(){n(s)});o=false}return o}d.prototype.write=function(e,t,r){var a=this._writableState;var n=false;if(typeof t==="function"){r=t;t=null}if(i.isBuffer(e))t="buffer";else if(!t)t=a.defaultEncoding;if(typeof r!=="function")r=function(){};if(a.ended)c(this,a,r);else if(h(this,a,e,r))n=f(this,a,e,t,r);return n};function l(e,t,r){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=new i(t,r)}return t}function f(e,t,r,a,n){r=l(t,r,a);if(i.isBuffer(r))a="buffer";var s=t.objectMode?1:r.length;t.length+=s;var d=t.length<t.highWaterMark;if(!d)t.needDrain=true;if(t.writing)t.buffer.push(new o(r,a,n));else u(e,t,s,r,a,n);return d}function u(e,t,r,i,a,n){t.writelen=r;t.writecb=n;t.writing=true;t.sync=true;e._write(i,a,t.onwrite);t.sync=false}function p(e,t,i,a,n){if(i)r.nextTick(function(){n(a)});else n(a);e._writableState.errorEmitted=true;e.emit("error",a)}function b(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function y(e,t){var i=e._writableState;var a=i.sync;var n=i.writecb;b(i);if(t)p(e,i,a,t,n);else{var o=x(e,i);if(!o&&!i.bufferProcessing&&i.buffer.length)m(e,i);if(a){r.nextTick(function(){v(e,i,o,n)})}else{v(e,i,o,n)}}}function v(e,t,r,i){if(!r)g(e,t);i();if(r)_(e,t)}function g(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function m(e,t){t.bufferProcessing=true;for(var r=0;r<t.buffer.length;r++){var i=t.buffer[r];var a=i.chunk;var n=i.encoding;var o=i.callback;var s=t.objectMode?1:a.length;u(e,t,s,a,n,o);if(t.writing){r++;break}}t.bufferProcessing=false;if(r<t.buffer.length)t.buffer=t.buffer.slice(r);else t.buffer.length=0}d.prototype._write=function(e,t,r){r(new Error("not implemented"))};d.prototype.end=function(e,t,r){var i=this._writableState;if(typeof e==="function"){r=e;e=null;t=null}else if(typeof t==="function"){r=t;t=null}if(typeof e!=="undefined"&&e!==null)this.write(e,t);if(!i.ending&&!i.finished)w(this,i,r)};function x(e,t){return t.ending&&t.length===0&&!t.finished&&!t.writing}function _(e,t){var r=x(e,t);if(r){t.finished=true;e.emit("finish")}return r}function w(e,t,i){t.ending=true;_(e,t);if(i){if(t.finished)r.nextTick(i);else e.once("finish",i)}t.ended=true}}).call(this,e("_process"))},{"./_stream_duplex":119,_process:117,buffer:3,"core-util-is":124,inherits:115,stream:129}],124:[function(e,t,r){(function(e){function t(e){return Array.isArray(e)}r.isArray=t;function i(e){return typeof e==="boolean"}r.isBoolean=i;function a(e){return e===null}r.isNull=a;function n(e){return e==null}r.isNullOrUndefined=n;function o(e){return typeof e==="number"}r.isNumber=o;function s(e){return typeof e==="string"}r.isString=s;function d(e){return typeof e==="symbol"}r.isSymbol=d;function c(e){return e===void 0}r.isUndefined=c;function h(e){return l(e)&&v(e)==="[object RegExp]"}r.isRegExp=h;function l(e){return typeof e==="object"&&e!==null}r.isObject=l;function f(e){return l(e)&&v(e)==="[object Date]"}r.isDate=f;function u(e){return l(e)&&(v(e)==="[object Error]"||e instanceof Error)}r.isError=u;function p(e){return typeof e==="function"}r.isFunction=p;function b(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}r.isPrimitive=b;function y(t){return e.isBuffer(t)}r.isBuffer=y;function v(e){return Object.prototype.toString.call(e)}}).call(this,e("buffer").Buffer)},{buffer:3}],125:[function(e,t,r){t.exports=e("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":120}],126:[function(e,t,r){var i=e("stream");r=t.exports=e("./lib/_stream_readable.js");r.Stream=i;r.Readable=r;r.Writable=e("./lib/_stream_writable.js");r.Duplex=e("./lib/_stream_duplex.js");r.Transform=e("./lib/_stream_transform.js");r.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":119,"./lib/_stream_passthrough.js":120,"./lib/_stream_readable.js":121,"./lib/_stream_transform.js":122,"./lib/_stream_writable.js":123,stream:129}],127:[function(e,t,r){t.exports=e("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":122}],128:[function(e,t,r){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":123}],129:[function(e,t,r){t.exports=n;var i=e("events").EventEmitter;var a=e("inherits");a(n,i);n.Readable=e("readable-stream/readable.js");n.Writable=e("readable-stream/writable.js");n.Duplex=e("readable-stream/duplex.js");n.Transform=e("readable-stream/transform.js");n.PassThrough=e("readable-stream/passthrough.js");n.Stream=n;function n(){i.call(this)}n.prototype.pipe=function(e,t){var r=this;function a(t){if(e.writable){if(false===e.write(t)&&r.pause){r.pause()}}}r.on("data",a);function n(){if(r.readable&&r.resume){r.resume()}}e.on("drain",n);if(!e._isStdio&&(!t||t.end!==false)){r.on("end",s);r.on("close",d)}var o=false;function s(){if(o)return;o=true;e.end()}function d(){if(o)return;o=true;if(typeof e.destroy==="function")e.destroy()}function c(e){h();if(i.listenerCount(this,"error")===0){throw e}}r.on("error",c);e.on("error",c);function h(){r.removeListener("data",a);e.removeListener("drain",n);r.removeListener("end",s);r.removeListener("close",d);r.removeListener("error",c);e.removeListener("error",c);r.removeListener("end",h);r.removeListener("close",h);e.removeListener("close",h)}r.on("end",h);r.on("close",h);e.on("close",h);e.emit("pipe",r);return e}},{events:114,inherits:115,"readable-stream/duplex.js":118,"readable-stream/passthrough.js":125,"readable-stream/readable.js":126,"readable-stream/transform.js":127,"readable-stream/writable.js":128}],130:[function(e,t,r){var i=e("buffer").Buffer;var a=i.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function n(e){if(e&&!a(e)){throw new Error("Unknown encoding: "+e)}}var o=r.StringDecoder=function(e){this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,"");n(e);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2;this.detectIncompleteChar=d;break;case"base64":this.surrogateSize=3;this.detectIncompleteChar=c;break;default:this.write=s;return}this.charBuffer=new i(6);this.charReceived=0;this.charLength=0};o.prototype.write=function(e){var t="";while(this.charLength){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;e.copy(this.charBuffer,this.charReceived,0,r);this.charReceived+=r;if(this.charReceived<this.charLength){return""}e=e.slice(r,e.length);t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var i=t.charCodeAt(t.length-1);if(i>=55296&&i<=56319){this.charLength+=this.surrogateSize;t="";continue}this.charReceived=this.charLength=0;if(e.length===0){return t}break}this.detectIncompleteChar(e);var a=e.length;if(this.charLength){e.copy(this.charBuffer,0,e.length-this.charReceived,a);a-=this.charReceived}t+=e.toString(this.encoding,0,a);var a=t.length-1;var i=t.charCodeAt(a);if(i>=55296&&i<=56319){var n=this.surrogateSize;this.charLength+=n;this.charReceived+=n;this.charBuffer.copy(this.charBuffer,n,0,n);e.copy(this.charBuffer,0,0,n);return t.substring(0,a)}return t};o.prototype.detectIncompleteChar=function(e){var t=e.length>=3?3:e.length;for(;t>0;t--){var r=e[e.length-t];if(t==1&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t};o.prototype.end=function(e){var t="";if(e&&e.length)t=this.write(e);if(this.charReceived){var r=this.charReceived;var i=this.charBuffer;var a=this.encoding;t+=i.slice(0,r).toString(a)}return t};function s(e){return e.toString(this.encoding)}function d(e){this.charReceived=e.length%2;this.charLength=this.charReceived?2:0}function c(e){this.charReceived=e.length%3;this.charLength=this.charReceived?3:0}},{buffer:3}],131:[function(e,t,r){t.exports=function i(e){return e&&typeof e==="object"&&typeof e.copy==="function"&&typeof e.fill==="function"&&typeof e.readUInt8==="function"}},{}],132:[function(e,t,r){(function(t,i){var a=/%[sdj%]/g;r.format=function(e){if(!w(e)){var t=[];for(var r=0;r<arguments.length;r++){t.push(s(arguments[r]))}return t.join(" ")}var r=1;var i=arguments;var n=i.length;var o=String(e).replace(a,function(e){if(e==="%%")return"%";if(r>=n)return e;switch(e){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":try{return JSON.stringify(i[r++])}catch(t){return"[Circular]"}default:return e}});for(var d=i[r];r<n;d=i[++r]){if(m(d)||!C(d)){o+=" "+d}else{o+=" "+s(d)}}return o};r.deprecate=function(e,a){if(S(i.process)){return function(){return r.deprecate(e,a).apply(this,arguments)}}if(t.noDeprecation===true){return e}var n=false;function o(){if(!n){if(t.throwDeprecation){throw new Error(a)}else if(t.traceDeprecation){console.trace(a)}else{console.error(a)}n=true}return e.apply(this,arguments)}return o};var n={};var o;r.debuglog=function(e){if(S(o))o=t.env.NODE_DEBUG||"";e=e.toUpperCase();if(!n[e]){if(new RegExp("\\b"+e+"\\b","i").test(o)){var i=t.pid;n[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,i,t)}}else{n[e]=function(){}}}return n[e]};function s(e,t){var i={seen:[],stylize:c};if(arguments.length>=3)i.depth=arguments[2];if(arguments.length>=4)i.colors=arguments[3];if(g(t)){i.showHidden=t}else if(t){r._extend(i,t)}if(S(i.showHidden))i.showHidden=false;if(S(i.depth))i.depth=2;if(S(i.colors))i.colors=false;if(S(i.customInspect))i.customInspect=true;if(i.colors)i.stylize=d;return l(i,e,i.depth)}r.inspect=s;s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};s.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};function d(e,t){var r=s.styles[t];if(r){return"["+s.colors[r][0]+"m"+e+"["+s.colors[r][1]+"m"}else{return e}}function c(e,t){return e}function h(e){var t={};e.forEach(function(e,r){t[e]=true});return t}function l(e,t,i){if(e.customInspect&&t&&R(t.inspect)&&t.inspect!==r.inspect&&!(t.constructor&&t.constructor.prototype===t)){var a=t.inspect(i,e);if(!w(a)){a=l(e,a,i)}return a}var n=f(e,t);if(n){return n}var o=Object.keys(t);var s=h(o);if(e.showHidden){o=Object.getOwnPropertyNames(t)}if(M(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0)){return u(t)}if(o.length===0){if(R(t)){var d=t.name?": "+t.name:"";return e.stylize("[Function"+d+"]","special")}if(A(t)){return e.stylize(RegExp.prototype.toString.call(t),"regexp")}if(E(t)){return e.stylize(Date.prototype.toString.call(t),"date")}if(M(t)){return u(t)}}var c="",g=false,m=["{","}"];if(v(t)){g=true;m=["[","]"]}if(R(t)){var x=t.name?": "+t.name:"";c=" [Function"+x+"]"}if(A(t)){c=" "+RegExp.prototype.toString.call(t)}if(E(t)){c=" "+Date.prototype.toUTCString.call(t)}if(M(t)){c=" "+u(t)}if(o.length===0&&(!g||t.length==0)){return m[0]+c+m[1]}if(i<0){if(A(t)){return e.stylize(RegExp.prototype.toString.call(t),"regexp")}else{return e.stylize("[Object]","special")}}e.seen.push(t);var _;if(g){_=p(e,t,i,s,o)}else{_=o.map(function(r){return b(e,t,i,s,r,g)})}e.seen.pop();return y(_,c,m)}function f(e,t){if(S(t))return e.stylize("undefined","undefined");if(w(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(_(t))return e.stylize(""+t,"number");if(g(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,r,i,a){var n=[];for(var o=0,s=t.length;o<s;++o){if(F(t,String(o))){n.push(b(e,t,r,i,String(o),true))}else{n.push("")}}a.forEach(function(a){if(!a.match(/^\d+$/)){n.push(b(e,t,r,i,a,true))}});return n}function b(e,t,r,i,a,n){var o,s,d;d=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]};if(d.get){if(d.set){s=e.stylize("[Getter/Setter]","special")}else{s=e.stylize("[Getter]","special")}}else{if(d.set){s=e.stylize("[Setter]","special")}}if(!F(i,a)){o="["+a+"]"}if(!s){if(e.seen.indexOf(d.value)<0){if(m(r)){s=l(e,d.value,null)}else{s=l(e,d.value,r-1)}if(s.indexOf("\n")>-1){if(n){s=s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2)}else{s="\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")}}}else{s=e.stylize("[Circular]","special")}}if(S(o)){if(n&&a.match(/^\d+$/)){return s}o=JSON.stringify(""+a);if(o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){o=o.substr(1,o.length-2);o=e.stylize(o,"name")}else{o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");o=e.stylize(o,"string")}}return o+": "+s}function y(e,t,r){var i=0;var a=e.reduce(function(e,t){i++;if(t.indexOf("\n")>=0)i++;return e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(a>60){return r[0]+(t===""?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]}return r[0]+t+" "+e.join(", ")+" "+r[1]}function v(e){return Array.isArray(e)}r.isArray=v;function g(e){return typeof e==="boolean"}r.isBoolean=g;function m(e){return e===null}r.isNull=m;function x(e){return e==null}r.isNullOrUndefined=x;function _(e){return typeof e==="number"}r.isNumber=_;function w(e){return typeof e==="string"}r.isString=w;function T(e){return typeof e==="symbol"}r.isSymbol=T;function S(e){return e===void 0}r.isUndefined=S;function A(e){return C(e)&&B(e)==="[object RegExp]"}r.isRegExp=A;function C(e){return typeof e==="object"&&e!==null}r.isObject=C;function E(e){return C(e)&&B(e)==="[object Date]"}r.isDate=E;function M(e){return C(e)&&(B(e)==="[object Error]"||e instanceof Error)}r.isError=M;function R(e){return typeof e==="function"}r.isFunction=R;function $(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}r.isPrimitive=$;r.isBuffer=e("./support/isBuffer");function B(e){return Object.prototype.toString.call(e)}function L(e){return e<10?"0"+e.toString(10):e.toString(10)}var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function j(){var e=new Date;var t=[L(e.getHours()),L(e.getMinutes()),L(e.getSeconds())].join(":");return[e.getDate(),I[e.getMonth()],t].join(" ")}r.log=function(){console.log("%s - %s",j(),r.format.apply(r,arguments))};r.inherits=e("inherits");r._extend=function(e,t){if(!t||!C(t))return e;var r=Object.keys(t);var i=r.length;while(i--){e[r[i]]=t[r[i]]}return e};function F(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":131,_process:117,inherits:115}],133:[function(require,module,exports){var indexOf=require("indexof");var Object_keys=function(e){if(Object.keys)return Object.keys(e);else{var t=[];for(var r in e)t.push(r);return t}};var forEach=function(e,t){if(e.forEach)return e.forEach(t);else for(var r=0;r<e.length;r++){t(e[r],r,e)}};var defineProp=function(){try{Object.defineProperty({},"_",{});return function(e,t,r){Object.defineProperty(e,t,{writable:true,enumerable:false,configurable:true,value:r})}}catch(e){return function(e,t,r){e[t]=r}}}();var globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function e(t){if(!(this instanceof Script))return new Script(t);this.code=t};Script.prototype.runInContext=function(e){if(!(e instanceof Context)){throw new TypeError("needs a 'context' argument.")}var t=document.createElement("iframe");if(!t.style)t.style={};t.style.display="none";document.body.appendChild(t);var r=t.contentWindow;var i=r.eval,a=r.execScript;if(!i&&a){a.call(r,"null");i=r.eval}forEach(Object_keys(e),function(t){r[t]=e[t]});forEach(globals,function(t){if(e[t]){r[t]=e[t]}});var n=Object_keys(r);var o=i.call(r,this.code);forEach(Object_keys(r),function(t){if(t in e||indexOf(n,t)===-1){e[t]=r[t]}});forEach(globals,function(t){if(!(t in e)){defineProp(e,t,r[t])}});document.body.removeChild(t);return o};Script.prototype.runInThisContext=function(){return eval(this.code)};Script.prototype.runInNewContext=function(e){var t=Script.createContext(e);var r=this.runInContext(t);forEach(Object_keys(t),function(r){e[r]=t[r]});return r};forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var r=Script(t);return r[e].apply(r,[].slice.call(arguments,1))}});exports.createScript=function(e){return exports.Script(e)};exports.createContext=Script.createContext=function(e){var t=new Context;if(typeof e==="object"){forEach(Object_keys(e),function(r){t[r]=e[r]})}return t}},{indexof:134}],134:[function(e,t,r){var i=[].indexOf;t.exports=function(e,t){if(i)return e.indexOf(t);for(var r=0;r<e.length;++r){if(e[r]===t)return r}return-1}},{}],135:[function(e,t,r){function i(){this.setSettings=function(e){for(var t=0;t<24;t++){this[String.fromCharCode(97+t)]=e[t]||0}if(this["c"]<.01){this["c"]=.01}var r=this["b"]+this["c"]+this["e"];if(r<.18){var i=.18/r;this["b"]*=i;this["c"]*=i;this["e"]*=i}}}function a(){this._params=new i;var e,t,r,a,n,o,s,d,c,h,l,f;this.reset=function(){var e=this._params;
a=100/(e["f"]*e["f"]+.001);n=100/(e["g"]*e["g"]+.001);o=1-e["h"]*e["h"]*e["h"]*.01;s=-e["i"]*e["i"]*e["i"]*1e-6;if(!e["a"]){l=.5-e["n"]/2;f=-e["o"]*5e-5}d=1+e["l"]*e["l"]*(e["l"]>0?-.9:10);c=0;h=e["m"]==1?0:(1-e["m"])*(1-e["m"])*2e4+32};this.totalReset=function(){this.reset();var i=this._params;e=i["b"]*i["b"]*1e5;t=i["c"]*i["c"]*1e5;r=i["e"]*i["e"]*1e5+12;return((e+t+r)/3|0)*3};this.synthWave=function(i,u){var p=this._params;var b=p["s"]!=1||p["v"],y=p["v"]*p["v"]*.1,v=1+p["w"]*3e-4,g=p["s"]*p["s"]*p["s"]*.1,m=1+p["t"]*1e-4,x=p["s"]!=1,_=p["x"]*p["x"],w=p["g"],T=p["q"]||p["r"],S=p["r"]*p["r"]*p["r"]*.2,A=p["q"]*p["q"]*(p["q"]<0?-1020:1020),C=p["p"]?((1-p["p"])*(1-p["p"])*2e4|0)+32:0,E=p["d"],M=p["j"]/2,R=p["k"]*p["k"]*.01,$=p["a"];var B=e,L=1/e,I=1/t,j=1/r;var F=5/(1+p["u"]*p["u"]*20)*(.01+g);if(F>.8){F=.8}F=1-F;var P=false,k=0,D=0,O=0,N=0,U=0,G,W=0,Y,z=0,V,X=0,q,H=0,K,J,Q=0;var Z=new Array(1024),et=new Array(32);for(var tt=Z.length;tt--;){Z[tt]=0}for(var tt=et.length;tt--;){et[tt]=Math.random()*2-1}for(var tt=0;tt<u;tt++){if(P){return tt}if(C){if(++H>=C){H=0;this.reset()}}if(h){if(++c>=h){h=0;a*=d}}o+=s;a*=o;if(a>n){a=n;if(w>0){P=true}}Y=a;if(M>0){Q+=R;Y*=1+Math.sin(Q)*M}Y|=0;if(Y<8){Y=8}if(!$){l+=f;if(l<0){l=0}else if(l>.5){l=.5}}if(++D>B){D=0;switch(++k){case 1:B=t;break;case 2:B=r}}switch(k){case 0:O=D*L;break;case 1:O=1+(1-D*I)*2*E;break;case 2:O=1-D*j;break;case 3:O=0;P=true}if(T){A+=S;V=A|0;if(V<0){V=-V}else if(V>1023){V=1023}}if(b&&v){y*=v;if(y<1e-5){y=1e-5}else if(y>.1){y=.1}}J=0;for(var rt=8;rt--;){z++;if(z>=Y){z%=Y;if($==3){for(var it=et.length;it--;){et[it]=Math.random()*2-1}}}switch($){case 0:K=z/Y<l?.5:-.5;break;case 1:K=1-z/Y*2;break;case 2:q=z/Y;q=(q>.5?q-1:q)*6.28318531;K=1.27323954*q+.405284735*q*q*(q<0?1:-1);K=.225*((K<0?-1:1)*K*K-K)+K;break;case 3:K=et[Math.abs(z*32/Y|0)]}if(b){G=W;g*=m;if(g<0){g=0}else if(g>.1){g=.1}if(x){U+=(K-W)*g;U*=F}else{W=K;U=0}W+=U;N+=W-G;N*=1-y;K=N}if(T){Z[X%1024]=K;K+=Z[(X-V+1024)%1024];X++}J+=K}J*=.125*O*_;i[tt]=J>=1?32767:J<=-1?-32768:J*32767|0}return u}}var n=new a;var o=function(e){n._params.setSettings(e);var t=n.totalReset();var r=new Uint8Array(((t+1)/2|0)*4+44);var i=n.synthWave(new Uint16Array(r.buffer,44),t)*2;var a=new Uint32Array(r.buffer,0,44);a[0]=1179011410;a[1]=i+36;a[2]=1163280727;a[3]=544501094;a[4]=16;a[5]=65537;a[6]=44100;a[7]=88200;a[8]=1048578;a[9]=1635017060;a[10]=i;i+=44;var o=0,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="data:audio/wav;base64,";for(;o<i;o+=3){var c=r[o]<<16|r[o+1]<<8|r[o+2];d+=s[c>>18]+s[c>>12&63]+s[c>>6&63]+s[c&63]}return d};if(typeof e==="function"){t.exports=o}else{this.jsfxr=o}},{}],136:[function(e,t,r){(function(e){(function(){var i;var a=[],n=[];var o=0;var s=+new Date+"";var d=75;var c=40;var h=" 	\f ﻿"+"\n\r\u2028\u2029"+" ᠎             　";var l=/\b__p \+= '';/g,f=/\b(__p \+=) '' \+/g,u=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var p=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var b=/\w*$/;var y=/^\s*function[ \n\r\t]+\w/;var v=/<%=([\s\S]+?)%>/g;var g=RegExp("^["+h+"]*0+(?=.$)");var m=/($^)/;var x=/\bthis\b/;var _=/['\n\r\t\u2028\u2029\\]/g;var w=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"];var T=0;var S="[object Arguments]",A="[object Array]",C="[object Boolean]",E="[object Date]",M="[object Function]",R="[object Number]",$="[object Object]",B="[object RegExp]",L="[object String]";var I={};I[M]=false;I[S]=I[A]=I[C]=I[E]=I[R]=I[$]=I[B]=I[L]=true;var j={leading:false,maxWait:0,trailing:false};var F={configurable:false,enumerable:false,value:null,writable:false};var P={"boolean":false,"function":true,object:true,number:false,string:false,undefined:false};var k={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"};var D=P[typeof window]&&window||this;var O=P[typeof r]&&r&&!r.nodeType&&r;var N=P[typeof t]&&t&&!t.nodeType&&t;var U=N&&N.exports===O&&O;var G=P[typeof e]&&e;if(G&&(G.global===G||G.window===G)){D=G}function W(e,t,r){var i=(r||0)-1,a=e?e.length:0;while(++i<a){if(e[i]===t){return i}}return-1}function Y(e,t){var r=typeof t;e=e.cache;if(r=="boolean"||t==null){return e[t]?0:-1}if(r!="number"&&r!="string"){r="object"}var i=r=="number"?t:s+t;e=(e=e[r])&&e[i];return r=="object"?e&&W(e,t)>-1?0:-1:e?0:-1}function z(e){var t=this.cache,r=typeof e;if(r=="boolean"||e==null){t[e]=true}else{if(r!="number"&&r!="string"){r="object"}var i=r=="number"?e:s+e,a=t[r]||(t[r]={});if(r=="object"){(a[i]||(a[i]=[])).push(e)}else{a[i]=true}}}function V(e){return e.charCodeAt(0)}function X(e,t){var r=e.criteria,i=t.criteria,a=-1,n=r.length;while(++a<n){var o=r[a],s=i[a];if(o!==s){if(o>s||typeof o=="undefined"){return 1}if(o<s||typeof s=="undefined"){return-1}}}return e.index-t.index}function q(e){var t=-1,r=e.length,i=e[0],a=e[r/2|0],n=e[r-1];if(i&&typeof i=="object"&&a&&typeof a=="object"&&n&&typeof n=="object"){return false}var o=J();o["false"]=o["null"]=o["true"]=o["undefined"]=false;var s=J();s.array=e;s.cache=o;s.push=z;while(++t<r){s.push(e[t])}return s}function H(e){return"\\"+k[e]}function K(){return a.pop()||[]}function J(){return n.pop()||{array:null,cache:null,criteria:null,"false":false,index:0,"null":false,number:null,object:null,push:null,string:null,"true":false,undefined:false,value:null}}function Q(e){e.length=0;if(a.length<c){a.push(e)}}function Z(e){var t=e.cache;if(t){Z(t)}e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null;if(n.length<c){n.push(e)}}function et(e,t,r){t||(t=0);if(typeof r=="undefined"){r=e?e.length:0}var i=-1,a=r-t||0,n=Array(a<0?0:a);while(++i<a){n[i]=e[t+i]}return n}function tt(e){e=e?rt.defaults(D.Object(),e,rt.pick(D,w)):D;var t=e.Array,r=e.Boolean,a=e.Date,n=e.Function,c=e.Math,k=e.Number,O=e.Object,N=e.RegExp,U=e.String,G=e.TypeError;var z=[];var it=O.prototype;var at=e._;var nt=it.toString;var ot=N("^"+U(nt).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");var st=c.ceil,dt=e.clearTimeout,ct=c.floor,ht=n.prototype.toString,lt=Vt(lt=O.getPrototypeOf)&&lt,ft=it.hasOwnProperty,ut=z.push,pt=e.setTimeout,bt=z.splice,yt=z.unshift;var vt=function(){try{var e={},t=Vt(t=O.defineProperty)&&t,r=t(e,e,e)&&t}catch(i){}return r}();var gt=Vt(gt=O.create)&&gt,mt=Vt(mt=t.isArray)&&mt,xt=e.isFinite,_t=e.isNaN,wt=Vt(wt=O.keys)&&wt,Tt=c.max,St=c.min,At=e.parseInt,Ct=c.random;var Et={};Et[A]=t;Et[C]=r;Et[E]=a;Et[M]=n;Et[$]=O;Et[R]=k;Et[B]=N;Et[L]=U;function Mt(e){return e&&typeof e=="object"&&!Jt(e)&&ft.call(e,"__wrapped__")?e:new Rt(e)}function Rt(e,t){this.__chain__=!!t;this.__wrapped__=e}Rt.prototype=Mt.prototype;var $t=Mt.support={};$t.funcDecomp=!Vt(e.WinRTError)&&x.test(tt);$t.funcNames=typeof n.name=="string";Mt.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:v,variable:"",imports:{_:Mt}};function Bt(e){var t=e[0],r=e[2],i=e[4];function a(){if(r){var e=et(r);ut.apply(e,arguments)}if(this instanceof a){var n=It(t.prototype),o=t.apply(n,e||arguments);return Ar(o)?o:n}return t.apply(i,e||arguments)}Xt(a,e);return a}function Lt(e,t,r,i,a){if(r){var n=r(e);if(typeof n!="undefined"){return n}}var o=Ar(e);if(o){var s=nt.call(e);if(!I[s]){return e}var d=Et[s];switch(s){case C:case E:return new d(+e);case R:case L:return new d(e);case B:n=d(e.source,b.exec(e));n.lastIndex=e.lastIndex;return n}}else{return e}var c=Jt(e);if(t){var h=!i;i||(i=K());a||(a=K());var l=i.length;while(l--){if(i[l]==e){return a[l]}}n=c?d(e.length):{}}else{n=c?et(e):ar({},e)}if(c){if(ft.call(e,"index")){n.index=e.index}if(ft.call(e,"input")){n.input=e.input}}if(!t){return n}i.push(e);a.push(n);(c?Xr:ur)(e,function(e,o){n[o]=Lt(e,t,r,i,a)});if(h){Q(i);Q(a)}return n}function It(e,t){return Ar(e)?gt(e):{}}if(!gt){It=function(){function t(){}return function(r){if(Ar(r)){t.prototype=r;var i=new t;t.prototype=null}return i||e.Object()}}()}function jt(e,t,r){if(typeof e!="function"){return Qi}if(typeof t=="undefined"||!("prototype"in e)){return e}var i=e.__bindData__;if(typeof i=="undefined"){if($t.funcNames){i=!e.name}i=i||!$t.funcDecomp;if(!i){var a=ht.call(e);if(!$t.funcNames){i=!y.test(a)}if(!i){i=x.test(a);Xt(e,i)}}}if(i===false||i!==true&&i[1]&1){return e}switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,i){return e.call(t,r,i)};case 3:return function(r,i,a){return e.call(t,r,i,a)};case 4:return function(r,i,a,n){return e.call(t,r,i,a,n)}}return Fi(e,t)}function Ft(e){var t=e[0],r=e[1],i=e[2],a=e[3],n=e[4],o=e[5];var s=r&1,d=r&2,c=r&4,h=r&8,l=t;function f(){var e=s?n:this;if(i){var u=et(i);ut.apply(u,arguments)}if(a||c){u||(u=et(arguments));if(a){ut.apply(u,a)}if(c&&u.length<o){r|=16&~32;return Ft([t,h?r:r&~3,u,null,n,o])}}u||(u=arguments);if(d){t=e[l]}if(this instanceof f){e=It(t.prototype);var p=t.apply(e,u);return Ar(p)?p:e}return t.apply(e,u)}Xt(f,e);return f}function Pt(e,t){var r=-1,i=zt(),a=e?e.length:0,n=a>=d&&i===W,o=[];if(n){var s=q(t);if(s){i=Y;t=s}else{n=false}}while(++r<a){var c=e[r];if(i(t,c)<0){o.push(c)}}if(n){Z(t)}return o}function kt(e,t,r,i){var a=(i||0)-1,n=e?e.length:0,o=[];while(++a<n){var s=e[a];if(s&&typeof s=="object"&&typeof s.length=="number"&&(Jt(s)||Kt(s))){if(!t){s=kt(s,t,r)}var d=-1,c=s.length,h=o.length;o.length+=c;while(++d<c){o[h++]=s[d]}}else if(!r){o.push(s)}}return o}function Dt(e,t,r,i,a,n){if(r){var o=r(e,t);if(typeof o!="undefined"){return!!o}}if(e===t){return e!==0||1/e==1/t}var s=typeof e,d=typeof t;if(e===e&&!(e&&P[s])&&!(t&&P[d])){return false}if(e==null||t==null){return e===t}var c=nt.call(e),h=nt.call(t);if(c==S){c=$}if(h==S){h=$}if(c!=h){return false}switch(c){case C:case E:return+e==+t;case R:return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case B:case L:return e==U(t)}var l=c==A;if(!l){var f=ft.call(e,"__wrapped__"),u=ft.call(t,"__wrapped__");if(f||u){return Dt(f?e.__wrapped__:e,u?t.__wrapped__:t,r,i,a,n)}if(c!=$){return false}var p=e.constructor,b=t.constructor;if(p!=b&&!(Sr(p)&&p instanceof p&&Sr(b)&&b instanceof b)&&("constructor"in e&&"constructor"in t)){return false}}var y=!a;a||(a=K());n||(n=K());var v=a.length;while(v--){if(a[v]==e){return n[v]==t}}var g=0;o=true;a.push(e);n.push(t);if(l){v=e.length;g=t.length;o=g==v;if(o||i){while(g--){var m=v,x=t[g];if(i){while(m--){if(o=Dt(e[m],x,r,i,a,n)){break}}}else if(!(o=Dt(e[g],x,r,i,a,n))){break}}}}else{lr(t,function(t,s,d){if(ft.call(d,s)){g++;return o=ft.call(e,s)&&Dt(e[s],t,r,i,a,n)}});if(o&&!i){lr(e,function(e,t,r){if(ft.call(r,t)){return o=--g>-1}})}}a.pop();n.pop();if(y){Q(a);Q(n)}return o}function Ot(e,t,r,i,a){(Jt(t)?Xr:ur)(t,function(t,n){var o,s,d=t,c=e[n];if(t&&((s=Jt(t))||Rr(t))){var h=i.length;while(h--){if(o=i[h]==t){c=a[h];break}}if(!o){var l;if(r){d=r(c,t);if(l=typeof d!="undefined"){c=d}}if(!l){c=s?Jt(c)?c:[]:Rr(c)?c:{}}i.push(t);a.push(c);if(!l){Ot(c,t,r,i,a)}}}else{if(r){d=r(c,t);if(typeof d=="undefined"){d=t}}if(typeof d!="undefined"){c=d}}e[n]=c})}function Nt(e,t){return e+ct(Ct()*(t-e+1))}function Ut(e,t,r){var i=-1,a=zt(),n=e?e.length:0,o=[];var s=!t&&n>=d&&a===W,c=r||s?K():o;if(s){var h=q(c);a=Y;c=h}while(++i<n){var l=e[i],f=r?r(l,i,e):l;if(t?!i||c[c.length-1]!==f:a(c,f)<0){if(r||s){c.push(f)}o.push(l)}}if(s){Q(c.array);Z(c)}else if(r){Q(c)}return o}function Gt(e){return function(t,r,i){var a={};r=Mt.createCallback(r,i,3);var n=-1,o=t?t.length:0;if(typeof o=="number"){while(++n<o){var s=t[n];e(a,s,r(s,n,t),t)}}else{ur(t,function(t,i,n){e(a,t,r(t,i,n),n)})}return a}}function Wt(e,t,r,i,a,n){var o=t&1,s=t&2,d=t&4,c=t&8,h=t&16,l=t&32;if(!s&&!Sr(e)){throw new G}if(h&&!r.length){t&=~16;h=r=false}if(l&&!i.length){t&=~32;l=i=false}var f=e&&e.__bindData__;if(f&&f!==true){f=et(f);if(f[2]){f[2]=et(f[2])}if(f[3]){f[3]=et(f[3])}if(o&&!(f[1]&1)){f[4]=a}if(!o&&f[1]&1){t|=8}if(d&&!(f[1]&4)){f[5]=n}if(h){ut.apply(f[2]||(f[2]=[]),r)}if(l){yt.apply(f[3]||(f[3]=[]),i)}f[1]|=t;return Wt.apply(null,f)}var u=t==1||t===17?Bt:Ft;return u([e,t,r,i,a,n])}function Yt(e){return er[e]}function zt(){var e=(e=Mt.indexOf)===gi?W:e;return e}function Vt(e){return typeof e=="function"&&ot.test(e)}var Xt=!vt?ta:function(e,t){F.value=t;vt(e,"__bindData__",F)};function qt(e){var t,r;if(!(e&&nt.call(e)==$)||(t=e.constructor,Sr(t)&&!(t instanceof t))){return false}lr(e,function(e,t){r=t});return typeof r=="undefined"||ft.call(e,r)}function Ht(e){return tr[e]}function Kt(e){return e&&typeof e=="object"&&typeof e.length=="number"&&nt.call(e)==S||false}var Jt=mt||function(e){return e&&typeof e=="object"&&typeof e.length=="number"&&nt.call(e)==A||false};var Qt=function(e){var t,r=e,i=[];if(!r)return i;if(!P[typeof e])return i;for(t in r){if(ft.call(r,t)){i.push(t)}}return i};var Zt=!wt?Qt:function(e){if(!Ar(e)){return[]}return wt(e)};var er={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var tr=vr(er);var rr=N("("+Zt(tr).join("|")+")","g"),ir=N("["+Zt(er).join("")+"]","g");var ar=function(e,t,r){var i,a=e,n=a;if(!a)return n;var o=arguments,s=0,d=typeof r=="number"?2:o.length;if(d>3&&typeof o[d-2]=="function"){var c=jt(o[--d-1],o[d--],2)}else if(d>2&&typeof o[d-1]=="function"){c=o[--d]}while(++s<d){a=o[s];if(a&&P[typeof a]){var h=-1,l=P[typeof a]&&Zt(a),f=l?l.length:0;while(++h<f){i=l[h];n[i]=c?c(n[i],a[i]):a[i]}}}return n};function nr(e,t,r,i){if(typeof t!="boolean"&&t!=null){i=r;r=t;t=false}return Lt(e,t,typeof r=="function"&&jt(r,i,1))}function or(e,t,r){return Lt(e,true,typeof t=="function"&&jt(t,r,1))}function sr(e,t){var r=It(e);return t?ar(r,t):r}var dr=function(e,t,r){var i,a=e,n=a;if(!a)return n;var o=arguments,s=0,d=typeof r=="number"?2:o.length;while(++s<d){a=o[s];if(a&&P[typeof a]){var c=-1,h=P[typeof a]&&Zt(a),l=h?h.length:0;while(++c<l){i=h[c];if(typeof n[i]=="undefined")n[i]=a[i]}}}return n};function cr(e,t,r){var i;t=Mt.createCallback(t,r,3);ur(e,function(e,r,a){if(t(e,r,a)){i=r;return false}});return i}function hr(e,t,r){var i;t=Mt.createCallback(t,r,3);pr(e,function(e,r,a){if(t(e,r,a)){i=r;return false}});return i}var lr=function(e,t,r){var i,a=e,n=a;if(!a)return n;if(!P[typeof a])return n;t=t&&typeof r=="undefined"?t:jt(t,r,3);for(i in a){if(t(a[i],i,e)===false)return n}return n};function fr(e,t,r){var i=[];lr(e,function(e,t){i.push(t,e)});var a=i.length;t=jt(t,r,3);while(a--){if(t(i[a--],i[a],e)===false){break}}return e}var ur=function(e,t,r){var i,a=e,n=a;if(!a)return n;if(!P[typeof a])return n;t=t&&typeof r=="undefined"?t:jt(t,r,3);var o=-1,s=P[typeof a]&&Zt(a),d=s?s.length:0;while(++o<d){i=s[o];if(t(a[i],i,e)===false)return n}return n};function pr(e,t,r){var i=Zt(e),a=i.length;t=jt(t,r,3);while(a--){var n=i[a];if(t(e[n],n,e)===false){break}}return e}function br(e){var t=[];lr(e,function(e,r){if(Sr(e)){t.push(r)}});return t.sort()}function yr(e,t){return e?ft.call(e,t):false}function vr(e){var t=-1,r=Zt(e),i=r.length,a={};while(++t<i){var n=r[t];a[e[n]]=n}return a}function gr(e){return e===true||e===false||e&&typeof e=="object"&&nt.call(e)==C||false}function mr(e){return e&&typeof e=="object"&&nt.call(e)==E||false}function xr(e){return e&&e.nodeType===1||false}function _r(e){var t=true;if(!e){return t}var r=nt.call(e),i=e.length;if(r==A||r==L||r==S||r==$&&typeof i=="number"&&Sr(e.splice)){return!i}ur(e,function(){return t=false});return t}function wr(e,t,r,i){return Dt(e,t,typeof r=="function"&&jt(r,i,2))}function Tr(e){return xt(e)&&!_t(parseFloat(e))}function Sr(e){return typeof e=="function"}function Ar(e){return!!(e&&P[typeof e])}function Cr(e){return Mr(e)&&e!=+e}function Er(e){return e===null}function Mr(e){return typeof e=="number"||e&&typeof e=="object"&&nt.call(e)==R||false}var Rr=!lt?qt:function(e){if(!(e&&nt.call(e)==$)){return false}var t=e.valueOf,r=Vt(t)&&(r=lt(t))&&lt(r);return r?e==r||lt(e)==r:qt(e)};function $r(e){return e&&typeof e=="object"&&nt.call(e)==B||false}function Br(e){return typeof e=="string"||e&&typeof e=="object"&&nt.call(e)==L||false}function Lr(e){return typeof e=="undefined"}function Ir(e,t,r){var i={};t=Mt.createCallback(t,r,3);ur(e,function(e,r,a){i[r]=t(e,r,a)});return i}function jr(e){var t=arguments,r=2;if(!Ar(e)){return e}if(typeof t[2]!="number"){r=t.length}if(r>3&&typeof t[r-2]=="function"){var i=jt(t[--r-1],t[r--],2)}else if(r>2&&typeof t[r-1]=="function"){i=t[--r]}var a=et(arguments,1,r),n=-1,o=K(),s=K();while(++n<r){Ot(e,a[n],i,o,s)}Q(o);Q(s);return e}function Fr(e,t,r){var i={};if(typeof t!="function"){var a=[];lr(e,function(e,t){a.push(t)});a=Pt(a,kt(arguments,true,false,1));var n=-1,o=a.length;while(++n<o){var s=a[n];i[s]=e[s]}}else{t=Mt.createCallback(t,r,3);lr(e,function(e,r,a){if(!t(e,r,a)){i[r]=e}})}return i}function Pr(e){var r=-1,i=Zt(e),a=i.length,n=t(a);while(++r<a){var o=i[r];n[r]=[o,e[o]]}return n}function kr(e,t,r){var i={};if(typeof t!="function"){var a=-1,n=kt(arguments,true,false,1),o=Ar(e)?n.length:0;while(++a<o){var s=n[a];if(s in e){i[s]=e[s]}}}else{t=Mt.createCallback(t,r,3);lr(e,function(e,r,a){if(t(e,r,a)){i[r]=e}})}return i}function Dr(e,t,r,i){var a=Jt(e);if(r==null){if(a){r=[]}else{var n=e&&e.constructor,o=n&&n.prototype;r=It(o)}}if(t){t=Mt.createCallback(t,i,4);(a?Xr:ur)(e,function(e,i,a){return t(r,e,i,a)})}return r}function Or(e){var r=-1,i=Zt(e),a=i.length,n=t(a);while(++r<a){n[r]=e[i[r]]}return n}function Nr(e){var r=arguments,i=-1,a=kt(r,true,false,1),n=r[2]&&r[2][r[1]]===e?1:a.length,o=t(n);while(++i<n){o[i]=e[a[i]]}return o}function Ur(e,t,r){var i=-1,a=zt(),n=e?e.length:0,o=false;r=(r<0?Tt(0,n+r):r)||0;if(Jt(e)){o=a(e,t,r)>-1}else if(typeof n=="number"){o=(Br(e)?e.indexOf(t,r):a(e,t,r))>-1}else{ur(e,function(e){if(++i>=r){return!(o=e===t)}})}return o}var Gr=Gt(function(e,t,r){ft.call(e,r)?e[r]++:e[r]=1});function Wr(e,t,r){var i=true;t=Mt.createCallback(t,r,3);var a=-1,n=e?e.length:0;if(typeof n=="number"){while(++a<n){if(!(i=!!t(e[a],a,e))){break}}}else{ur(e,function(e,r,a){return i=!!t(e,r,a)})}return i}function Yr(e,t,r){var i=[];t=Mt.createCallback(t,r,3);var a=-1,n=e?e.length:0;if(typeof n=="number"){while(++a<n){var o=e[a];if(t(o,a,e)){i.push(o)}}}else{ur(e,function(e,r,a){if(t(e,r,a)){i.push(e)}})}return i}function zr(e,t,r){t=Mt.createCallback(t,r,3);var i=-1,a=e?e.length:0;if(typeof a=="number"){while(++i<a){var n=e[i];if(t(n,i,e)){return n}}}else{var o;ur(e,function(e,r,i){if(t(e,r,i)){o=e;return false}});return o}}function Vr(e,t,r){var i;t=Mt.createCallback(t,r,3);qr(e,function(e,r,a){if(t(e,r,a)){i=e;return false}});return i}function Xr(e,t,r){var i=-1,a=e?e.length:0;t=t&&typeof r=="undefined"?t:jt(t,r,3);if(typeof a=="number"){while(++i<a){if(t(e[i],i,e)===false){break}}}else{ur(e,t)}return e}function qr(e,t,r){var i=e?e.length:0;t=t&&typeof r=="undefined"?t:jt(t,r,3);if(typeof i=="number"){while(i--){if(t(e[i],i,e)===false){break}}}else{var a=Zt(e);i=a.length;ur(e,function(e,r,n){r=a?a[--i]:--i;return t(n[r],r,n)})}return e}var Hr=Gt(function(e,t,r){(ft.call(e,r)?e[r]:e[r]=[]).push(t)});var Kr=Gt(function(e,t,r){e[r]=t});function Jr(e,r){var i=et(arguments,2),a=-1,n=typeof r=="function",o=e?e.length:0,s=t(typeof o=="number"?o:0);Xr(e,function(e){s[++a]=(n?r:e[r]).apply(e,i)});return s}function Qr(e,r,i){var a=-1,n=e?e.length:0;r=Mt.createCallback(r,i,3);if(typeof n=="number"){var o=t(n);while(++a<n){o[a]=r(e[a],a,e)}}else{o=[];ur(e,function(e,t,i){o[++a]=r(e,t,i)})}return o}function Zr(e,t,r){var i=-Infinity,a=i;if(typeof t!="function"&&r&&r[t]===e){t=null}if(t==null&&Jt(e)){var n=-1,o=e.length;while(++n<o){var s=e[n];if(s>a){a=s}}}else{t=t==null&&Br(e)?V:Mt.createCallback(t,r,3);Xr(e,function(e,r,n){var o=t(e,r,n);if(o>i){i=o;a=e}})}return a}function ei(e,t,r){var i=Infinity,a=i;if(typeof t!="function"&&r&&r[t]===e){t=null}if(t==null&&Jt(e)){var n=-1,o=e.length;while(++n<o){var s=e[n];if(s<a){a=s}}}else{t=t==null&&Br(e)?V:Mt.createCallback(t,r,3);Xr(e,function(e,r,n){var o=t(e,r,n);if(o<i){i=o;a=e}})}return a}var ti=Qr;function ri(e,t,r,i){if(!e)return r;var a=arguments.length<3;t=Mt.createCallback(t,i,4);var n=-1,o=e.length;if(typeof o=="number"){if(a){r=e[++n]}while(++n<o){r=t(r,e[n],n,e)}}else{ur(e,function(e,i,n){r=a?(a=false,e):t(r,e,i,n)})}return r}function ii(e,t,r,i){var a=arguments.length<3;t=Mt.createCallback(t,i,4);qr(e,function(e,i,n){r=a?(a=false,e):t(r,e,i,n)});return r}function ai(e,t,r){t=Mt.createCallback(t,r,3);return Yr(e,function(e,r,i){return!t(e,r,i)})}function ni(e,t,r){if(e&&typeof e.length!="number"){e=Or(e)}if(t==null||r){return e?e[Nt(0,e.length-1)]:i}var a=oi(e);a.length=St(Tt(0,t),a.length);return a}function oi(e){var r=-1,i=e?e.length:0,a=t(typeof i=="number"?i:0);Xr(e,function(e){var t=Nt(0,++r);a[r]=a[t];a[t]=e});return a}function si(e){var t=e?e.length:0;return typeof t=="number"?t:Zt(e).length}function di(e,t,r){var i;t=Mt.createCallback(t,r,3);var a=-1,n=e?e.length:0;if(typeof n=="number"){while(++a<n){if(i=t(e[a],a,e)){break}}}else{ur(e,function(e,r,a){return!(i=t(e,r,a))})}return!!i}function ci(e,r,i){var a=-1,n=Jt(r),o=e?e.length:0,s=t(typeof o=="number"?o:0);if(!n){r=Mt.createCallback(r,i,3)}Xr(e,function(e,t,i){var o=s[++a]=J();if(n){o.criteria=Qr(r,function(t){return e[t]})}else{(o.criteria=K())[0]=r(e,t,i)}o.index=a;o.value=e});o=s.length;s.sort(X);while(o--){var d=s[o];s[o]=d.value;if(!n){Q(d.criteria)}Z(d)}return s}function hi(e){if(e&&typeof e.length=="number"){return et(e)}return Or(e)}var li=Yr;function fi(e){var t=-1,r=e?e.length:0,i=[];while(++t<r){var a=e[t];if(a){i.push(a)}}return i}function ui(e){return Pt(e,kt(arguments,true,true,1))}function pi(e,t,r){var i=-1,a=e?e.length:0;t=Mt.createCallback(t,r,3);while(++i<a){if(t(e[i],i,e)){return i}}return-1}function bi(e,t,r){var i=e?e.length:0;t=Mt.createCallback(t,r,3);while(i--){if(t(e[i],i,e)){return i}}return-1}function yi(e,t,r){var a=0,n=e?e.length:0;if(typeof t!="number"&&t!=null){var o=-1;t=Mt.createCallback(t,r,3);while(++o<n&&t(e[o],o,e)){a++}}else{a=t;if(a==null||r){return e?e[0]:i}}return et(e,0,St(Tt(0,a),n))}function vi(e,t,r,i){if(typeof t!="boolean"&&t!=null){i=r;r=typeof t!="function"&&i&&i[t]===e?null:t;t=false}if(r!=null){e=Qr(e,r,i)}return kt(e,t)}function gi(e,t,r){if(typeof r=="number"){var i=e?e.length:0;r=r<0?Tt(0,i+r):r||0}else if(r){var a=Ei(e,t);return e[a]===t?a:-1}return W(e,t,r)}function mi(e,t,r){var i=0,a=e?e.length:0;if(typeof t!="number"&&t!=null){var n=a;t=Mt.createCallback(t,r,3);while(n--&&t(e[n],n,e)){i++}}else{i=t==null||r?1:t||i}return et(e,0,St(Tt(0,a-i),a))}function xi(){var e=[],t=-1,r=arguments.length,i=K(),a=zt(),n=a===W,o=K();while(++t<r){var s=arguments[t];if(Jt(s)||Kt(s)){e.push(s);i.push(n&&s.length>=d&&q(t?e[t]:o))}}var c=e[0],h=-1,l=c?c.length:0,f=[];e:while(++h<l){var u=i[0];s=c[h];if((u?Y(u,s):a(o,s))<0){t=r;(u||o).push(s);while(--t){u=i[t];if((u?Y(u,s):a(e[t],s))<0){continue e}}f.push(s)}}while(r--){u=i[r];if(u){Z(u)}}Q(i);Q(o);return f}function _i(e,t,r){var a=0,n=e?e.length:0;if(typeof t!="number"&&t!=null){var o=n;t=Mt.createCallback(t,r,3);while(o--&&t(e[o],o,e)){a++}}else{a=t;if(a==null||r){return e?e[n-1]:i}}return et(e,Tt(0,n-a))}function wi(e,t,r){var i=e?e.length:0;if(typeof r=="number"){i=(r<0?Tt(0,i+r):St(r,i-1))+1}while(i--){if(e[i]===t){return i}}return-1}function Ti(e){var t=arguments,r=0,i=t.length,a=e?e.length:0;while(++r<i){var n=-1,o=t[r];while(++n<a){if(e[n]===o){bt.call(e,n--,1);a--}}}return e}function Si(e,r,i){e=+e||0;i=typeof i=="number"?i:+i||1;if(r==null){r=e;e=0}var a=-1,n=Tt(0,st((r-e)/(i||1))),o=t(n);while(++a<n){o[a]=e;e+=i}return o}function Ai(e,t,r){var i=-1,a=e?e.length:0,n=[];t=Mt.createCallback(t,r,3);while(++i<a){var o=e[i];if(t(o,i,e)){n.push(o);bt.call(e,i--,1);a--}}return n}function Ci(e,t,r){if(typeof t!="number"&&t!=null){var i=0,a=-1,n=e?e.length:0;t=Mt.createCallback(t,r,3);while(++a<n&&t(e[a],a,e)){i++}}else{i=t==null||r?1:Tt(0,t)}return et(e,i)}function Ei(e,t,r,i){var a=0,n=e?e.length:a;r=r?Mt.createCallback(r,i,1):Qi;t=r(t);while(a<n){var o=a+n>>>1;r(e[o])<t?a=o+1:n=o}return a}function Mi(){return Ut(kt(arguments,true,true))}function Ri(e,t,r,i){if(typeof t!="boolean"&&t!=null){i=r;r=typeof t!="function"&&i&&i[t]===e?null:t;t=false}if(r!=null){r=Mt.createCallback(r,i,3)}return Ut(e,t,r)}function $i(e){return Pt(e,et(arguments,1))}function Bi(){var e=-1,t=arguments.length;while(++e<t){var r=arguments[e];if(Jt(r)||Kt(r)){var i=i?Ut(Pt(i,r).concat(Pt(r,i))):r}}return i||[]}function Li(){var e=arguments.length>1?arguments:arguments[0],r=-1,i=e?Zr(ti(e,"length")):0,a=t(i<0?0:i);while(++r<i){a[r]=ti(e,r)}return a}function Ii(e,t){var r=-1,i=e?e.length:0,a={};if(!t&&i&&!Jt(e[0])){t=[]}while(++r<i){var n=e[r];if(t){a[n]=t[r]}else if(n){a[n[0]]=n[1]}}return a}function ji(e,t){if(!Sr(t)){throw new G}return function(){if(--e<1){return t.apply(this,arguments)}}}function Fi(e,t){return arguments.length>2?Wt(e,17,et(arguments,2),null,t):Wt(e,1,null,null,t)}function Pi(e){var t=arguments.length>1?kt(arguments,true,false,1):br(e),r=-1,i=t.length;while(++r<i){var a=t[r];e[a]=Wt(e[a],1,null,null,e)}return e}function ki(e,t){return arguments.length>2?Wt(t,19,et(arguments,2),null,e):Wt(t,3,null,null,e)}function Di(){var e=arguments,t=e.length;while(t--){if(!Sr(e[t])){throw new G}}return function(){var t=arguments,r=e.length;while(r--){t=[e[r].apply(this,t)]}return t[0]}}function Oi(e,t){t=typeof t=="number"?t:+t||e.length;return Wt(e,4,null,null,null,t)}function Ni(e,t,r){var a,n,o,s,d,c,h,l=0,f=false,u=true;if(!Sr(e)){throw new G}t=Tt(0,t)||0;if(r===true){var p=true;u=false}else if(Ar(r)){p=r.leading;f="maxWait"in r&&(Tt(t,r.maxWait)||0);u="trailing"in r?r.trailing:u}var b=function(){var r=t-(ra()-s);if(r<=0){if(n){dt(n)}var f=h;n=c=h=i;if(f){l=ra();o=e.apply(d,a);if(!c&&!n){a=d=null}}}else{c=pt(b,r)}};var y=function(){if(c){dt(c)}n=c=h=i;if(u||f!==t){l=ra();o=e.apply(d,a);if(!c&&!n){a=d=null}}};return function(){a=arguments;s=ra();d=this;h=u&&(c||!p);if(f===false){var r=p&&!c}else{if(!n&&!p){l=s}var i=f-(s-l),v=i<=0;if(v){if(n){n=dt(n)}l=s;o=e.apply(d,a)}else if(!n){n=pt(y,i)}}if(v&&c){c=dt(c)}else if(!c&&t!==f){c=pt(b,t)}if(r){v=true;o=e.apply(d,a)}if(v&&!c&&!n){a=d=null}return o}}function Ui(e){if(!Sr(e)){throw new G}var t=et(arguments,1);return pt(function(){e.apply(i,t)},1)}function Gi(e,t){if(!Sr(e)){throw new G}var r=et(arguments,2);return pt(function(){e.apply(i,r)},t)}function Wi(e,t){if(!Sr(e)){throw new G}var r=function(){var i=r.cache,a=t?t.apply(this,arguments):s+arguments[0];return ft.call(i,a)?i[a]:i[a]=e.apply(this,arguments)};r.cache={};return r}function Yi(e){var t,r;if(!Sr(e)){throw new G}return function(){if(t){return r}t=true;r=e.apply(this,arguments);e=null;return r}}function zi(e){return Wt(e,16,et(arguments,1))}function Vi(e){return Wt(e,32,null,et(arguments,1))}function Xi(e,t,r){var i=true,a=true;if(!Sr(e)){throw new G}if(r===false){i=false}else if(Ar(r)){i="leading"in r?r.leading:i;a="trailing"in r?r.trailing:a}j.leading=i;j.maxWait=t;j.trailing=a;return Ni(e,t,j)}function qi(e,t){return Wt(t,16,[e])}function Hi(e){return function(){return e}}function Ki(e,t,r){var i=typeof e;if(e==null||i=="function"){return jt(e,t,r)}if(i!="object"){return aa(e)}var a=Zt(e),n=a[0],o=e[n];if(a.length==1&&o===o&&!Ar(o)){return function(e){var t=e[n];return o===t&&(o!==0||1/o==1/t)}}return function(t){var r=a.length,i=false;while(r--){if(!(i=Dt(t[a[r]],e[a[r]],null,true))){break}}return i}}function Ji(e){return e==null?"":U(e).replace(ir,Yt)}function Qi(e){return e}function Zi(e,t,r){var i=true,a=t&&br(t);if(!t||!r&&!a.length){if(r==null){r=t}n=Rt;t=e;e=Mt;a=br(t)}if(r===false){i=false}else if(Ar(r)&&"chain"in r){i=r.chain}var n=e,o=Sr(n);Xr(a,function(r){var a=e[r]=t[r];if(o){n.prototype[r]=function(){var t=this.__chain__,r=this.__wrapped__,o=[r];ut.apply(o,arguments);var s=a.apply(e,o);if(i||t){if(r===s&&Ar(s)){return this}s=new n(s);s.__chain__=t}return s}}})}function ea(){e._=at;return this}function ta(){}var ra=Vt(ra=a.now)&&ra||function(){return(new a).getTime()};var ia=At(h+"08")==8?At:function(e,t){return At(Br(e)?e.replace(g,""):e,t||0)};function aa(e){return function(t){return t[e]}}function na(e,t,r){var i=e==null,a=t==null;if(r==null){if(typeof e=="boolean"&&a){r=e;e=1}else if(!a&&typeof t=="boolean"){r=t;a=true}}if(i&&a){t=1}e=+e||0;if(a){t=e;e=0}else{t=+t||0}if(r||e%1||t%1){var n=Ct();return St(e+n*(t-e+parseFloat("1e-"+((n+"").length-1))),t)}return Nt(e,t)}function oa(e,t){if(e){var r=e[t];return Sr(r)?e[t]():r}}function sa(e,t,r){var a=Mt.templateSettings;e=U(e||"");r=dr({},r,a);var o=dr({},r.imports,a.imports),s=Zt(o),d=Or(o);var c,h=0,b=r.interpolate||m,y="__p += '";var g=N((r.escape||m).source+"|"+b.source+"|"+(b===v?p:m).source+"|"+(r.evaluate||m).source+"|$","g");e.replace(g,function(t,r,i,a,n,o){i||(i=a);y+=e.slice(h,o).replace(_,H);if(r){y+="' +\n__e("+r+") +\n'"}if(n){c=true;y+="';\n"+n+";\n__p += '"}if(i){y+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"}h=o+t.length;return t});y+="';\n";var x=r.variable,w=x;if(!w){x="obj";y="with ("+x+") {\n"+y+"\n}\n"}y=(c?y.replace(l,""):y).replace(f,"$1").replace(u,"$1;");y="function("+x+") {\n"+(w?"":x+" || ("+x+" = {});\n")+"var __t, __p = '', __e = _.escape"+(c?", __j = Array.prototype.join;\n"+"function print() { __p += __j.call(arguments, '') }\n":";\n")+y+"return __p\n}";var S="\n/*\n//# sourceURL="+(r.sourceURL||"/lodash/template/source["+T++ +"]")+"\n*/";try{var A=n(s,"return "+y+S).apply(i,d)}catch(C){C.source=y;throw C}if(t){return A(t)}A.source=y;return A}function da(e,r,i){e=(e=+e)>-1?e:0;var a=-1,n=t(e);r=jt(r,i,1);while(++a<e){n[a]=r(a)}return n}function ca(e){return e==null?"":U(e).replace(rr,Ht)}function ha(e){var t=++o;return U(e==null?"":e)+t}function la(e){e=new Rt(e);e.__chain__=true;return e}function fa(e,t){t(e);return e}function ua(){this.__chain__=true;return this}function pa(){return U(this.__wrapped__)}function ba(){return this.__wrapped__}Mt.after=ji;Mt.assign=ar;Mt.at=Nr;Mt.bind=Fi;Mt.bindAll=Pi;Mt.bindKey=ki;Mt.chain=la;Mt.compact=fi;Mt.compose=Di;Mt.constant=Hi;Mt.countBy=Gr;Mt.create=sr;Mt.createCallback=Ki;Mt.curry=Oi;Mt.debounce=Ni;Mt.defaults=dr;Mt.defer=Ui;Mt.delay=Gi;Mt.difference=ui;Mt.filter=Yr;Mt.flatten=vi;Mt.forEach=Xr;Mt.forEachRight=qr;Mt.forIn=lr;Mt.forInRight=fr;Mt.forOwn=ur;Mt.forOwnRight=pr;Mt.functions=br;Mt.groupBy=Hr;Mt.indexBy=Kr;Mt.initial=mi;Mt.intersection=xi;Mt.invert=vr;Mt.invoke=Jr;Mt.keys=Zt;Mt.map=Qr;Mt.mapValues=Ir;Mt.max=Zr;Mt.memoize=Wi;Mt.merge=jr;Mt.min=ei;Mt.omit=Fr;Mt.once=Yi;Mt.pairs=Pr;Mt.partial=zi;Mt.partialRight=Vi;Mt.pick=kr;Mt.pluck=ti;Mt.property=aa;Mt.pull=Ti;Mt.range=Si;Mt.reject=ai;Mt.remove=Ai;Mt.rest=Ci;Mt.shuffle=oi;Mt.sortBy=ci;Mt.tap=fa;Mt.throttle=Xi;Mt.times=da;Mt.toArray=hi;Mt.transform=Dr;Mt.union=Mi;Mt.uniq=Ri;Mt.values=Or;Mt.where=li;Mt.without=$i;Mt.wrap=qi;Mt.xor=Bi;Mt.zip=Li;Mt.zipObject=Ii;Mt.collect=Qr;Mt.drop=Ci;Mt.each=Xr;Mt.eachRight=qr;Mt.extend=ar;Mt.methods=br;Mt.object=Ii;Mt.select=Yr;Mt.tail=Ci;Mt.unique=Ri;Mt.unzip=Li;Zi(Mt);Mt.clone=nr;Mt.cloneDeep=or;Mt.contains=Ur;Mt.escape=Ji;Mt.every=Wr;Mt.find=zr;Mt.findIndex=pi;Mt.findKey=cr;Mt.findLast=Vr;Mt.findLastIndex=bi;Mt.findLastKey=hr;Mt.has=yr;Mt.identity=Qi;Mt.indexOf=gi;Mt.isArguments=Kt;Mt.isArray=Jt;Mt.isBoolean=gr;Mt.isDate=mr;Mt.isElement=xr;Mt.isEmpty=_r;Mt.isEqual=wr;Mt.isFinite=Tr;Mt.isFunction=Sr;Mt.isNaN=Cr;Mt.isNull=Er;Mt.isNumber=Mr;Mt.isObject=Ar;Mt.isPlainObject=Rr;Mt.isRegExp=$r;Mt.isString=Br;Mt.isUndefined=Lr;Mt.lastIndexOf=wi;Mt.mixin=Zi;Mt.noConflict=ea;Mt.noop=ta;Mt.now=ra;Mt.parseInt=ia;Mt.random=na;Mt.reduce=ri;Mt.reduceRight=ii;Mt.result=oa;Mt.runInContext=tt;Mt.size=si;Mt.some=di;Mt.sortedIndex=Ei;Mt.template=sa;Mt.unescape=ca;Mt.uniqueId=ha;Mt.all=Wr;Mt.any=di;Mt.detect=zr;Mt.findWhere=zr;Mt.foldl=ri;Mt.foldr=ii;Mt.include=Ur;Mt.inject=ri;Zi(function(){var e={};ur(Mt,function(t,r){if(!Mt.prototype[r]){e[r]=t}});return e}(),false);Mt.first=yi;Mt.last=_i;Mt.sample=ni;Mt.take=yi;Mt.head=yi;ur(Mt,function(e,t){var r=t!=="sample";if(!Mt.prototype[t]){Mt.prototype[t]=function(t,i){var a=this.__chain__,n=e(this.__wrapped__,t,i);return!a&&(t==null||i&&!(r&&typeof t=="function"))?n:new Rt(n,a)}}});Mt.VERSION="2.4.1";Mt.prototype.chain=ua;Mt.prototype.toString=pa;Mt.prototype.value=ba;Mt.prototype.valueOf=ba;Xr(["join","pop","shift"],function(e){var t=z[e];
Mt.prototype[e]=function(){var e=this.__chain__,r=t.apply(this.__wrapped__,arguments);return e?new Rt(r,e):r}});Xr(["push","reverse","sort","unshift"],function(e){var t=z[e];Mt.prototype[e]=function(){t.apply(this.__wrapped__,arguments);return this}});Xr(["concat","slice","splice"],function(e){var t=z[e];Mt.prototype[e]=function(){return new Rt(t.apply(this.__wrapped__,arguments),this.__chain__)}});return Mt}var rt=tt();if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){D._=rt;define(function(){return rt})}else if(O&&N){if(U){(N.exports=rt)._=rt}else{O._=rt}}else{D._=rt}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],137:[function(e,t,r){(function(){var e=this,i=i||{};i.WEBGL_RENDERER=0,i.CANVAS_RENDERER=1,i.VERSION="v2.1.0",i.blendModes={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},i.scaleModes={DEFAULT:0,LINEAR:0,NEAREST:1},i._UID=0,"undefined"!=typeof Float32Array?(i.Float32Array=Float32Array,i.Uint16Array=Uint16Array):(i.Float32Array=Array,i.Uint16Array=Array),i.INTERACTION_FREQUENCY=30,i.AUTO_PREVENT_DEFAULT=!0,i.PI_2=2*Math.PI,i.RAD_TO_DEG=180/Math.PI,i.DEG_TO_RAD=Math.PI/180,i.RETINA_PREFIX="@2x",i.dontSayHello=!1,i.defaultRenderOptions={view:null,transparent:!1,antialias:!1,preserveDrawingBuffer:!1,resolution:1,clearBeforeRender:!0,autoResize:!1},i.sayHello=function(e){if(!i.dontSayHello){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var t=["%c %c %c Pixi.js "+i.VERSION+" - "+e+"  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ ","background: #ff66a5","background: #ff66a5","color: #ff66a5; background: #030307;","background: #ff66a5","background: #ffc3dc","background: #ff66a5","color: #ff2424; background: #fff","color: #ff2424; background: #fff","color: #ff2424; background: #fff"];console.log.apply(console,t)}else window.console&&console.log("Pixi.js "+i.VERSION+" - http://www.pixijs.com/");i.dontSayHello=!0}},i.Point=function(e,t){this.x=e||0,this.y=t||0},i.Point.prototype.clone=function(){return new i.Point(this.x,this.y)},i.Point.prototype.set=function(e,t){this.x=e||0,this.y=t||(0!==t?this.x:0)},i.Point.prototype.constructor=i.Point,i.Rectangle=function(e,t,r,i){this.x=e||0,this.y=t||0,this.width=r||0,this.height=i||0},i.Rectangle.prototype.clone=function(){return new i.Rectangle(this.x,this.y,this.width,this.height)},i.Rectangle.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;var r=this.x;if(e>=r&&e<=r+this.width){var i=this.y;if(t>=i&&t<=i+this.height)return!0}return!1},i.Rectangle.prototype.constructor=i.Rectangle,i.EmptyRectangle=new i.Rectangle(0,0,0,0),i.Polygon=function(e){if(e instanceof Array||(e=Array.prototype.slice.call(arguments)),e[0]instanceof i.Point){for(var t=[],r=0,a=e.length;a>r;r++)t.push(e[r].x,e[r].y);e=t}this.closed=!0,this.points=e},i.Polygon.prototype.clone=function(){var e=this.points.slice();return new i.Polygon(e)},i.Polygon.prototype.contains=function(e,t){for(var r=!1,i=this.points.length/2,a=0,n=i-1;i>a;n=a++){var o=this.points[2*a],s=this.points[2*a+1],d=this.points[2*n],c=this.points[2*n+1],h=s>t!=c>t&&(d-o)*(t-s)/(c-s)+o>e;h&&(r=!r)}return r},i.Polygon.prototype.constructor=i.Polygon,i.Circle=function(e,t,r){this.x=e||0,this.y=t||0,this.radius=r||0},i.Circle.prototype.clone=function(){return new i.Circle(this.x,this.y,this.radius)},i.Circle.prototype.contains=function(e,t){if(this.radius<=0)return!1;var r=this.x-e,i=this.y-t,a=this.radius*this.radius;return r*=r,i*=i,a>=r+i},i.Circle.prototype.getBounds=function(){return new i.Rectangle(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},i.Circle.prototype.constructor=i.Circle,i.Ellipse=function(e,t,r,i){this.x=e||0,this.y=t||0,this.width=r||0,this.height=i||0},i.Ellipse.prototype.clone=function(){return new i.Ellipse(this.x,this.y,this.width,this.height)},i.Ellipse.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;var r=(e-this.x)/this.width,i=(t-this.y)/this.height;return r*=r,i*=i,1>=r+i},i.Ellipse.prototype.getBounds=function(){return new i.Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)},i.Ellipse.prototype.constructor=i.Ellipse,i.RoundedRectangle=function(e,t,r,i,a){this.x=e||0,this.y=t||0,this.width=r||0,this.height=i||0,this.radius=a||20},i.RoundedRectangle.prototype.clone=function(){return new i.RoundedRectangle(this.x,this.y,this.width,this.height,this.radius)},i.RoundedRectangle.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;var r=this.x;if(e>=r&&e<=r+this.width){var i=this.y;if(t>=i&&t<=i+this.height)return!0}return!1},i.RoundedRectangle.prototype.constructor=i.RoundedRectangle,i.Matrix=function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0},i.Matrix.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},i.Matrix.prototype.toArray=function(e){this.array||(this.array=new i.Float32Array(9));var t=this.array;return e?(t[0]=this.a,t[1]=this.b,t[2]=0,t[3]=this.c,t[4]=this.d,t[5]=0,t[6]=this.tx,t[7]=this.ty,t[8]=1):(t[0]=this.a,t[1]=this.c,t[2]=this.tx,t[3]=this.b,t[4]=this.d,t[5]=this.ty,t[6]=0,t[7]=0,t[8]=1),t},i.Matrix.prototype.apply=function(e,t){return t=t||new i.Point,t.x=this.a*e.x+this.c*e.y+this.tx,t.y=this.b*e.x+this.d*e.y+this.ty,t},i.Matrix.prototype.applyInverse=function(e,t){t=t||new i.Point;var r=1/(this.a*this.d+this.c*-this.b);return t.x=this.d*r*e.x+-this.c*r*e.y+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*e.y+-this.b*r*e.x+(-this.ty*this.a+this.tx*this.b)*r,t},i.Matrix.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},i.Matrix.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},i.Matrix.prototype.rotate=function(e){var t=Math.cos(e),r=Math.sin(e),i=this.a,a=this.c,n=this.tx;return this.a=i*t-this.b*r,this.b=i*r+this.b*t,this.c=a*t-this.d*r,this.d=a*r+this.d*t,this.tx=n*t-this.ty*r,this.ty=n*r+this.ty*t,this},i.Matrix.prototype.append=function(e){var t=this.a,r=this.b,i=this.c,a=this.d;return this.a=e.a*t+e.b*i,this.b=e.a*r+e.b*a,this.c=e.c*t+e.d*i,this.d=e.c*r+e.d*a,this.tx=e.tx*t+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*a+this.ty,this},i.Matrix.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},i.identityMatrix=new i.Matrix,i.DisplayObject=function(){this.position=new i.Point,this.scale=new i.Point(1,1),this.pivot=new i.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.hitArea=null,this.buttonMode=!1,this.renderable=!1,this.parent=null,this.stage=null,this.worldAlpha=1,this._interactive=!1,this.defaultCursor="pointer",this.worldTransform=new i.Matrix,this._sr=0,this._cr=1,this.filterArea=null,this._bounds=new i.Rectangle(0,0,1,1),this._currentBounds=null,this._mask=null,this._cacheAsBitmap=!1,this._cacheIsDirty=!1},i.DisplayObject.prototype.constructor=i.DisplayObject,Object.defineProperty(i.DisplayObject.prototype,"interactive",{get:function(){return this._interactive},set:function(e){this._interactive=e,this.stage&&(this.stage.dirty=!0)}}),Object.defineProperty(i.DisplayObject.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}}),Object.defineProperty(i.DisplayObject.prototype,"mask",{get:function(){return this._mask},set:function(e){this._mask&&(this._mask.isMask=!1),this._mask=e,this._mask&&(this._mask.isMask=!0)}}),Object.defineProperty(i.DisplayObject.prototype,"filters",{get:function(){return this._filters},set:function(e){if(e){for(var t=[],r=0;r<e.length;r++)for(var i=e[r].passes,a=0;a<i.length;a++)t.push(i[a]);this._filterBlock={target:this,filterPasses:t}}this._filters=e}}),Object.defineProperty(i.DisplayObject.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(e){this._cacheAsBitmap!==e&&(e?this._generateCachedSprite():this._destroyCachedSprite(),this._cacheAsBitmap=e)}}),i.DisplayObject.prototype.updateTransform=function(){var e,t,r,a,n,o,s=this.parent.worldTransform,d=this.worldTransform;this.rotation%i.PI_2?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),e=this._cr*this.scale.x,t=this._sr*this.scale.x,r=-this._sr*this.scale.y,a=this._cr*this.scale.y,n=this.position.x,o=this.position.y,(this.pivot.x||this.pivot.y)&&(n-=this.pivot.x*e+this.pivot.y*r,o-=this.pivot.x*t+this.pivot.y*a),d.a=e*s.a+t*s.c,d.b=e*s.b+t*s.d,d.c=r*s.a+a*s.c,d.d=r*s.b+a*s.d,d.tx=n*s.a+o*s.c+s.tx,d.ty=n*s.b+o*s.d+s.ty):(e=this.scale.x,a=this.scale.y,n=this.position.x-this.pivot.x*e,o=this.position.y-this.pivot.y*a,d.a=e*s.a,d.b=e*s.b,d.c=a*s.c,d.d=a*s.d,d.tx=n*s.a+o*s.c+s.tx,d.ty=n*s.b+o*s.d+s.ty),this.worldAlpha=this.alpha*this.parent.worldAlpha},i.DisplayObject.prototype.displayObjectUpdateTransform=i.DisplayObject.prototype.updateTransform,i.DisplayObject.prototype.getBounds=function(e){return e=e,i.EmptyRectangle},i.DisplayObject.prototype.getLocalBounds=function(){return this.getBounds(i.identityMatrix)},i.DisplayObject.prototype.setStageReference=function(e){this.stage=e,this._interactive&&(this.stage.dirty=!0)},i.DisplayObject.prototype.generateTexture=function(e,t,r){var a=this.getLocalBounds(),n=new i.RenderTexture(0|a.width,0|a.height,r,t,e);return i.DisplayObject._tempMatrix.tx=-a.x,i.DisplayObject._tempMatrix.ty=-a.y,n.render(this,i.DisplayObject._tempMatrix),n},i.DisplayObject.prototype.updateCache=function(){this._generateCachedSprite()},i.DisplayObject.prototype.toGlobal=function(e){return this.updateTransform(),this.worldTransform.apply(e)},i.DisplayObject.prototype.toLocal=function(e,t){return t&&(e=t.toGlobal(e)),this.updateTransform(),this.worldTransform.applyInverse(e)},i.DisplayObject.prototype._renderCachedSprite=function(e){this._cachedSprite.worldAlpha=this.worldAlpha,e.gl?i.Sprite.prototype._renderWebGL.call(this._cachedSprite,e):i.Sprite.prototype._renderCanvas.call(this._cachedSprite,e)},i.DisplayObject.prototype._generateCachedSprite=function(){this._cacheAsBitmap=!1;var e=this.getLocalBounds();if(this._cachedSprite)this._cachedSprite.texture.resize(0|e.width,0|e.height);else{var t=new i.RenderTexture(0|e.width,0|e.height);this._cachedSprite=new i.Sprite(t),this._cachedSprite.worldTransform=this.worldTransform}var r=this._filters;this._filters=null,this._cachedSprite.filters=r,i.DisplayObject._tempMatrix.tx=-e.x,i.DisplayObject._tempMatrix.ty=-e.y,this._cachedSprite.texture.render(this,i.DisplayObject._tempMatrix),this._cachedSprite.anchor.x=-(e.x/e.width),this._cachedSprite.anchor.y=-(e.y/e.height),this._filters=r,this._cacheAsBitmap=!0},i.DisplayObject.prototype._destroyCachedSprite=function(){this._cachedSprite&&(this._cachedSprite.texture.destroy(!0),this._cachedSprite=null)},i.DisplayObject.prototype._renderWebGL=function(e){e=e},i.DisplayObject.prototype._renderCanvas=function(e){e=e},i.DisplayObject._tempMatrix=new i.Matrix,Object.defineProperty(i.DisplayObject.prototype,"x",{get:function(){return this.position.x},set:function(e){this.position.x=e}}),Object.defineProperty(i.DisplayObject.prototype,"y",{get:function(){return this.position.y},set:function(e){this.position.y=e}}),i.DisplayObjectContainer=function(){i.DisplayObject.call(this),this.children=[]},i.DisplayObjectContainer.prototype=Object.create(i.DisplayObject.prototype),i.DisplayObjectContainer.prototype.constructor=i.DisplayObjectContainer,Object.defineProperty(i.DisplayObjectContainer.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e}}),Object.defineProperty(i.DisplayObjectContainer.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e}}),i.DisplayObjectContainer.prototype.addChild=function(e){return this.addChildAt(e,this.children.length)},i.DisplayObjectContainer.prototype.addChildAt=function(e,t){if(t>=0&&t<=this.children.length)return e.parent&&e.parent.removeChild(e),e.parent=this,this.children.splice(t,0,e),this.stage&&e.setStageReference(this.stage),e;throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length)},i.DisplayObjectContainer.prototype.swapChildren=function(e,t){if(e!==t){var r=this.getChildIndex(e),i=this.getChildIndex(t);if(0>r||0>i)throw new Error("swapChildren: Both the supplied DisplayObjects must be a child of the caller.");this.children[r]=t,this.children[i]=e}},i.DisplayObjectContainer.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},i.DisplayObjectContainer.prototype.setChildIndex=function(e,t){if(0>t||t>=this.children.length)throw new Error("The supplied index is out of bounds");var r=this.getChildIndex(e);this.children.splice(r,1),this.children.splice(t,0,e)},i.DisplayObjectContainer.prototype.getChildAt=function(e){if(0>e||e>=this.children.length)throw new Error("getChildAt: Supplied index "+e+" does not exist in the child list, or the supplied DisplayObject must be a child of the caller");return this.children[e]},i.DisplayObjectContainer.prototype.removeChild=function(e){var t=this.children.indexOf(e);if(-1!==t)return this.removeChildAt(t)},i.DisplayObjectContainer.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return this.stage&&t.removeStageReference(),t.parent=void 0,this.children.splice(e,1),t},i.DisplayObjectContainer.prototype.removeChildren=function(e,t){var r=e||0,i="number"==typeof t?t:this.children.length,a=i-r;if(a>0&&i>=a){for(var n=this.children.splice(r,a),o=0;o<n.length;o++){var s=n[o];this.stage&&s.removeStageReference(),s.parent=void 0}return n}if(0===a&&0===this.children.length)return[];throw new Error("removeChildren: Range Error, numeric values are outside the acceptable range")},i.DisplayObjectContainer.prototype.updateTransform=function(){if(this.visible&&(this.displayObjectUpdateTransform(),!this._cacheAsBitmap))for(var e=0,t=this.children.length;t>e;e++)this.children[e].updateTransform()},i.DisplayObjectContainer.prototype.displayObjectContainerUpdateTransform=i.DisplayObjectContainer.prototype.updateTransform,i.DisplayObjectContainer.prototype.getBounds=function(){if(0===this.children.length)return i.EmptyRectangle;for(var e,t,r,a=1/0,n=1/0,o=-1/0,s=-1/0,d=!1,c=0,h=this.children.length;h>c;c++){var l=this.children[c];l.visible&&(d=!0,e=this.children[c].getBounds(),a=a<e.x?a:e.x,n=n<e.y?n:e.y,t=e.width+e.x,r=e.height+e.y,o=o>t?o:t,s=s>r?s:r)}if(!d)return i.EmptyRectangle;var f=this._bounds;return f.x=a,f.y=n,f.width=o-a,f.height=s-n,f},i.DisplayObjectContainer.prototype.getLocalBounds=function(){var e=this.worldTransform;this.worldTransform=i.identityMatrix;for(var t=0,r=this.children.length;r>t;t++)this.children[t].updateTransform();var a=this.getBounds();return this.worldTransform=e,a},i.DisplayObjectContainer.prototype.setStageReference=function(e){this.stage=e,this._interactive&&(this.stage.dirty=!0);for(var t=0,r=this.children.length;r>t;t++){var i=this.children[t];i.setStageReference(e)}},i.DisplayObjectContainer.prototype.removeStageReference=function(){for(var e=0,t=this.children.length;t>e;e++){var r=this.children[e];r.removeStageReference()}this._interactive&&(this.stage.dirty=!0),this.stage=null},i.DisplayObjectContainer.prototype._renderWebGL=function(e){if(this.visible&&!(this.alpha<=0)){if(this._cacheAsBitmap)return this._renderCachedSprite(e),void 0;var t,r;if(this._mask||this._filters){for(this._filters&&(e.spriteBatch.flush(),e.filterManager.pushFilter(this._filterBlock)),this._mask&&(e.spriteBatch.stop(),e.maskManager.pushMask(this.mask,e),e.spriteBatch.start()),t=0,r=this.children.length;r>t;t++)this.children[t]._renderWebGL(e);e.spriteBatch.stop(),this._mask&&e.maskManager.popMask(this._mask,e),this._filters&&e.filterManager.popFilter(),e.spriteBatch.start()}else for(t=0,r=this.children.length;r>t;t++)this.children[t]._renderWebGL(e)}},i.DisplayObjectContainer.prototype._renderCanvas=function(e){if(this.visible!==!1&&0!==this.alpha){if(this._cacheAsBitmap)return this._renderCachedSprite(e),void 0;this._mask&&e.maskManager.pushMask(this._mask,e);for(var t=0,r=this.children.length;r>t;t++){var i=this.children[t];i._renderCanvas(e)}this._mask&&e.maskManager.popMask(e)}},i.Sprite=function(e){i.DisplayObjectContainer.call(this),this.anchor=new i.Point,this.texture=e,this._width=0,this._height=0,this.tint=16777215,this.blendMode=i.blendModes.NORMAL,this.shader=null,e.baseTexture.hasLoaded?this.onTextureUpdate():this.texture.on("update",this.onTextureUpdate.bind(this)),this.renderable=!0},i.Sprite.prototype=Object.create(i.DisplayObjectContainer.prototype),i.Sprite.prototype.constructor=i.Sprite,Object.defineProperty(i.Sprite.prototype,"width",{get:function(){return this.scale.x*this.texture.frame.width},set:function(e){this.scale.x=e/this.texture.frame.width,this._width=e}}),Object.defineProperty(i.Sprite.prototype,"height",{get:function(){return this.scale.y*this.texture.frame.height},set:function(e){this.scale.y=e/this.texture.frame.height,this._height=e}}),i.Sprite.prototype.setTexture=function(e){this.texture=e,this.cachedTint=16777215},i.Sprite.prototype.onTextureUpdate=function(){this._width&&(this.scale.x=this._width/this.texture.frame.width),this._height&&(this.scale.y=this._height/this.texture.frame.height)},i.Sprite.prototype.getBounds=function(e){var t=this.texture.frame.width,r=this.texture.frame.height,i=t*(1-this.anchor.x),a=t*-this.anchor.x,n=r*(1-this.anchor.y),o=r*-this.anchor.y,s=e||this.worldTransform,d=s.a,c=s.b,h=s.c,l=s.d,f=s.tx,u=s.ty,p=d*a+h*o+f,b=l*o+c*a+u,y=d*i+h*o+f,v=l*o+c*i+u,g=d*i+h*n+f,m=l*n+c*i+u,x=d*a+h*n+f,_=l*n+c*a+u,w=-1/0,T=-1/0,S=1/0,A=1/0;S=S>p?p:S,S=S>y?y:S,S=S>g?g:S,S=S>x?x:S,A=A>b?b:A,A=A>v?v:A,A=A>m?m:A,A=A>_?_:A,w=p>w?p:w,w=y>w?y:w,w=g>w?g:w,w=x>w?x:w,T=b>T?b:T,T=v>T?v:T,T=m>T?m:T,T=_>T?_:T;var C=this._bounds;return C.x=S,C.width=w-S,C.y=A,C.height=T-A,this._currentBounds=C,C},i.Sprite.prototype._renderWebGL=function(e){if(this.visible&&!(this.alpha<=0)){var t,r;if(this._mask||this._filters){var i=e.spriteBatch;for(this._filters&&(i.flush(),e.filterManager.pushFilter(this._filterBlock)),this._mask&&(i.stop(),e.maskManager.pushMask(this.mask,e),i.start()),i.render(this),t=0,r=this.children.length;r>t;t++)this.children[t]._renderWebGL(e);i.stop(),this._mask&&e.maskManager.popMask(this._mask,e),this._filters&&e.filterManager.popFilter(),i.start()}else for(e.spriteBatch.render(this),t=0,r=this.children.length;r>t;t++)this.children[t]._renderWebGL(e)}},i.Sprite.prototype._renderCanvas=function(e){if(!(this.visible===!1||0===this.alpha||this.texture.crop.width<=0||this.texture.crop.height<=0)){if(this.blendMode!==e.currentBlendMode&&(e.currentBlendMode=this.blendMode,e.context.globalCompositeOperation=i.blendModesCanvas[e.currentBlendMode]),this._mask&&e.maskManager.pushMask(this._mask,e),this.texture.valid){var t=this.texture.baseTexture.resolution/e.resolution;e.context.globalAlpha=this.worldAlpha,e.roundPixels?e.context.setTransform(this.worldTransform.a,this.worldTransform.b,this.worldTransform.c,this.worldTransform.d,this.worldTransform.tx*e.resolution|0,this.worldTransform.ty*e.resolution|0):e.context.setTransform(this.worldTransform.a,this.worldTransform.b,this.worldTransform.c,this.worldTransform.d,this.worldTransform.tx*e.resolution,this.worldTransform.ty*e.resolution),e.smoothProperty&&e.scaleMode!==this.texture.baseTexture.scaleMode&&(e.scaleMode=this.texture.baseTexture.scaleMode,e.context[e.smoothProperty]=e.scaleMode===i.scaleModes.LINEAR);var r=this.texture.trim?this.texture.trim.x-this.anchor.x*this.texture.trim.width:this.anchor.x*-this.texture.frame.width,a=this.texture.trim?this.texture.trim.y-this.anchor.y*this.texture.trim.height:this.anchor.y*-this.texture.frame.height;16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=i.CanvasTinter.getTintedTexture(this,this.tint)),e.context.drawImage(this.tintedTexture,0,0,this.texture.crop.width,this.texture.crop.height,r/t,a/t,this.texture.crop.width/t,this.texture.crop.height/t)):e.context.drawImage(this.texture.baseTexture.source,this.texture.crop.x,this.texture.crop.y,this.texture.crop.width,this.texture.crop.height,r/t,a/t,this.texture.crop.width/t,this.texture.crop.height/t)}for(var n=0,o=this.children.length;o>n;n++)this.children[n]._renderCanvas(e);this._mask&&e.maskManager.popMask(e)}},i.Sprite.fromFrame=function(e){var t=i.TextureCache[e];if(!t)throw new Error('The frameId "'+e+'" does not exist in the texture cache'+this);return new i.Sprite(t)},i.Sprite.fromImage=function(e,t,r){var a=i.Texture.fromImage(e,t,r);return new i.Sprite(a)},i.SpriteBatch=function(e){i.DisplayObjectContainer.call(this),this.textureThing=e,this.ready=!1},i.SpriteBatch.prototype=Object.create(i.DisplayObjectContainer.prototype),i.SpriteBatch.prototype.constructor=i.SpriteBatch,i.SpriteBatch.prototype.initWebGL=function(e){this.fastSpriteBatch=new i.WebGLFastSpriteBatch(e),this.ready=!0},i.SpriteBatch.prototype.updateTransform=function(){i.DisplayObject.prototype.updateTransform.call(this)},i.SpriteBatch.prototype._renderWebGL=function(e){!this.visible||this.alpha<=0||!this.children.length||(this.ready||this.initWebGL(e.gl),e.spriteBatch.stop(),e.shaderManager.setShader(e.shaderManager.fastShader),this.fastSpriteBatch.begin(this,e),this.fastSpriteBatch.render(this),e.spriteBatch.start())},i.SpriteBatch.prototype._renderCanvas=function(e){if(this.visible&&!(this.alpha<=0)&&this.children.length){var t=e.context;t.globalAlpha=this.worldAlpha,i.DisplayObject.prototype.updateTransform.call(this);for(var r=this.worldTransform,a=!0,n=0;n<this.children.length;n++){var o=this.children[n];if(o.visible){var s=o.texture,d=s.frame;if(t.globalAlpha=this.worldAlpha*o.alpha,o.rotation%(2*Math.PI)===0)a&&(t.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),a=!1),t.drawImage(s.baseTexture.source,d.x,d.y,d.width,d.height,o.anchor.x*-d.width*o.scale.x+o.position.x+.5|0,o.anchor.y*-d.height*o.scale.y+o.position.y+.5|0,d.width*o.scale.x,d.height*o.scale.y);else{a||(a=!0),i.DisplayObject.prototype.updateTransform.call(o);var c=o.worldTransform;e.roundPixels?t.setTransform(c.a,c.b,c.c,c.d,0|c.tx,0|c.ty):t.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty),t.drawImage(s.baseTexture.source,d.x,d.y,d.width,d.height,o.anchor.x*-d.width+.5|0,o.anchor.y*-d.height+.5|0,d.width,d.height)}}}}},i.MovieClip=function(e){i.Sprite.call(this,e[0]),this.textures=e,this.animationSpeed=1,this.loop=!0,this.onComplete=null,this.currentFrame=0,this.playing=!1},i.MovieClip.prototype=Object.create(i.Sprite.prototype),i.MovieClip.prototype.constructor=i.MovieClip,Object.defineProperty(i.MovieClip.prototype,"totalFrames",{get:function(){return this.textures.length}}),i.MovieClip.prototype.stop=function(){this.playing=!1},i.MovieClip.prototype.play=function(){this.playing=!0},i.MovieClip.prototype.gotoAndStop=function(e){this.playing=!1,this.currentFrame=e;var t=this.currentFrame+.5|0;this.setTexture(this.textures[t%this.textures.length])},i.MovieClip.prototype.gotoAndPlay=function(e){this.currentFrame=e,this.playing=!0},i.MovieClip.prototype.updateTransform=function(){if(i.Sprite.prototype.updateTransform.call(this),this.playing){this.currentFrame+=this.animationSpeed;var e=this.currentFrame+.5|0;this.currentFrame=this.currentFrame%this.textures.length,this.loop||e<this.textures.length?this.setTexture(this.textures[e%this.textures.length]):e>=this.textures.length&&(this.gotoAndStop(this.textures.length-1),this.onComplete&&this.onComplete())}},i.MovieClip.fromFrames=function(e){for(var t=[],r=0;r<e.length;r++)t.push(new i.Texture.fromFrame(e[r]));return new i.MovieClip(t)},i.MovieClip.fromImages=function(e){for(var t=[],r=0;r<e.length;r++)t.push(new i.Texture.fromImage(e[r]));return new i.MovieClip(t)},i.FilterBlock=function(){this.visible=!0,this.renderable=!0},i.FilterBlock.prototype.constructor=i.FilterBlock,i.Text=function(e,t){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=1,i.Sprite.call(this,i.Texture.fromCanvas(this.canvas)),this.setText(e),this.setStyle(t)},i.Text.prototype=Object.create(i.Sprite.prototype),i.Text.prototype.constructor=i.Text,Object.defineProperty(i.Text.prototype,"width",{get:function(){return this.dirty&&(this.updateText(),this.dirty=!1),this.scale.x*this.texture.frame.width},set:function(e){this.scale.x=e/this.texture.frame.width,this._width=e}}),Object.defineProperty(i.Text.prototype,"height",{get:function(){return this.dirty&&(this.updateText(),this.dirty=!1),this.scale.y*this.texture.frame.height},set:function(e){this.scale.y=e/this.texture.frame.height,this._height=e}}),i.Text.prototype.setStyle=function(e){e=e||{},e.font=e.font||"bold 20pt Arial",e.fill=e.fill||"black",e.align=e.align||"left",e.stroke=e.stroke||"black",e.strokeThickness=e.strokeThickness||0,e.wordWrap=e.wordWrap||!1,e.wordWrapWidth=e.wordWrapWidth||100,e.dropShadow=e.dropShadow||!1,e.dropShadowAngle=e.dropShadowAngle||Math.PI/6,e.dropShadowDistance=e.dropShadowDistance||4,e.dropShadowColor=e.dropShadowColor||"black",this.style=e,this.dirty=!0},i.Text.prototype.setText=function(e){this.text=e.toString()||" ",this.dirty=!0},i.Text.prototype.updateText=function(){this.texture.baseTexture.resolution=this.resolution,this.context.font=this.style.font;var e=this.text;this.style.wordWrap&&(e=this.wordWrap(this.text));for(var t=e.split(/(?:\r\n|\r|\n)/),r=[],i=0,a=this.determineFontProperties(this.style.font),n=0;n<t.length;n++){var o=this.context.measureText(t[n]).width;r[n]=o,i=Math.max(i,o)}var s=i+this.style.strokeThickness;this.style.dropShadow&&(s+=this.style.dropShadowDistance),this.canvas.width=(s+this.context.lineWidth)*this.resolution;var d=a.fontSize+this.style.strokeThickness,c=d*t.length;this.style.dropShadow&&(c+=this.style.dropShadowDistance),this.canvas.height=c*this.resolution,this.context.scale(this.resolution,this.resolution),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=this.style.font,this.context.strokeStyle=this.style.stroke,this.context.lineWidth=this.style.strokeThickness,this.context.textBaseline="alphabetic";var h,l;if(this.style.dropShadow){this.context.fillStyle=this.style.dropShadowColor;var f=Math.sin(this.style.dropShadowAngle)*this.style.dropShadowDistance,u=Math.cos(this.style.dropShadowAngle)*this.style.dropShadowDistance;for(n=0;n<t.length;n++)h=this.style.strokeThickness/2,l=this.style.strokeThickness/2+n*d+a.ascent,"right"===this.style.align?h+=i-r[n]:"center"===this.style.align&&(h+=(i-r[n])/2),this.style.fill&&this.context.fillText(t[n],h+f,l+u)}for(this.context.fillStyle=this.style.fill,n=0;n<t.length;n++)h=this.style.strokeThickness/2,l=this.style.strokeThickness/2+n*d+a.ascent,"right"===this.style.align?h+=i-r[n]:"center"===this.style.align&&(h+=(i-r[n])/2),this.style.stroke&&this.style.strokeThickness&&this.context.strokeText(t[n],h,l),this.style.fill&&this.context.fillText(t[n],h,l);this.updateTexture()},i.Text.prototype.updateTexture=function(){this.texture.baseTexture.width=this.canvas.width,this.texture.baseTexture.height=this.canvas.height,this.texture.crop.width=this.texture.frame.width=this.canvas.width,this.texture.crop.height=this.texture.frame.height=this.canvas.height,this._width=this.canvas.width,this._height=this.canvas.height,this.texture.baseTexture.dirty()},i.Text.prototype._renderWebGL=function(e){this.dirty&&(this.resolution=e.resolution,this.updateText(),this.dirty=!1),i.Sprite.prototype._renderWebGL.call(this,e)},i.Text.prototype._renderCanvas=function(e){this.dirty&&(this.resolution=e.resolution,this.updateText(),this.dirty=!1),i.Sprite.prototype._renderCanvas.call(this,e)},i.Text.prototype.determineFontProperties=function(e){var t=i.Text.fontPropertiesCache[e];if(!t){t={};var r=i.Text.fontPropertiesCanvas,a=i.Text.fontPropertiesContext;a.font=e;var n=Math.ceil(a.measureText("|Mq").width),o=Math.ceil(a.measureText("M").width),s=2*o;o=1.4*o|0,r.width=n,r.height=s,a.fillStyle="#f00",a.fillRect(0,0,n,s),a.font=e,a.textBaseline="alphabetic",a.fillStyle="#000",a.fillText("|Mq",0,o);var d,c,h=a.getImageData(0,0,n,s).data,l=h.length,f=4*n,u=0,p=!1;for(d=0;o>d;d++){for(c=0;f>c;c+=4)if(255!==h[u+c]){p=!0;break}if(p)break;u+=f}for(t.ascent=o-d,u=l-f,p=!1,d=s;d>o;d--){for(c=0;f>c;c+=4)if(255!==h[u+c]){p=!0;break}if(p)break;u-=f}t.descent=d-o,t.fontSize=t.ascent+t.descent,i.Text.fontPropertiesCache[e]=t}return t},i.Text.prototype.wordWrap=function(e){for(var t="",r=e.split("\n"),i=0;i<r.length;i++){for(var a=this.style.wordWrapWidth,n=r[i].split(" "),o=0;o<n.length;o++){var s=this.context.measureText(n[o]).width,d=s+this.context.measureText(" ").width;0===o||d>a?(o>0&&(t+="\n"),t+=n[o],a=this.style.wordWrapWidth-s):(a-=d,t+=" "+n[o])}i<r.length-1&&(t+="\n")}return t},i.Text.prototype.getBounds=function(e){return this.dirty&&(this.updateText(),this.dirty=!1),i.Sprite.prototype.getBounds.call(this,e)},i.Text.prototype.destroy=function(e){this.context=null,this.canvas=null,this.texture.destroy(void 0===e?!0:e)},i.Text.fontPropertiesCache={},i.Text.fontPropertiesCanvas=document.createElement("canvas"),i.Text.fontPropertiesContext=i.Text.fontPropertiesCanvas.getContext("2d"),i.BitmapText=function(e,t){i.DisplayObjectContainer.call(this),this.textWidth=0,this.textHeight=0,this._pool=[],this.setText(e),this.setStyle(t),this.updateText(),this.dirty=!1},i.BitmapText.prototype=Object.create(i.DisplayObjectContainer.prototype),i.BitmapText.prototype.constructor=i.BitmapText,i.BitmapText.prototype.setText=function(e){this.text=e||" ",this.dirty=!0},i.BitmapText.prototype.setStyle=function(e){e=e||{},e.align=e.align||"left",this.style=e;var t=e.font.split(" ");this.fontName=t[t.length-1],this.fontSize=t.length>=2?parseInt(t[t.length-2],10):i.BitmapText.fonts[this.fontName].size,this.dirty=!0,this.tint=e.tint},i.BitmapText.prototype.updateText=function(){for(var e=i.BitmapText.fonts[this.fontName],t=new i.Point,r=null,a=[],n=0,o=[],s=0,d=this.fontSize/e.size,c=0;c<this.text.length;c++){var h=this.text.charCodeAt(c);if(/(?:\r\n|\r|\n)/.test(this.text.charAt(c)))o.push(t.x),n=Math.max(n,t.x),s++,t.x=0,t.y+=e.lineHeight,r=null;else{var l=e.chars[h];l&&(r&&l.kerning[r]&&(t.x+=l.kerning[r]),a.push({texture:l.texture,line:s,charCode:h,position:new i.Point(t.x+l.xOffset,t.y+l.yOffset)}),t.x+=l.xAdvance,r=h)}}o.push(t.x),n=Math.max(n,t.x);var f=[];for(c=0;s>=c;c++){var u=0;"right"===this.style.align?u=n-o[c]:"center"===this.style.align&&(u=(n-o[c])/2),f.push(u)}var p=this.children.length,b=a.length,y=this.tint||16777215;for(c=0;b>c;c++){var v=p>c?this.children[c]:this._pool.pop();v?v.setTexture(a[c].texture):v=new i.Sprite(a[c].texture),v.position.x=(a[c].position.x+f[a[c].line])*d,v.position.y=a[c].position.y*d,v.scale.x=v.scale.y=d,v.tint=y,v.parent||this.addChild(v)}for(;this.children.length>b;){var g=this.getChildAt(this.children.length-1);this._pool.push(g),this.removeChild(g)}this.textWidth=n*d,this.textHeight=(t.y+e.lineHeight)*d},i.BitmapText.prototype.updateTransform=function(){this.dirty&&(this.updateText(),this.dirty=!1),i.DisplayObjectContainer.prototype.updateTransform.call(this)},i.BitmapText.fonts={},i.InteractionData=function(){this.global=new i.Point,this.target=null,this.originalEvent=null},i.InteractionData.prototype.getLocalPosition=function(e,t){var r=e.worldTransform,a=this.global,n=r.a,o=r.c,s=r.tx,d=r.b,c=r.d,h=r.ty,l=1/(n*c+o*-d);return t=t||new i.Point,t.x=c*l*a.x+-o*l*a.y+(h*o-s*c)*l,t.y=n*l*a.y+-d*l*a.x+(-h*n+s*d)*l,t},i.InteractionData.prototype.constructor=i.InteractionData,i.InteractionManager=function(e){this.stage=e,this.mouse=new i.InteractionData,this.touches={},this.tempPoint=new i.Point,this.mouseoverEnabled=!0,this.pool=[],this.interactiveItems=[],this.interactionDOMElement=null,this.onMouseMove=this.onMouseMove.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.last=0,this.currentCursorStyle="inherit",this.mouseOut=!1,this.resolution=1
},i.InteractionManager.prototype.constructor=i.InteractionManager,i.InteractionManager.prototype.collectInteractiveSprite=function(e,t){for(var r=e.children,i=r.length,a=i-1;a>=0;a--){var n=r[a];n._interactive?(t.interactiveChildren=!0,this.interactiveItems.push(n),n.children.length>0&&this.collectInteractiveSprite(n,n)):(n.__iParent=null,n.children.length>0&&this.collectInteractiveSprite(n,t))}},i.InteractionManager.prototype.setTarget=function(e){this.target=e,this.resolution=e.resolution,null===this.interactionDOMElement&&this.setTargetDomElement(e.view)},i.InteractionManager.prototype.setTargetDomElement=function(e){this.removeEvents(),window.navigator.msPointerEnabled&&(e.style["-ms-content-zooming"]="none",e.style["-ms-touch-action"]="none"),this.interactionDOMElement=e,e.addEventListener("mousemove",this.onMouseMove,!0),e.addEventListener("mousedown",this.onMouseDown,!0),e.addEventListener("mouseout",this.onMouseOut,!0),e.addEventListener("touchstart",this.onTouchStart,!0),e.addEventListener("touchend",this.onTouchEnd,!0),e.addEventListener("touchmove",this.onTouchMove,!0),window.addEventListener("mouseup",this.onMouseUp,!0)},i.InteractionManager.prototype.removeEvents=function(){this.interactionDOMElement&&(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]="",this.interactionDOMElement.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0),this.interactionDOMElement=null,window.removeEventListener("mouseup",this.onMouseUp,!0))},i.InteractionManager.prototype.update=function(){if(this.target){var e=Date.now(),t=e-this.last;if(t=t*i.INTERACTION_FREQUENCY/1e3,!(1>t)){this.last=e;var r=0;this.dirty&&this.rebuildInteractiveGraph();var a=this.interactiveItems.length,n="inherit",o=!1;for(r=0;a>r;r++){var s=this.interactiveItems[r];s.__hit=this.hitTest(s,this.mouse),this.mouse.target=s,s.__hit&&!o?(s.buttonMode&&(n=s.defaultCursor),s.interactiveChildren||(o=!0),s.__isOver||(s.mouseover&&s.mouseover(this.mouse),s.__isOver=!0)):s.__isOver&&(s.mouseout&&s.mouseout(this.mouse),s.__isOver=!1)}this.currentCursorStyle!==n&&(this.currentCursorStyle=n,this.interactionDOMElement.style.cursor=n)}}},i.InteractionManager.prototype.rebuildInteractiveGraph=function(){this.dirty=!1;for(var e=this.interactiveItems.length,t=0;e>t;t++)this.interactiveItems[t].interactiveChildren=!1;this.interactiveItems=[],this.stage.interactive&&this.interactiveItems.push(this.stage),this.collectInteractiveSprite(this.stage,this.stage)},i.InteractionManager.prototype.onMouseMove=function(e){this.dirty&&this.rebuildInteractiveGraph(),this.mouse.originalEvent=e;var t=this.interactionDOMElement.getBoundingClientRect();this.mouse.global.x=(e.clientX-t.left)*(this.target.width/t.width)/this.resolution,this.mouse.global.y=(e.clientY-t.top)*(this.target.height/t.height)/this.resolution;for(var r=this.interactiveItems.length,i=0;r>i;i++){var a=this.interactiveItems[i];a.mousemove&&a.mousemove(this.mouse)}},i.InteractionManager.prototype.onMouseDown=function(e){this.dirty&&this.rebuildInteractiveGraph(),this.mouse.originalEvent=e,i.AUTO_PREVENT_DEFAULT&&this.mouse.originalEvent.preventDefault();for(var t=this.interactiveItems.length,r=this.mouse.originalEvent,a=2===r.button||3===r.which,n=a?"rightdown":"mousedown",o=a?"rightclick":"click",s=a?"__rightIsDown":"__mouseIsDown",d=a?"__isRightDown":"__isDown",c=0;t>c;c++){var h=this.interactiveItems[c];if((h[n]||h[o])&&(h[s]=!0,h.__hit=this.hitTest(h,this.mouse),h.__hit&&(h[n]&&h[n](this.mouse),h[d]=!0,!h.interactiveChildren)))break}},i.InteractionManager.prototype.onMouseOut=function(e){this.dirty&&this.rebuildInteractiveGraph(),this.mouse.originalEvent=e;var t=this.interactiveItems.length;this.interactionDOMElement.style.cursor="inherit";for(var r=0;t>r;r++){var i=this.interactiveItems[r];i.__isOver&&(this.mouse.target=i,i.mouseout&&i.mouseout(this.mouse),i.__isOver=!1)}this.mouseOut=!0,this.mouse.global.x=-1e4,this.mouse.global.y=-1e4},i.InteractionManager.prototype.onMouseUp=function(e){this.dirty&&this.rebuildInteractiveGraph(),this.mouse.originalEvent=e;for(var t=this.interactiveItems.length,r=!1,i=this.mouse.originalEvent,a=2===i.button||3===i.which,n=a?"rightup":"mouseup",o=a?"rightclick":"click",s=a?"rightupoutside":"mouseupoutside",d=a?"__isRightDown":"__isDown",c=0;t>c;c++){var h=this.interactiveItems[c];(h[o]||h[n]||h[s])&&(h.__hit=this.hitTest(h,this.mouse),h.__hit&&!r?(h[n]&&h[n](this.mouse),h[d]&&h[o]&&h[o](this.mouse),h.interactiveChildren||(r=!0)):h[d]&&h[s]&&h[s](this.mouse),h[d]=!1)}},i.InteractionManager.prototype.hitTest=function(e,t){var r=t.global;if(!e.worldVisible)return!1;var a,n=e.worldTransform,o=n.a,s=n.b,d=n.c,c=n.tx,h=n.d,l=n.ty,f=1/(o*h+d*-s),u=h*f*r.x+-d*f*r.y+(l*d-c*h)*f,p=o*f*r.y+-s*f*r.x+(-l*o+c*s)*f;if(t.target=e,e.hitArea&&e.hitArea.contains)return e.hitArea.contains(u,p)?(t.target=e,!0):!1;if(e instanceof i.Sprite){var b,y=e.texture.frame.width,v=e.texture.frame.height,g=-y*e.anchor.x;if(u>g&&g+y>u&&(b=-v*e.anchor.y,p>b&&b+v>p))return t.target=e,!0}else if(e instanceof i.Graphics){var m=e.graphicsData;for(a=0;a<m.length;a++){var x=m[a];if(x.fill&&x.shape&&x.shape.contains(u,p))return t.target=e,!0}}var _=e.children.length;for(a=0;_>a;a++){var w=e.children[a],T=this.hitTest(w,t);if(T)return t.target=e,!0}return!1},i.InteractionManager.prototype.onTouchMove=function(e){this.dirty&&this.rebuildInteractiveGraph();var t,r=this.interactionDOMElement.getBoundingClientRect(),i=e.changedTouches,a=0;for(a=0;a<i.length;a++){var n=i[a];t=this.touches[n.identifier],t.originalEvent=e,t.global.x=(n.clientX-r.left)*(this.target.width/r.width)/this.resolution,t.global.y=(n.clientY-r.top)*(this.target.height/r.height)/this.resolution,!navigator.isCocoonJS||r.left||r.top||e.target.style.width||e.target.style.height||(t.global.x=n.clientX,t.global.y=n.clientY);for(var o=0;o<this.interactiveItems.length;o++){var s=this.interactiveItems[o];s.touchmove&&s.__touchData&&s.__touchData[n.identifier]&&s.touchmove(t)}}},i.InteractionManager.prototype.onTouchStart=function(e){this.dirty&&this.rebuildInteractiveGraph();var t=this.interactionDOMElement.getBoundingClientRect();i.AUTO_PREVENT_DEFAULT&&e.preventDefault();for(var r=e.changedTouches,a=0;a<r.length;a++){var n=r[a],o=this.pool.pop();o||(o=new i.InteractionData),o.originalEvent=e,this.touches[n.identifier]=o,o.global.x=(n.clientX-t.left)*(this.target.width/t.width)/this.resolution,o.global.y=(n.clientY-t.top)*(this.target.height/t.height)/this.resolution,!navigator.isCocoonJS||t.left||t.top||e.target.style.width||e.target.style.height||(o.global.x=n.clientX,o.global.y=n.clientY);for(var s=this.interactiveItems.length,d=0;s>d;d++){var c=this.interactiveItems[d];if((c.touchstart||c.tap)&&(c.__hit=this.hitTest(c,o),c.__hit&&(c.touchstart&&c.touchstart(o),c.__isDown=!0,c.__touchData=c.__touchData||{},c.__touchData[n.identifier]=o,!c.interactiveChildren)))break}}},i.InteractionManager.prototype.onTouchEnd=function(e){this.dirty&&this.rebuildInteractiveGraph();for(var t=this.interactionDOMElement.getBoundingClientRect(),r=e.changedTouches,i=0;i<r.length;i++){var a=r[i],n=this.touches[a.identifier],o=!1;n.global.x=(a.clientX-t.left)*(this.target.width/t.width)/this.resolution,n.global.y=(a.clientY-t.top)*(this.target.height/t.height)/this.resolution,!navigator.isCocoonJS||t.left||t.top||e.target.style.width||e.target.style.height||(n.global.x=a.clientX,n.global.y=a.clientY);for(var s=this.interactiveItems.length,d=0;s>d;d++){var c=this.interactiveItems[d];c.__touchData&&c.__touchData[a.identifier]&&(c.__hit=this.hitTest(c,c.__touchData[a.identifier]),n.originalEvent=e,(c.touchend||c.tap)&&(c.__hit&&!o?(c.touchend&&c.touchend(n),c.__isDown&&c.tap&&c.tap(n),c.interactiveChildren||(o=!0)):c.__isDown&&c.touchendoutside&&c.touchendoutside(n),c.__isDown=!1),c.__touchData[a.identifier]=null)}this.pool.push(n),this.touches[a.identifier]=null}},i.Stage=function(e){i.DisplayObjectContainer.call(this),this.worldTransform=new i.Matrix,this.interactive=!0,this.interactionManager=new i.InteractionManager(this),this.dirty=!0,this.stage=this,this.stage.hitArea=new i.Rectangle(0,0,1e5,1e5),this.setBackgroundColor(e)},i.Stage.prototype=Object.create(i.DisplayObjectContainer.prototype),i.Stage.prototype.constructor=i.Stage,i.Stage.prototype.setInteractionDelegate=function(e){this.interactionManager.setTargetDomElement(e)},i.Stage.prototype.updateTransform=function(){this.worldAlpha=1;for(var e=0,t=this.children.length;t>e;e++)this.children[e].updateTransform();this.dirty&&(this.dirty=!1,this.interactionManager.dirty=!0),this.interactive&&this.interactionManager.update()},i.Stage.prototype.setBackgroundColor=function(e){this.backgroundColor=e||0,this.backgroundColorSplit=i.hex2rgb(this.backgroundColor);var t=this.backgroundColor.toString(16);t="000000".substr(0,6-t.length)+t,this.backgroundColorString="#"+t},i.Stage.prototype.getMousePosition=function(){return this.interactionManager.mouse.global},function(e){for(var t=0,r=["ms","moz","webkit","o"],i=0;i<r.length&&!e.requestAnimationFrame;++i)e.requestAnimationFrame=e[r[i]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[r[i]+"CancelAnimationFrame"]||e[r[i]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(r){var i=(new Date).getTime(),a=Math.max(0,16-(i-t)),n=e.setTimeout(function(){r(i+a)},a);return t=i+a,n}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){clearTimeout(e)}),e.requestAnimFrame=e.requestAnimationFrame}(this),i.hex2rgb=function(e){return[(e>>16&255)/255,(e>>8&255)/255,(255&e)/255]},i.rgb2hex=function(e){return(255*e[0]<<16)+(255*e[1]<<8)+255*e[2]},"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(){return function(e){function t(){for(var i=arguments.length,n=new Array(i);i--;)n[i]=arguments[i];return n=a.concat(n),r.apply(this instanceof t?this:e,n)}var r=this,i=arguments.length-1,a=[];if(i>0)for(a.length=i;i--;)a[i]=arguments[i+1];if("function"!=typeof r)throw new TypeError;return t.prototype=function n(e){return e&&(n.prototype=e),this instanceof n?void 0:new n}(r.prototype),t}}()),i.AjaxRequest=function(){var e=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"];if(!window.ActiveXObject)return window.XMLHttpRequest?new window.XMLHttpRequest:!1;for(var t=0;t<e.length;t++)try{return new window.ActiveXObject(e[t])}catch(r){}},i.canUseNewCanvasBlendModes=function(){if("undefined"==typeof document)return!1;var e=document.createElement("canvas");e.width=1,e.height=1;var t=e.getContext("2d");return t.fillStyle="#000",t.fillRect(0,0,1,1),t.globalCompositeOperation="multiply",t.fillStyle="#fff",t.fillRect(0,0,1,1),0===t.getImageData(0,0,1,1).data[0]},i.getNextPowerOfTwo=function(e){if(e>0&&0===(e&e-1))return e;for(var t=1;e>t;)t<<=1;return t},i.EventTarget={call:function(e){e&&(e=e.prototype||e,i.EventTarget.mixin(e))},mixin:function(e){e.listeners=function(e){return this._listeners=this._listeners||{},this._listeners[e]?this._listeners[e].slice():[]},e.emit=e.dispatchEvent=function(e,t){if(this._listeners=this._listeners||{},"object"==typeof e&&(t=e,e=e.type),t&&t.__isEventObject===!0||(t=new i.Event(this,e,t)),this._listeners&&this._listeners[e]){var r,a=this._listeners[e].slice(0),n=a.length,o=a[0];for(r=0;n>r;o=a[++r])if(o.call(this,t),t.stoppedImmediate)return this;if(t.stopped)return this}return this.parent&&this.parent.emit&&this.parent.emit.call(this.parent,e,t),this},e.on=e.addEventListener=function(e,t){return this._listeners=this._listeners||{},(this._listeners[e]=this._listeners[e]||[]).push(t),this},e.once=function(e,t){function r(){t.apply(i.off(e,r),arguments)}this._listeners=this._listeners||{};var i=this;return r._originalHandler=t,this.on(e,r)},e.off=e.removeEventListener=function(e,t){if(this._listeners=this._listeners||{},!this._listeners[e])return this;for(var r=this._listeners[e],i=t?r.length:0;i-->0;)(r[i]===t||r[i]._originalHandler===t)&&r.splice(i,1);return 0===r.length&&delete this._listeners[e],this},e.removeAllListeners=function(e){return this._listeners=this._listeners||{},this._listeners[e]?(delete this._listeners[e],this):this}}},i.Event=function(e,t,r){this.__isEventObject=!0,this.stopped=!1,this.stoppedImmediate=!1,this.target=e,this.type=t,this.data=r,this.content=r,this.timeStamp=Date.now()},i.Event.prototype.stopPropagation=function(){this.stopped=!0},i.Event.prototype.stopImmediatePropagation=function(){this.stoppedImmediate=!0},i.autoDetectRenderer=function(e,t,r){e||(e=800),t||(t=600);var a=function(){try{var e=document.createElement("canvas");return!!window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl"))}catch(t){return!1}}();return a?new i.WebGLRenderer(e,t,r):new i.CanvasRenderer(e,t,r)},i.autoDetectRecommendedRenderer=function(e,t,r){e||(e=800),t||(t=600);var a=function(){try{var e=document.createElement("canvas");return!!window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl"))}catch(t){return!1}}(),n=/Android/i.test(navigator.userAgent);return a&&!n?new i.WebGLRenderer(e,t,r):new i.CanvasRenderer(e,t,r)},i.PolyK={},i.PolyK.Triangulate=function(e){var t=!0,r=e.length>>1;if(3>r)return[];for(var a=[],n=[],o=0;r>o;o++)n.push(o);o=0;for(var s=r;s>3;){var d=n[(o+0)%s],c=n[(o+1)%s],h=n[(o+2)%s],l=e[2*d],f=e[2*d+1],u=e[2*c],p=e[2*c+1],b=e[2*h],y=e[2*h+1],v=!1;if(i.PolyK._convex(l,f,u,p,b,y,t)){v=!0;for(var g=0;s>g;g++){var m=n[g];if(m!==d&&m!==c&&m!==h&&i.PolyK._PointInTriangle(e[2*m],e[2*m+1],l,f,u,p,b,y)){v=!1;break}}}if(v)a.push(d,c,h),n.splice((o+1)%s,1),s--,o=0;else if(o++>3*s){if(!t)return null;for(a=[],n=[],o=0;r>o;o++)n.push(o);o=0,s=r,t=!1}}return a.push(n[0],n[1],n[2]),a},i.PolyK._PointInTriangle=function(e,t,r,i,a,n,o,s){var d=o-r,c=s-i,h=a-r,l=n-i,f=e-r,u=t-i,p=d*d+c*c,b=d*h+c*l,y=d*f+c*u,v=h*h+l*l,g=h*f+l*u,m=1/(p*v-b*b),x=(v*y-b*g)*m,_=(p*g-b*y)*m;return x>=0&&_>=0&&1>x+_},i.PolyK._convex=function(e,t,r,i,a,n,o){return(t-i)*(a-r)+(r-e)*(n-i)>=0===o},i.initDefaultShaders=function(){},i.CompileVertexShader=function(e,t){return i._CompileShader(e,t,e.VERTEX_SHADER)},i.CompileFragmentShader=function(e,t){return i._CompileShader(e,t,e.FRAGMENT_SHADER)},i._CompileShader=function(e,t,r){var i=t.join("\n"),a=e.createShader(r);return e.shaderSource(a,i),e.compileShader(a),e.getShaderParameter(a,e.COMPILE_STATUS)?a:(window.console.log(e.getShaderInfoLog(a)),null)},i.compileProgram=function(e,t,r){var a=i.CompileFragmentShader(e,r),n=i.CompileVertexShader(e,t),o=e.createProgram();return e.attachShader(o,n),e.attachShader(o,a),e.linkProgram(o),e.getProgramParameter(o,e.LINK_STATUS)||window.console.log("Could not initialise shaders"),o},i.PixiShader=function(e){this._UID=i._UID++,this.gl=e,this.program=null,this.fragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"],this.textureCount=0,this.firstRun=!0,this.dirty=!0,this.attributes=[],this.init()},i.PixiShader.prototype.constructor=i.PixiShader,i.PixiShader.prototype.init=function(){var e=this.gl,t=i.compileProgram(e,this.vertexSrc||i.PixiShader.defaultVertexSrc,this.fragmentSrc);e.useProgram(t),this.uSampler=e.getUniformLocation(t,"uSampler"),this.projectionVector=e.getUniformLocation(t,"projectionVector"),this.offsetVector=e.getUniformLocation(t,"offsetVector"),this.dimensions=e.getUniformLocation(t,"dimensions"),this.aVertexPosition=e.getAttribLocation(t,"aVertexPosition"),this.aTextureCoord=e.getAttribLocation(t,"aTextureCoord"),this.colorAttribute=e.getAttribLocation(t,"aColor"),-1===this.colorAttribute&&(this.colorAttribute=2),this.attributes=[this.aVertexPosition,this.aTextureCoord,this.colorAttribute];for(var r in this.uniforms)this.uniforms[r].uniformLocation=e.getUniformLocation(t,r);this.initUniforms(),this.program=t},i.PixiShader.prototype.initUniforms=function(){this.textureCount=1;var e,t=this.gl;for(var r in this.uniforms){e=this.uniforms[r];var i=e.type;"sampler2D"===i?(e._init=!1,null!==e.value&&this.initSampler2D(e)):"mat2"===i||"mat3"===i||"mat4"===i?(e.glMatrix=!0,e.glValueLength=1,"mat2"===i?e.glFunc=t.uniformMatrix2fv:"mat3"===i?e.glFunc=t.uniformMatrix3fv:"mat4"===i&&(e.glFunc=t.uniformMatrix4fv)):(e.glFunc=t["uniform"+i],e.glValueLength="2f"===i||"2i"===i?2:"3f"===i||"3i"===i?3:"4f"===i||"4i"===i?4:1)}},i.PixiShader.prototype.initSampler2D=function(e){if(e.value&&e.value.baseTexture&&e.value.baseTexture.hasLoaded){var t=this.gl;if(t.activeTexture(t["TEXTURE"+this.textureCount]),t.bindTexture(t.TEXTURE_2D,e.value.baseTexture._glTextures[t.id]),e.textureData){var r=e.textureData,i=r.magFilter?r.magFilter:t.LINEAR,a=r.minFilter?r.minFilter:t.LINEAR,n=r.wrapS?r.wrapS:t.CLAMP_TO_EDGE,o=r.wrapT?r.wrapT:t.CLAMP_TO_EDGE,s=r.luminance?t.LUMINANCE:t.RGBA;if(r.repeat&&(n=t.REPEAT,o=t.REPEAT),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!!r.flipY),r.width){var d=r.width?r.width:512,c=r.height?r.height:2,h=r.border?r.border:0;t.texImage2D(t.TEXTURE_2D,0,s,d,c,h,s,t.UNSIGNED_BYTE,null)}else t.texImage2D(t.TEXTURE_2D,0,s,t.RGBA,t.UNSIGNED_BYTE,e.value.baseTexture.source);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,a),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,o)}t.uniform1i(e.uniformLocation,this.textureCount),e._init=!0,this.textureCount++}},i.PixiShader.prototype.syncUniforms=function(){this.textureCount=1;var e,t=this.gl;for(var r in this.uniforms)e=this.uniforms[r],1===e.glValueLength?e.glMatrix===!0?e.glFunc.call(t,e.uniformLocation,e.transpose,e.value):e.glFunc.call(t,e.uniformLocation,e.value):2===e.glValueLength?e.glFunc.call(t,e.uniformLocation,e.value.x,e.value.y):3===e.glValueLength?e.glFunc.call(t,e.uniformLocation,e.value.x,e.value.y,e.value.z):4===e.glValueLength?e.glFunc.call(t,e.uniformLocation,e.value.x,e.value.y,e.value.z,e.value.w):"sampler2D"===e.type&&(e._init?(t.activeTexture(t["TEXTURE"+this.textureCount]),e.value.baseTexture._dirty[t.id]?i.instances[t.id].updateTexture(e.value.baseTexture):t.bindTexture(t.TEXTURE_2D,e.value.baseTexture._glTextures[t.id]),t.uniform1i(e.uniformLocation,this.textureCount),this.textureCount++):this.initSampler2D(e))},i.PixiShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},i.PixiShader.defaultVertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","varying vec4 vColor;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   gl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vec3 color = mod(vec3(aColor.y/65536.0, aColor.y/256.0, aColor.y), 256.0) / 256.0;","   vColor = vec4(color * aColor.x, aColor.x);","}"],i.PixiFastShader=function(e){this._UID=i._UID++,this.gl=e,this.program=null,this.fragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","attribute vec2 aTextureCoord;","attribute float aColor;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform mat3 uMatrix;","varying vec2 vTextureCoord;","varying float vColor;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   vec2 v;","   vec2 sv = aVertexPosition * aScale;","   v.x = (sv.x) * cos(aRotation) - (sv.y) * sin(aRotation);","   v.y = (sv.x) * sin(aRotation) + (sv.y) * cos(aRotation);","   v = ( uMatrix * vec3(v + aPositionCoord , 1.0) ).xy ;","   gl_Position = vec4( ( v / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"],this.textureCount=0,this.init()},i.PixiFastShader.prototype.constructor=i.PixiFastShader,i.PixiFastShader.prototype.init=function(){var e=this.gl,t=i.compileProgram(e,this.vertexSrc,this.fragmentSrc);e.useProgram(t),this.uSampler=e.getUniformLocation(t,"uSampler"),this.projectionVector=e.getUniformLocation(t,"projectionVector"),this.offsetVector=e.getUniformLocation(t,"offsetVector"),this.dimensions=e.getUniformLocation(t,"dimensions"),this.uMatrix=e.getUniformLocation(t,"uMatrix"),this.aVertexPosition=e.getAttribLocation(t,"aVertexPosition"),this.aPositionCoord=e.getAttribLocation(t,"aPositionCoord"),this.aScale=e.getAttribLocation(t,"aScale"),this.aRotation=e.getAttribLocation(t,"aRotation"),this.aTextureCoord=e.getAttribLocation(t,"aTextureCoord"),this.colorAttribute=e.getAttribLocation(t,"aColor"),-1===this.colorAttribute&&(this.colorAttribute=2),this.attributes=[this.aVertexPosition,this.aPositionCoord,this.aScale,this.aRotation,this.aTextureCoord,this.colorAttribute],this.program=t},i.PixiFastShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},i.StripShader=function(e){this._UID=i._UID++,this.gl=e,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","uniform float alpha;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * alpha;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","}"],this.init()},i.StripShader.prototype.constructor=i.StripShader,i.StripShader.prototype.init=function(){var e=this.gl,t=i.compileProgram(e,this.vertexSrc,this.fragmentSrc);e.useProgram(t),this.uSampler=e.getUniformLocation(t,"uSampler"),this.projectionVector=e.getUniformLocation(t,"projectionVector"),this.offsetVector=e.getUniformLocation(t,"offsetVector"),this.colorAttribute=e.getAttribLocation(t,"aColor"),this.aVertexPosition=e.getAttribLocation(t,"aVertexPosition"),this.aTextureCoord=e.getAttribLocation(t,"aTextureCoord"),this.attributes=[this.aVertexPosition,this.aTextureCoord],this.translationMatrix=e.getUniformLocation(t,"translationMatrix"),this.alpha=e.getUniformLocation(t,"alpha"),this.program=t},i.StripShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attribute=null},i.PrimitiveShader=function(e){this._UID=i._UID++,this.gl=e,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"],this.init()},i.PrimitiveShader.prototype.constructor=i.PrimitiveShader,i.PrimitiveShader.prototype.init=function(){var e=this.gl,t=i.compileProgram(e,this.vertexSrc,this.fragmentSrc);e.useProgram(t),this.projectionVector=e.getUniformLocation(t,"projectionVector"),this.offsetVector=e.getUniformLocation(t,"offsetVector"),this.tintColor=e.getUniformLocation(t,"tint"),this.aVertexPosition=e.getAttribLocation(t,"aVertexPosition"),this.colorAttribute=e.getAttribLocation(t,"aColor"),this.attributes=[this.aVertexPosition,this.colorAttribute],this.translationMatrix=e.getUniformLocation(t,"translationMatrix"),this.alpha=e.getUniformLocation(t,"alpha"),this.program=t},i.PrimitiveShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},i.ComplexPrimitiveShader=function(e){this._UID=i._UID++,this.gl=e,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"],this.init()},i.ComplexPrimitiveShader.prototype.constructor=i.ComplexPrimitiveShader,i.ComplexPrimitiveShader.prototype.init=function(){var e=this.gl,t=i.compileProgram(e,this.vertexSrc,this.fragmentSrc);e.useProgram(t),this.projectionVector=e.getUniformLocation(t,"projectionVector"),this.offsetVector=e.getUniformLocation(t,"offsetVector"),this.tintColor=e.getUniformLocation(t,"tint"),this.color=e.getUniformLocation(t,"color"),this.aVertexPosition=e.getAttribLocation(t,"aVertexPosition"),this.attributes=[this.aVertexPosition,this.colorAttribute],this.translationMatrix=e.getUniformLocation(t,"translationMatrix"),this.alpha=e.getUniformLocation(t,"alpha"),this.program=t},i.ComplexPrimitiveShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attribute=null},i.WebGLGraphics=function(){},i.WebGLGraphics.renderGraphics=function(e,t){var r,a=t.gl,n=t.projection,o=t.offset,s=t.shaderManager.primitiveShader;e.dirty&&i.WebGLGraphics.updateGraphics(e,a);for(var d=e._webGL[a.id],c=0;c<d.data.length;c++)1===d.data[c].mode?(r=d.data[c],t.stencilManager.pushStencil(e,r,t),a.drawElements(a.TRIANGLE_FAN,4,a.UNSIGNED_SHORT,2*(r.indices.length-4)),t.stencilManager.popStencil(e,r,t)):(r=d.data[c],t.shaderManager.setShader(s),s=t.shaderManager.primitiveShader,a.uniformMatrix3fv(s.translationMatrix,!1,e.worldTransform.toArray(!0)),a.uniform2f(s.projectionVector,n.x,-n.y),a.uniform2f(s.offsetVector,-o.x,-o.y),a.uniform3fv(s.tintColor,i.hex2rgb(e.tint)),a.uniform1f(s.alpha,e.worldAlpha),a.bindBuffer(a.ARRAY_BUFFER,r.buffer),a.vertexAttribPointer(s.aVertexPosition,2,a.FLOAT,!1,24,0),a.vertexAttribPointer(s.colorAttribute,4,a.FLOAT,!1,24,8),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,r.indexBuffer),a.drawElements(a.TRIANGLE_STRIP,r.indices.length,a.UNSIGNED_SHORT,0))},i.WebGLGraphics.updateGraphics=function(e,t){var r=e._webGL[t.id];r||(r=e._webGL[t.id]={lastIndex:0,data:[],gl:t}),e.dirty=!1;var a;if(e.clearDirty){for(e.clearDirty=!1,a=0;a<r.data.length;a++){var n=r.data[a];n.reset(),i.WebGLGraphics.graphicsDataPool.push(n)}r.data=[],r.lastIndex=0}var o;for(a=r.lastIndex;a<e.graphicsData.length;a++){var s=e.graphicsData[a];if(s.type===i.Graphics.POLY){if(s.points=s.shape.points.slice(),s.shape.closed&&s.points[0]!==s.points[s.points.length-2]&&s.points[1]!==s.points[s.points.length-1]&&s.points.push(s.points[0],s.points[1]),s.fill&&s.points.length>=6)if(s.points.length<12){o=i.WebGLGraphics.switchMode(r,0);var d=i.WebGLGraphics.buildPoly(s,o);d||(o=i.WebGLGraphics.switchMode(r,1),i.WebGLGraphics.buildComplexPoly(s,o))}else o=i.WebGLGraphics.switchMode(r,1),i.WebGLGraphics.buildComplexPoly(s,o);s.lineWidth>0&&(o=i.WebGLGraphics.switchMode(r,0),i.WebGLGraphics.buildLine(s,o))}else o=i.WebGLGraphics.switchMode(r,0),s.type===i.Graphics.RECT?i.WebGLGraphics.buildRectangle(s,o):s.type===i.Graphics.CIRC||s.type===i.Graphics.ELIP?i.WebGLGraphics.buildCircle(s,o):s.type===i.Graphics.RREC&&i.WebGLGraphics.buildRoundedRectangle(s,o);r.lastIndex++}for(a=0;a<r.data.length;a++)o=r.data[a],o.dirty&&o.upload()},i.WebGLGraphics.switchMode=function(e,t){var r;return e.data.length?(r=e.data[e.data.length-1],(r.mode!==t||1===t)&&(r=i.WebGLGraphics.graphicsDataPool.pop()||new i.WebGLGraphicsData(e.gl),r.mode=t,e.data.push(r))):(r=i.WebGLGraphics.graphicsDataPool.pop()||new i.WebGLGraphicsData(e.gl),r.mode=t,e.data.push(r)),r.dirty=!0,r},i.WebGLGraphics.buildRectangle=function(e,t){var r=e.shape,a=r.x,n=r.y,o=r.width,s=r.height;if(e.fill){var d=i.hex2rgb(e.fillColor),c=e.fillAlpha,h=d[0]*c,l=d[1]*c,f=d[2]*c,u=t.points,p=t.indices,b=u.length/6;u.push(a,n),u.push(h,l,f,c),u.push(a+o,n),u.push(h,l,f,c),u.push(a,n+s),u.push(h,l,f,c),u.push(a+o,n+s),u.push(h,l,f,c),p.push(b,b,b+1,b+2,b+3,b+3)}if(e.lineWidth){var y=e.points;e.points=[a,n,a+o,n,a+o,n+s,a,n+s,a,n],i.WebGLGraphics.buildLine(e,t),e.points=y}},i.WebGLGraphics.buildRoundedRectangle=function(e,t){var r=e.shape,a=r.x,n=r.y,o=r.width,s=r.height,d=r.radius,c=[];if(c.push(a,n+d),c=c.concat(i.WebGLGraphics.quadraticBezierCurve(a,n+s-d,a,n+s,a+d,n+s)),c=c.concat(i.WebGLGraphics.quadraticBezierCurve(a+o-d,n+s,a+o,n+s,a+o,n+s-d)),c=c.concat(i.WebGLGraphics.quadraticBezierCurve(a+o,n+d,a+o,n,a+o-d,n)),c=c.concat(i.WebGLGraphics.quadraticBezierCurve(a+d,n,a,n,a,n+d)),e.fill){var h=i.hex2rgb(e.fillColor),l=e.fillAlpha,f=h[0]*l,u=h[1]*l,p=h[2]*l,b=t.points,y=t.indices,v=b.length/6,g=i.PolyK.Triangulate(c),m=0;for(m=0;m<g.length;m+=3)y.push(g[m]+v),y.push(g[m]+v),y.push(g[m+1]+v),y.push(g[m+2]+v),y.push(g[m+2]+v);for(m=0;m<c.length;m++)b.push(c[m],c[++m],f,u,p,l)}if(e.lineWidth){var x=e.points;e.points=c,i.WebGLGraphics.buildLine(e,t),e.points=x}},i.WebGLGraphics.quadraticBezierCurve=function(e,t,r,i,a,n){function o(e,t,r){var i=t-e;return e+i*r}for(var s,d,c,h,l,f,u=20,p=[],b=0,y=0;u>=y;y++)b=y/u,s=o(e,r,b),d=o(t,i,b),c=o(r,a,b),h=o(i,n,b),l=o(s,c,b),f=o(d,h,b),p.push(l,f);return p},i.WebGLGraphics.buildCircle=function(e,t){var r,a,n=e.shape,o=n.x,s=n.y;e.type===i.Graphics.CIRC?(r=n.radius,a=n.radius):(r=n.width,a=n.height);var d=40,c=2*Math.PI/d,h=0;if(e.fill){var l=i.hex2rgb(e.fillColor),f=e.fillAlpha,u=l[0]*f,p=l[1]*f,b=l[2]*f,y=t.points,v=t.indices,g=y.length/6;for(v.push(g),h=0;d+1>h;h++)y.push(o,s,u,p,b,f),y.push(o+Math.sin(c*h)*r,s+Math.cos(c*h)*a,u,p,b,f),v.push(g++,g++);v.push(g-1)}if(e.lineWidth){var m=e.points;for(e.points=[],h=0;d+1>h;h++)e.points.push(o+Math.sin(c*h)*r,s+Math.cos(c*h)*a);i.WebGLGraphics.buildLine(e,t),e.points=m}},i.WebGLGraphics.buildLine=function(e,t){var r=0,a=e.points;if(0!==a.length){if(e.lineWidth%2)for(r=0;r<a.length;r++)a[r]+=.5;var n=new i.Point(a[0],a[1]),o=new i.Point(a[a.length-2],a[a.length-1]);if(n.x===o.x&&n.y===o.y){a=a.slice(),a.pop(),a.pop(),o=new i.Point(a[a.length-2],a[a.length-1]);var s=o.x+.5*(n.x-o.x),d=o.y+.5*(n.y-o.y);a.unshift(s,d),a.push(s,d)}var c,h,l,f,u,p,b,y,v,g,m,x,_,w,T,S,A,C,E,M,R,$,B,L=t.points,I=t.indices,j=a.length/2,F=a.length,P=L.length/6,k=e.lineWidth/2,D=i.hex2rgb(e.lineColor),O=e.lineAlpha,N=D[0]*O,U=D[1]*O,G=D[2]*O;for(l=a[0],f=a[1],u=a[2],p=a[3],v=-(f-p),g=l-u,B=Math.sqrt(v*v+g*g),v/=B,g/=B,v*=k,g*=k,L.push(l-v,f-g,N,U,G,O),L.push(l+v,f+g,N,U,G,O),r=1;j-1>r;r++)l=a[2*(r-1)],f=a[2*(r-1)+1],u=a[2*r],p=a[2*r+1],b=a[2*(r+1)],y=a[2*(r+1)+1],v=-(f-p),g=l-u,B=Math.sqrt(v*v+g*g),v/=B,g/=B,v*=k,g*=k,m=-(p-y),x=u-b,B=Math.sqrt(m*m+x*x),m/=B,x/=B,m*=k,x*=k,T=-g+f-(-g+p),S=-v+u-(-v+l),A=(-v+l)*(-g+p)-(-v+u)*(-g+f),C=-x+y-(-x+p),E=-m+u-(-m+b),M=(-m+b)*(-x+p)-(-m+u)*(-x+y),R=T*E-C*S,Math.abs(R)<.1?(R+=10.1,L.push(u-v,p-g,N,U,G,O),L.push(u+v,p+g,N,U,G,O)):(c=(S*M-E*A)/R,h=(C*A-T*M)/R,$=(c-u)*(c-u)+(h-p)+(h-p),$>19600?(_=v-m,w=g-x,B=Math.sqrt(_*_+w*w),_/=B,w/=B,_*=k,w*=k,L.push(u-_,p-w),L.push(N,U,G,O),L.push(u+_,p+w),L.push(N,U,G,O),L.push(u-_,p-w),L.push(N,U,G,O),F++):(L.push(c,h),L.push(N,U,G,O),L.push(u-(c-u),p-(h-p)),L.push(N,U,G,O)));
for(l=a[2*(j-2)],f=a[2*(j-2)+1],u=a[2*(j-1)],p=a[2*(j-1)+1],v=-(f-p),g=l-u,B=Math.sqrt(v*v+g*g),v/=B,g/=B,v*=k,g*=k,L.push(u-v,p-g),L.push(N,U,G,O),L.push(u+v,p+g),L.push(N,U,G,O),I.push(P),r=0;F>r;r++)I.push(P++);I.push(P-1)}},i.WebGLGraphics.buildComplexPoly=function(e,t){var r=e.points.slice();if(!(r.length<6)){var a=t.indices;t.points=r,t.alpha=e.fillAlpha,t.color=i.hex2rgb(e.fillColor);for(var n,o,s=1/0,d=-1/0,c=1/0,h=-1/0,l=0;l<r.length;l+=2)n=r[l],o=r[l+1],s=s>n?n:s,d=n>d?n:d,c=c>o?o:c,h=o>h?o:h;r.push(s,c,d,c,d,h,s,h);var f=r.length/2;for(l=0;f>l;l++)a.push(l)}},i.WebGLGraphics.buildPoly=function(e,t){var r=e.points;if(!(r.length<6)){var a=t.points,n=t.indices,o=r.length/2,s=i.hex2rgb(e.fillColor),d=e.fillAlpha,c=s[0]*d,h=s[1]*d,l=s[2]*d,f=i.PolyK.Triangulate(r);if(!f)return!1;var u=a.length/6,p=0;for(p=0;p<f.length;p+=3)n.push(f[p]+u),n.push(f[p]+u),n.push(f[p+1]+u),n.push(f[p+2]+u),n.push(f[p+2]+u);for(p=0;o>p;p++)a.push(r[2*p],r[2*p+1],c,h,l,d);return!0}},i.WebGLGraphics.graphicsDataPool=[],i.WebGLGraphicsData=function(e){this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.lastIndex=0,this.buffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),this.mode=1,this.alpha=1,this.dirty=!0},i.WebGLGraphicsData.prototype.reset=function(){this.points=[],this.indices=[],this.lastIndex=0},i.WebGLGraphicsData.prototype.upload=function(){var e=this.gl;this.glPoints=new i.Float32Array(this.points),e.bindBuffer(e.ARRAY_BUFFER,this.buffer),e.bufferData(e.ARRAY_BUFFER,this.glPoints,e.STATIC_DRAW),this.glIndicies=new i.Uint16Array(this.indices),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.glIndicies,e.STATIC_DRAW),this.dirty=!1},i.glContexts=[],i.instances=[],i.WebGLRenderer=function(e,t,r){if(r)for(var a in i.defaultRenderOptions)"undefined"==typeof r[a]&&(r[a]=i.defaultRenderOptions[a]);else r=i.defaultRenderOptions;i.defaultRenderer||(i.sayHello("webGL"),i.defaultRenderer=this),this.type=i.WEBGL_RENDERER,this.resolution=r.resolution,this.transparent=r.transparent,this.autoResize=r.autoResize||!1,this.preserveDrawingBuffer=r.preserveDrawingBuffer,this.clearBeforeRender=r.clearBeforeRender,this.width=e||800,this.height=t||600,this.view=r.view||document.createElement("canvas"),this.contextLostBound=this.handleContextLost.bind(this),this.contextRestoredBound=this.handleContextRestored.bind(this),this.view.addEventListener("webglcontextlost",this.contextLostBound,!1),this.view.addEventListener("webglcontextrestored",this.contextRestoredBound,!1),this._contextOptions={alpha:this.transparent,antialias:r.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer},this.projection=new i.Point,this.offset=new i.Point(0,0),this.shaderManager=new i.WebGLShaderManager,this.spriteBatch=new i.WebGLSpriteBatch,this.maskManager=new i.WebGLMaskManager,this.filterManager=new i.WebGLFilterManager,this.stencilManager=new i.WebGLStencilManager,this.blendModeManager=new i.WebGLBlendModeManager,this.renderSession={},this.renderSession.gl=this.gl,this.renderSession.drawCount=0,this.renderSession.shaderManager=this.shaderManager,this.renderSession.maskManager=this.maskManager,this.renderSession.filterManager=this.filterManager,this.renderSession.blendModeManager=this.blendModeManager,this.renderSession.spriteBatch=this.spriteBatch,this.renderSession.stencilManager=this.stencilManager,this.renderSession.renderer=this,this.renderSession.resolution=this.resolution,this.initContext(),this.mapBlendModes()},i.WebGLRenderer.prototype.constructor=i.WebGLRenderer,i.WebGLRenderer.prototype.initContext=function(){var e=this.view.getContext("webgl",this._contextOptions)||this.view.getContext("experimental-webgl",this._contextOptions);if(this.gl=e,!e)throw new Error("This browser does not support webGL. Try using the canvas renderer");this.glContextId=e.id=i.WebGLRenderer.glContextId++,i.glContexts[this.glContextId]=e,i.instances[this.glContextId]=this,e.disable(e.DEPTH_TEST),e.disable(e.CULL_FACE),e.enable(e.BLEND),this.shaderManager.setContext(e),this.spriteBatch.setContext(e),this.maskManager.setContext(e),this.filterManager.setContext(e),this.blendModeManager.setContext(e),this.stencilManager.setContext(e),this.renderSession.gl=this.gl,this.resize(this.width,this.height)},i.WebGLRenderer.prototype.render=function(e){if(!this.contextLost){this.__stage!==e&&(e.interactive&&e.interactionManager.removeEvents(),this.__stage=e),e.updateTransform();var t=this.gl;e._interactive?e._interactiveEventsAdded||(e._interactiveEventsAdded=!0,e.interactionManager.setTarget(this)):e._interactiveEventsAdded&&(e._interactiveEventsAdded=!1,e.interactionManager.setTarget(this)),t.viewport(0,0,this.width,this.height),t.bindFramebuffer(t.FRAMEBUFFER,null),this.clearBeforeRender&&(this.transparent?t.clearColor(0,0,0,0):t.clearColor(e.backgroundColorSplit[0],e.backgroundColorSplit[1],e.backgroundColorSplit[2],1),t.clear(t.COLOR_BUFFER_BIT)),this.renderDisplayObject(e,this.projection)}},i.WebGLRenderer.prototype.renderDisplayObject=function(e,t,r){this.renderSession.blendModeManager.setBlendMode(i.blendModes.NORMAL),this.renderSession.drawCount=0,this.renderSession.projection=t,this.renderSession.offset=this.offset,this.spriteBatch.begin(this.renderSession),this.filterManager.begin(this.renderSession,r),e._renderWebGL(this.renderSession),this.spriteBatch.end()},i.WebGLRenderer.prototype.resize=function(e,t){this.width=e*this.resolution,this.height=t*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px"),this.gl.viewport(0,0,this.width,this.height),this.projection.x=this.width/2/this.resolution,this.projection.y=-this.height/2/this.resolution},i.WebGLRenderer.prototype.updateTexture=function(e){if(e.hasLoaded){var t=this.gl;return e._glTextures[t.id]||(e._glTextures[t.id]=t.createTexture()),t.bindTexture(t.TEXTURE_2D,e._glTextures[t.id]),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultipliedAlpha),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e.source),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e.scaleMode===i.scaleModes.LINEAR?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e.scaleMode===i.scaleModes.LINEAR?t.LINEAR:t.NEAREST),e._powerOf2?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),e._dirty[t.id]=!1,e._glTextures[t.id]}},i.WebGLRenderer.prototype.handleContextLost=function(e){e.preventDefault(),this.contextLost=!0},i.WebGLRenderer.prototype.handleContextRestored=function(){this.initContext();for(var e in i.TextureCache){var t=i.TextureCache[e].baseTexture;t._glTextures=[]}this.contextLost=!1},i.WebGLRenderer.prototype.destroy=function(){this.view.removeEventListener("webglcontextlost",this.contextLostBound),this.view.removeEventListener("webglcontextrestored",this.contextRestoredBound),i.glContexts[this.glContextId]=null,this.projection=null,this.offset=null,this.shaderManager.destroy(),this.spriteBatch.destroy(),this.maskManager.destroy(),this.filterManager.destroy(),this.shaderManager=null,this.spriteBatch=null,this.maskManager=null,this.filterManager=null,this.gl=null,this.renderSession=null},i.WebGLRenderer.prototype.mapBlendModes=function(){var e=this.gl;i.blendModesWebGL||(i.blendModesWebGL=[],i.blendModesWebGL[i.blendModes.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.ADD]=[e.SRC_ALPHA,e.DST_ALPHA],i.blendModesWebGL[i.blendModes.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.SCREEN]=[e.SRC_ALPHA,e.ONE],i.blendModesWebGL[i.blendModes.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA])},i.WebGLRenderer.glContextId=0,i.WebGLBlendModeManager=function(){this.currentBlendMode=99999},i.WebGLBlendModeManager.prototype.constructor=i.WebGLBlendModeManager,i.WebGLBlendModeManager.prototype.setContext=function(e){this.gl=e},i.WebGLBlendModeManager.prototype.setBlendMode=function(e){if(this.currentBlendMode===e)return!1;this.currentBlendMode=e;var t=i.blendModesWebGL[this.currentBlendMode];return this.gl.blendFunc(t[0],t[1]),!0},i.WebGLBlendModeManager.prototype.destroy=function(){this.gl=null},i.WebGLMaskManager=function(){},i.WebGLMaskManager.prototype.constructor=i.WebGLMaskManager,i.WebGLMaskManager.prototype.setContext=function(e){this.gl=e},i.WebGLMaskManager.prototype.pushMask=function(e,t){var r=t.gl;e.dirty&&i.WebGLGraphics.updateGraphics(e,r),e._webGL[r.id].data.length&&t.stencilManager.pushStencil(e,e._webGL[r.id].data[0],t)},i.WebGLMaskManager.prototype.popMask=function(e,t){var r=this.gl;t.stencilManager.popStencil(e,e._webGL[r.id].data[0],t)},i.WebGLMaskManager.prototype.destroy=function(){this.gl=null},i.WebGLStencilManager=function(){this.stencilStack=[],this.reverse=!0,this.count=0},i.WebGLStencilManager.prototype.setContext=function(e){this.gl=e},i.WebGLStencilManager.prototype.pushStencil=function(e,t,r){var i=this.gl;this.bindGraphics(e,t,r),0===this.stencilStack.length&&(i.enable(i.STENCIL_TEST),i.clear(i.STENCIL_BUFFER_BIT),this.reverse=!0,this.count=0),this.stencilStack.push(t);var a=this.count;i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.ALWAYS,0,255),i.stencilOp(i.KEEP,i.KEEP,i.INVERT),1===t.mode?(i.drawElements(i.TRIANGLE_FAN,t.indices.length-4,i.UNSIGNED_SHORT,0),this.reverse?(i.stencilFunc(i.EQUAL,255-a,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)):(i.stencilFunc(i.EQUAL,a,255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)),i.drawElements(i.TRIANGLE_FAN,4,i.UNSIGNED_SHORT,2*(t.indices.length-4)),this.reverse?i.stencilFunc(i.EQUAL,255-(a+1),255):i.stencilFunc(i.EQUAL,a+1,255),this.reverse=!this.reverse):(this.reverse?(i.stencilFunc(i.EQUAL,a,255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)):(i.stencilFunc(i.EQUAL,255-a,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)),i.drawElements(i.TRIANGLE_STRIP,t.indices.length,i.UNSIGNED_SHORT,0),this.reverse?i.stencilFunc(i.EQUAL,a+1,255):i.stencilFunc(i.EQUAL,255-(a+1),255)),i.colorMask(!0,!0,!0,!0),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),this.count++},i.WebGLStencilManager.prototype.bindGraphics=function(e,t,r){this._currentGraphics=e;var a,n=this.gl,o=r.projection,s=r.offset;1===t.mode?(a=r.shaderManager.complexPrimitiveShader,r.shaderManager.setShader(a),n.uniformMatrix3fv(a.translationMatrix,!1,e.worldTransform.toArray(!0)),n.uniform2f(a.projectionVector,o.x,-o.y),n.uniform2f(a.offsetVector,-s.x,-s.y),n.uniform3fv(a.tintColor,i.hex2rgb(e.tint)),n.uniform3fv(a.color,t.color),n.uniform1f(a.alpha,e.worldAlpha*t.alpha),n.bindBuffer(n.ARRAY_BUFFER,t.buffer),n.vertexAttribPointer(a.aVertexPosition,2,n.FLOAT,!1,8,0),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.indexBuffer)):(a=r.shaderManager.primitiveShader,r.shaderManager.setShader(a),n.uniformMatrix3fv(a.translationMatrix,!1,e.worldTransform.toArray(!0)),n.uniform2f(a.projectionVector,o.x,-o.y),n.uniform2f(a.offsetVector,-s.x,-s.y),n.uniform3fv(a.tintColor,i.hex2rgb(e.tint)),n.uniform1f(a.alpha,e.worldAlpha),n.bindBuffer(n.ARRAY_BUFFER,t.buffer),n.vertexAttribPointer(a.aVertexPosition,2,n.FLOAT,!1,24,0),n.vertexAttribPointer(a.colorAttribute,4,n.FLOAT,!1,24,8),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.indexBuffer))},i.WebGLStencilManager.prototype.popStencil=function(e,t,r){var i=this.gl;if(this.stencilStack.pop(),this.count--,0===this.stencilStack.length)i.disable(i.STENCIL_TEST);else{var a=this.count;this.bindGraphics(e,t,r),i.colorMask(!1,!1,!1,!1),1===t.mode?(this.reverse=!this.reverse,this.reverse?(i.stencilFunc(i.EQUAL,255-(a+1),255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)):(i.stencilFunc(i.EQUAL,a+1,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)),i.drawElements(i.TRIANGLE_FAN,4,i.UNSIGNED_SHORT,2*(t.indices.length-4)),i.stencilFunc(i.ALWAYS,0,255),i.stencilOp(i.KEEP,i.KEEP,i.INVERT),i.drawElements(i.TRIANGLE_FAN,t.indices.length-4,i.UNSIGNED_SHORT,0),this.reverse?i.stencilFunc(i.EQUAL,a,255):i.stencilFunc(i.EQUAL,255-a,255)):(this.reverse?(i.stencilFunc(i.EQUAL,a+1,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)):(i.stencilFunc(i.EQUAL,255-(a+1),255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)),i.drawElements(i.TRIANGLE_STRIP,t.indices.length,i.UNSIGNED_SHORT,0),this.reverse?i.stencilFunc(i.EQUAL,a,255):i.stencilFunc(i.EQUAL,255-a,255)),i.colorMask(!0,!0,!0,!0),i.stencilOp(i.KEEP,i.KEEP,i.KEEP)}},i.WebGLStencilManager.prototype.destroy=function(){this.stencilStack=null,this.gl=null},i.WebGLShaderManager=function(){this.maxAttibs=10,this.attribState=[],this.tempAttribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.stack=[]},i.WebGLShaderManager.prototype.constructor=i.WebGLShaderManager,i.WebGLShaderManager.prototype.setContext=function(e){this.gl=e,this.primitiveShader=new i.PrimitiveShader(e),this.complexPrimitiveShader=new i.ComplexPrimitiveShader(e),this.defaultShader=new i.PixiShader(e),this.fastShader=new i.PixiFastShader(e),this.stripShader=new i.StripShader(e),this.setShader(this.defaultShader)},i.WebGLShaderManager.prototype.setAttribs=function(e){var t;for(t=0;t<this.tempAttribState.length;t++)this.tempAttribState[t]=!1;for(t=0;t<e.length;t++){var r=e[t];this.tempAttribState[r]=!0}var i=this.gl;for(t=0;t<this.attribState.length;t++)this.attribState[t]!==this.tempAttribState[t]&&(this.attribState[t]=this.tempAttribState[t],this.tempAttribState[t]?i.enableVertexAttribArray(t):i.disableVertexAttribArray(t))},i.WebGLShaderManager.prototype.setShader=function(e){return this._currentId===e._UID?!1:(this._currentId=e._UID,this.currentShader=e,this.gl.useProgram(e.program),this.setAttribs(e.attributes),!0)},i.WebGLShaderManager.prototype.destroy=function(){this.attribState=null,this.tempAttribState=null,this.primitiveShader.destroy(),this.complexPrimitiveShader.destroy(),this.defaultShader.destroy(),this.fastShader.destroy(),this.stripShader.destroy(),this.gl=null},i.WebGLSpriteBatch=function(){this.vertSize=6,this.size=2e3;var e=4*this.size*this.vertSize,t=6*this.size;this.vertices=new i.Float32Array(e),this.indices=new i.Uint16Array(t),this.lastIndexCount=0;for(var r=0,a=0;t>r;r+=6,a+=4)this.indices[r+0]=a+0,this.indices[r+1]=a+1,this.indices[r+2]=a+2,this.indices[r+3]=a+0,this.indices[r+4]=a+2,this.indices[r+5]=a+3;this.drawing=!1,this.currentBatchSize=0,this.currentBaseTexture=null,this.dirty=!0,this.textures=[],this.blendModes=[],this.shaders=[],this.sprites=[],this.defaultShader=new i.AbstractFilter(["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"])},i.WebGLSpriteBatch.prototype.setContext=function(e){this.gl=e,this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices,e.DYNAMIC_DRAW),this.currentBlendMode=99999;var t=new i.PixiShader(e);t.fragmentSrc=this.defaultShader.fragmentSrc,t.uniforms={},t.init(),this.defaultShader.shaders[e.id]=t},i.WebGLSpriteBatch.prototype.begin=function(e){this.renderSession=e,this.shader=this.renderSession.shaderManager.defaultShader,this.start()},i.WebGLSpriteBatch.prototype.end=function(){this.flush()},i.WebGLSpriteBatch.prototype.render=function(e){var t=e.texture;this.currentBatchSize>=this.size&&(this.flush(),this.currentBaseTexture=t.baseTexture);var r=t._uvs;if(r){var i,a,n,o,s=e.worldAlpha,d=e.tint,c=this.vertices,h=e.anchor.x,l=e.anchor.y;if(t.trim){var f=t.trim;a=f.x-h*f.width,i=a+t.crop.width,o=f.y-l*f.height,n=o+t.crop.height}else i=t.frame.width*(1-h),a=t.frame.width*-h,n=t.frame.height*(1-l),o=t.frame.height*-l;var u=4*this.currentBatchSize*this.vertSize,p=t.baseTexture.resolution,b=e.worldTransform,y=b.a/p,v=b.b/p,g=b.c/p,m=b.d/p,x=b.tx,_=b.ty;c[u++]=y*a+g*o+x,c[u++]=m*o+v*a+_,c[u++]=r.x0,c[u++]=r.y0,c[u++]=s,c[u++]=d,c[u++]=y*i+g*o+x,c[u++]=m*o+v*i+_,c[u++]=r.x1,c[u++]=r.y1,c[u++]=s,c[u++]=d,c[u++]=y*i+g*n+x,c[u++]=m*n+v*i+_,c[u++]=r.x2,c[u++]=r.y2,c[u++]=s,c[u++]=d,c[u++]=y*a+g*n+x,c[u++]=m*n+v*a+_,c[u++]=r.x3,c[u++]=r.y3,c[u++]=s,c[u++]=d,this.sprites[this.currentBatchSize++]=e}},i.WebGLSpriteBatch.prototype.renderTilingSprite=function(e){var t=e.tilingTexture;this.currentBatchSize>=this.size&&(this.flush(),this.currentBaseTexture=t.baseTexture),e._uvs||(e._uvs=new i.TextureUvs);var r=e._uvs;e.tilePosition.x%=t.baseTexture.width*e.tileScaleOffset.x,e.tilePosition.y%=t.baseTexture.height*e.tileScaleOffset.y;var a=e.tilePosition.x/(t.baseTexture.width*e.tileScaleOffset.x),n=e.tilePosition.y/(t.baseTexture.height*e.tileScaleOffset.y),o=e.width/t.baseTexture.width/(e.tileScale.x*e.tileScaleOffset.x),s=e.height/t.baseTexture.height/(e.tileScale.y*e.tileScaleOffset.y);r.x0=0-a,r.y0=0-n,r.x1=1*o-a,r.y1=0-n,r.x2=1*o-a,r.y2=1*s-n,r.x3=0-a,r.y3=1*s-n;var d=e.worldAlpha,c=e.tint,h=this.vertices,l=e.width,f=e.height,u=e.anchor.x,p=e.anchor.y,b=l*(1-u),y=l*-u,v=f*(1-p),g=f*-p,m=4*this.currentBatchSize*this.vertSize,x=t.baseTexture.resolution,_=e.worldTransform,w=_.a/x,T=_.b/x,S=_.c/x,A=_.d/x,C=_.tx,E=_.ty;h[m++]=w*y+S*g+C,h[m++]=A*g+T*y+E,h[m++]=r.x0,h[m++]=r.y0,h[m++]=d,h[m++]=c,h[m++]=w*b+S*g+C,h[m++]=A*g+T*b+E,h[m++]=r.x1,h[m++]=r.y1,h[m++]=d,h[m++]=c,h[m++]=w*b+S*v+C,h[m++]=A*v+T*b+E,h[m++]=r.x2,h[m++]=r.y2,h[m++]=d,h[m++]=c,h[m++]=w*y+S*v+C,h[m++]=A*v+T*y+E,h[m++]=r.x3,h[m++]=r.y3,h[m++]=d,h[m++]=c,this.sprites[this.currentBatchSize++]=e},i.WebGLSpriteBatch.prototype.flush=function(){if(0!==this.currentBatchSize){var e,t=this.gl;if(this.dirty){this.dirty=!1,t.activeTexture(t.TEXTURE0),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e=this.defaultShader.shaders[t.id];var r=4*this.vertSize;t.vertexAttribPointer(e.aVertexPosition,2,t.FLOAT,!1,r,0),t.vertexAttribPointer(e.aTextureCoord,2,t.FLOAT,!1,r,8),t.vertexAttribPointer(e.colorAttribute,2,t.FLOAT,!1,r,16)}if(this.currentBatchSize>.5*this.size)t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices);else{var a=this.vertices.subarray(0,4*this.currentBatchSize*this.vertSize);t.bufferSubData(t.ARRAY_BUFFER,0,a)}for(var n,o,s,d,c=0,h=0,l=null,f=this.renderSession.blendModeManager.currentBlendMode,u=null,p=!1,b=!1,y=0,v=this.currentBatchSize;v>y;y++){if(d=this.sprites[y],n=d.texture.baseTexture,o=d.blendMode,s=d.shader||this.defaultShader,p=f!==o,b=u!==s,(l!==n||p||b)&&(this.renderBatch(l,c,h),h=y,c=0,l=n,p&&(f=o,this.renderSession.blendModeManager.setBlendMode(f)),b)){u=s,e=u.shaders[t.id],e||(e=new i.PixiShader(t),e.fragmentSrc=u.fragmentSrc,e.uniforms=u.uniforms,e.init(),u.shaders[t.id]=e),this.renderSession.shaderManager.setShader(e),e.dirty&&e.syncUniforms();var g=this.renderSession.projection;t.uniform2f(e.projectionVector,g.x,g.y);var m=this.renderSession.offset;t.uniform2f(e.offsetVector,m.x,m.y)}c++}this.renderBatch(l,c,h),this.currentBatchSize=0}},i.WebGLSpriteBatch.prototype.renderBatch=function(e,t,r){if(0!==t){var i=this.gl;e._dirty[i.id]?this.renderSession.renderer.updateTexture(e):i.bindTexture(i.TEXTURE_2D,e._glTextures[i.id]),i.drawElements(i.TRIANGLES,6*t,i.UNSIGNED_SHORT,6*r*2),this.renderSession.drawCount++}},i.WebGLSpriteBatch.prototype.stop=function(){this.flush(),this.dirty=!0},i.WebGLSpriteBatch.prototype.start=function(){this.dirty=!0},i.WebGLSpriteBatch.prototype.destroy=function(){this.vertices=null,this.indices=null,this.gl.deleteBuffer(this.vertexBuffer),this.gl.deleteBuffer(this.indexBuffer),this.currentBaseTexture=null,this.gl=null},i.WebGLFastSpriteBatch=function(e){this.vertSize=10,this.maxSize=6e3,this.size=this.maxSize;var t=4*this.size*this.vertSize,r=6*this.maxSize;this.vertices=new i.Float32Array(t),this.indices=new i.Uint16Array(r),this.vertexBuffer=null,this.indexBuffer=null,this.lastIndexCount=0;for(var a=0,n=0;r>a;a+=6,n+=4)this.indices[a+0]=n+0,this.indices[a+1]=n+1,this.indices[a+2]=n+2,this.indices[a+3]=n+0,this.indices[a+4]=n+2,this.indices[a+5]=n+3;this.drawing=!1,this.currentBatchSize=0,this.currentBaseTexture=null,this.currentBlendMode=0,this.renderSession=null,this.shader=null,this.matrix=null,this.setContext(e)},i.WebGLFastSpriteBatch.prototype.constructor=i.WebGLFastSpriteBatch,i.WebGLFastSpriteBatch.prototype.setContext=function(e){this.gl=e,this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices,e.DYNAMIC_DRAW)},i.WebGLFastSpriteBatch.prototype.begin=function(e,t){this.renderSession=t,this.shader=this.renderSession.shaderManager.fastShader,this.matrix=e.worldTransform.toArray(!0),this.start()},i.WebGLFastSpriteBatch.prototype.end=function(){this.flush()},i.WebGLFastSpriteBatch.prototype.render=function(e){var t=e.children,r=t[0];if(r.texture._uvs){this.currentBaseTexture=r.texture.baseTexture,r.blendMode!==this.renderSession.blendModeManager.currentBlendMode&&(this.flush(),this.renderSession.blendModeManager.setBlendMode(r.blendMode));for(var i=0,a=t.length;a>i;i++)this.renderSprite(t[i]);this.flush()}},i.WebGLFastSpriteBatch.prototype.renderSprite=function(e){if(e.visible&&(e.texture.baseTexture===this.currentBaseTexture||(this.flush(),this.currentBaseTexture=e.texture.baseTexture,e.texture._uvs))){var t,r,i,a,n,o,s,d,c=this.vertices;if(t=e.texture._uvs,r=e.texture.frame.width,i=e.texture.frame.height,e.texture.trim){var h=e.texture.trim;n=h.x-e.anchor.x*h.width,a=n+e.texture.crop.width,s=h.y-e.anchor.y*h.height,o=s+e.texture.crop.height}else a=e.texture.frame.width*(1-e.anchor.x),n=e.texture.frame.width*-e.anchor.x,o=e.texture.frame.height*(1-e.anchor.y),s=e.texture.frame.height*-e.anchor.y;d=4*this.currentBatchSize*this.vertSize,c[d++]=n,c[d++]=s,c[d++]=e.position.x,c[d++]=e.position.y,c[d++]=e.scale.x,c[d++]=e.scale.y,c[d++]=e.rotation,c[d++]=t.x0,c[d++]=t.y1,c[d++]=e.alpha,c[d++]=a,c[d++]=s,c[d++]=e.position.x,c[d++]=e.position.y,c[d++]=e.scale.x,c[d++]=e.scale.y,c[d++]=e.rotation,c[d++]=t.x1,c[d++]=t.y1,c[d++]=e.alpha,c[d++]=a,c[d++]=o,c[d++]=e.position.x,c[d++]=e.position.y,c[d++]=e.scale.x,c[d++]=e.scale.y,c[d++]=e.rotation,c[d++]=t.x2,c[d++]=t.y2,c[d++]=e.alpha,c[d++]=n,c[d++]=o,c[d++]=e.position.x,c[d++]=e.position.y,c[d++]=e.scale.x,c[d++]=e.scale.y,c[d++]=e.rotation,c[d++]=t.x3,c[d++]=t.y3,c[d++]=e.alpha,this.currentBatchSize++,this.currentBatchSize>=this.size&&this.flush()}},i.WebGLFastSpriteBatch.prototype.flush=function(){if(0!==this.currentBatchSize){var e=this.gl;if(this.currentBaseTexture._glTextures[e.id]||this.renderSession.renderer.updateTexture(this.currentBaseTexture,e),e.bindTexture(e.TEXTURE_2D,this.currentBaseTexture._glTextures[e.id]),this.currentBatchSize>.5*this.size)e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices);else{var t=this.vertices.subarray(0,4*this.currentBatchSize*this.vertSize);e.bufferSubData(e.ARRAY_BUFFER,0,t)}e.drawElements(e.TRIANGLES,6*this.currentBatchSize,e.UNSIGNED_SHORT,0),this.currentBatchSize=0,this.renderSession.drawCount++}},i.WebGLFastSpriteBatch.prototype.stop=function(){this.flush()},i.WebGLFastSpriteBatch.prototype.start=function(){var e=this.gl;e.activeTexture(e.TEXTURE0),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var t=this.renderSession.projection;e.uniform2f(this.shader.projectionVector,t.x,t.y),e.uniformMatrix3fv(this.shader.uMatrix,!1,this.matrix);var r=4*this.vertSize;e.vertexAttribPointer(this.shader.aVertexPosition,2,e.FLOAT,!1,r,0),e.vertexAttribPointer(this.shader.aPositionCoord,2,e.FLOAT,!1,r,8),e.vertexAttribPointer(this.shader.aScale,2,e.FLOAT,!1,r,16),e.vertexAttribPointer(this.shader.aRotation,1,e.FLOAT,!1,r,24),e.vertexAttribPointer(this.shader.aTextureCoord,2,e.FLOAT,!1,r,28),e.vertexAttribPointer(this.shader.colorAttribute,1,e.FLOAT,!1,r,36)},i.WebGLFilterManager=function(){this.filterStack=[],this.offsetX=0,this.offsetY=0},i.WebGLFilterManager.prototype.constructor=i.WebGLFilterManager,i.WebGLFilterManager.prototype.setContext=function(e){this.gl=e,this.texturePool=[],this.initShaderBuffers()},i.WebGLFilterManager.prototype.begin=function(e,t){this.renderSession=e,this.defaultShader=e.shaderManager.defaultShader;var r=this.renderSession.projection;this.width=2*r.x,this.height=2*-r.y,this.buffer=t},i.WebGLFilterManager.prototype.pushFilter=function(e){var t=this.gl,r=this.renderSession.projection,a=this.renderSession.offset;e._filterArea=e.target.filterArea||e.target.getBounds(),this.filterStack.push(e);var n=e.filterPasses[0];this.offsetX+=e._filterArea.x,this.offsetY+=e._filterArea.y;var o=this.texturePool.pop();o?o.resize(this.width,this.height):o=new i.FilterTexture(this.gl,this.width,this.height),t.bindTexture(t.TEXTURE_2D,o.texture);var s=e._filterArea,d=n.padding;s.x-=d,s.y-=d,s.width+=2*d,s.height+=2*d,s.x<0&&(s.x=0),s.width>this.width&&(s.width=this.width),s.y<0&&(s.y=0),s.height>this.height&&(s.height=this.height),t.bindFramebuffer(t.FRAMEBUFFER,o.frameBuffer),t.viewport(0,0,s.width,s.height),r.x=s.width/2,r.y=-s.height/2,a.x=-s.x,a.y=-s.y,t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),e._glFilterTexture=o},i.WebGLFilterManager.prototype.popFilter=function(){var e=this.gl,t=this.filterStack.pop(),r=t._filterArea,a=t._glFilterTexture,n=this.renderSession.projection,o=this.renderSession.offset;if(t.filterPasses.length>1){e.viewport(0,0,r.width,r.height),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),this.vertexArray[0]=0,this.vertexArray[1]=r.height,this.vertexArray[2]=r.width,this.vertexArray[3]=r.height,this.vertexArray[4]=0,this.vertexArray[5]=0,this.vertexArray[6]=r.width,this.vertexArray[7]=0,e.bufferSubData(e.ARRAY_BUFFER,0,this.vertexArray),e.bindBuffer(e.ARRAY_BUFFER,this.uvBuffer),this.uvArray[2]=r.width/this.width,this.uvArray[5]=r.height/this.height,this.uvArray[6]=r.width/this.width,this.uvArray[7]=r.height/this.height,e.bufferSubData(e.ARRAY_BUFFER,0,this.uvArray);var s=a,d=this.texturePool.pop();d||(d=new i.FilterTexture(this.gl,this.width,this.height)),d.resize(this.width,this.height),e.bindFramebuffer(e.FRAMEBUFFER,d.frameBuffer),e.clear(e.COLOR_BUFFER_BIT),e.disable(e.BLEND);for(var c=0;c<t.filterPasses.length-1;c++){var h=t.filterPasses[c];e.bindFramebuffer(e.FRAMEBUFFER,d.frameBuffer),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,s.texture),this.applyFilterPass(h,r,r.width,r.height);var l=s;s=d,d=l}e.enable(e.BLEND),a=s,this.texturePool.push(d)}var f=t.filterPasses[t.filterPasses.length-1];this.offsetX-=r.x,this.offsetY-=r.y;var u=this.width,p=this.height,b=0,y=0,v=this.buffer;if(0===this.filterStack.length)e.colorMask(!0,!0,!0,!0);else{var g=this.filterStack[this.filterStack.length-1];r=g._filterArea,u=r.width,p=r.height,b=r.x,y=r.y,v=g._glFilterTexture.frameBuffer}n.x=u/2,n.y=-p/2,o.x=b,o.y=y,r=t._filterArea;var m=r.x-b,x=r.y-y;e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),this.vertexArray[0]=m,this.vertexArray[1]=x+r.height,this.vertexArray[2]=m+r.width,this.vertexArray[3]=x+r.height,this.vertexArray[4]=m,this.vertexArray[5]=x,this.vertexArray[6]=m+r.width,this.vertexArray[7]=x,e.bufferSubData(e.ARRAY_BUFFER,0,this.vertexArray),e.bindBuffer(e.ARRAY_BUFFER,this.uvBuffer),this.uvArray[2]=r.width/this.width,this.uvArray[5]=r.height/this.height,this.uvArray[6]=r.width/this.width,this.uvArray[7]=r.height/this.height,e.bufferSubData(e.ARRAY_BUFFER,0,this.uvArray),e.viewport(0,0,u,p),e.bindFramebuffer(e.FRAMEBUFFER,v),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,a.texture),this.applyFilterPass(f,r,u,p),this.texturePool.push(a),t._glFilterTexture=null},i.WebGLFilterManager.prototype.applyFilterPass=function(e,t,r,a){var n=this.gl,o=e.shaders[n.id];o||(o=new i.PixiShader(n),o.fragmentSrc=e.fragmentSrc,o.uniforms=e.uniforms,o.init(),e.shaders[n.id]=o),this.renderSession.shaderManager.setShader(o),n.uniform2f(o.projectionVector,r/2,-a/2),n.uniform2f(o.offsetVector,0,0),e.uniforms.dimensions&&(e.uniforms.dimensions.value[0]=this.width,e.uniforms.dimensions.value[1]=this.height,e.uniforms.dimensions.value[2]=this.vertexArray[0],e.uniforms.dimensions.value[3]=this.vertexArray[5]),o.syncUniforms(),n.bindBuffer(n.ARRAY_BUFFER,this.vertexBuffer),n.vertexAttribPointer(o.aVertexPosition,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,this.uvBuffer),n.vertexAttribPointer(o.aTextureCoord,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,this.colorBuffer),n.vertexAttribPointer(o.colorAttribute,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indexBuffer),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0),this.renderSession.drawCount++},i.WebGLFilterManager.prototype.initShaderBuffers=function(){var e=this.gl;this.vertexBuffer=e.createBuffer(),this.uvBuffer=e.createBuffer(),this.colorBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),this.vertexArray=new i.Float32Array([0,0,1,0,0,1,1,1]),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertexArray,e.STATIC_DRAW),this.uvArray=new i.Float32Array([0,0,1,0,0,1,1,1]),e.bindBuffer(e.ARRAY_BUFFER,this.uvBuffer),e.bufferData(e.ARRAY_BUFFER,this.uvArray,e.STATIC_DRAW),this.colorArray=new i.Float32Array([1,16777215,1,16777215,1,16777215,1,16777215]),e.bindBuffer(e.ARRAY_BUFFER,this.colorBuffer),e.bufferData(e.ARRAY_BUFFER,this.colorArray,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,1,3,2]),e.STATIC_DRAW)},i.WebGLFilterManager.prototype.destroy=function(){var e=this.gl;this.filterStack=null,this.offsetX=0,this.offsetY=0;for(var t=0;t<this.texturePool.length;t++)this.texturePool[t].destroy();this.texturePool=null,e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.uvBuffer),e.deleteBuffer(this.colorBuffer),e.deleteBuffer(this.indexBuffer)},i.FilterTexture=function(e,t,r,a){this.gl=e,this.frameBuffer=e.createFramebuffer(),this.texture=e.createTexture(),a=a||i.scaleModes.DEFAULT,e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,a===i.scaleModes.LINEAR?e.LINEAR:e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,a===i.scaleModes.LINEAR?e.LINEAR:e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer),e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture,0),this.renderBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.renderBuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,this.renderBuffer),this.resize(t,r)},i.FilterTexture.prototype.constructor=i.FilterTexture,i.FilterTexture.prototype.clear=function(){var e=this.gl;e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},i.FilterTexture.prototype.resize=function(e,t){if(this.width!==e||this.height!==t){this.width=e,this.height=t;
var r=this.gl;r.bindTexture(r.TEXTURE_2D,this.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,e,t,0,r.RGBA,r.UNSIGNED_BYTE,null),r.bindRenderbuffer(r.RENDERBUFFER,this.renderBuffer),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e,t)}},i.FilterTexture.prototype.destroy=function(){var e=this.gl;e.deleteFramebuffer(this.frameBuffer),e.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null},i.CanvasBuffer=function(e,t){this.width=e,this.height=t,this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=e,this.canvas.height=t},i.CanvasBuffer.prototype.constructor=i.CanvasBuffer,i.CanvasBuffer.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.width,this.height)},i.CanvasBuffer.prototype.resize=function(e,t){this.width=this.canvas.width=e,this.height=this.canvas.height=t},i.CanvasMaskManager=function(){},i.CanvasMaskManager.prototype.constructor=i.CanvasMaskManager,i.CanvasMaskManager.prototype.pushMask=function(e,t){var r=t.context;r.save();var a=e.alpha,n=e.worldTransform,o=t.resolution;r.setTransform(n.a*o,n.b*o,n.c*o,n.d*o,n.tx*o,n.ty*o),i.CanvasGraphics.renderGraphicsMask(e,r),r.clip(),e.worldAlpha=a},i.CanvasMaskManager.prototype.popMask=function(e){e.context.restore()},i.CanvasTinter=function(){},i.CanvasTinter.getTintedTexture=function(e,t){var r=e.texture;t=i.CanvasTinter.roundColor(t);var a="#"+("00000"+(0|t).toString(16)).substr(-6);if(r.tintCache=r.tintCache||{},r.tintCache[a])return r.tintCache[a];var n=i.CanvasTinter.canvas||document.createElement("canvas");if(i.CanvasTinter.tintMethod(r,t,n),i.CanvasTinter.convertTintToImage){var o=new Image;o.src=n.toDataURL(),r.tintCache[a]=o}else r.tintCache[a]=n,i.CanvasTinter.canvas=null;return n},i.CanvasTinter.tintWithMultiply=function(e,t,r){var i=r.getContext("2d"),a=e.crop;r.width=a.width,r.height=a.height,i.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),i.fillRect(0,0,a.width,a.height),i.globalCompositeOperation="multiply",i.drawImage(e.baseTexture.source,a.x,a.y,a.width,a.height,0,0,a.width,a.height),i.globalCompositeOperation="destination-atop",i.drawImage(e.baseTexture.source,a.x,a.y,a.width,a.height,0,0,a.width,a.height)},i.CanvasTinter.tintWithOverlay=function(e,t,r){var i=r.getContext("2d"),a=e.crop;r.width=a.width,r.height=a.height,i.globalCompositeOperation="copy",i.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),i.fillRect(0,0,a.width,a.height),i.globalCompositeOperation="destination-atop",i.drawImage(e.baseTexture.source,a.x,a.y,a.width,a.height,0,0,a.width,a.height)},i.CanvasTinter.tintWithPerPixel=function(e,t,r){var a=r.getContext("2d"),n=e.crop;r.width=n.width,r.height=n.height,a.globalCompositeOperation="copy",a.drawImage(e.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height);for(var o=i.hex2rgb(t),s=o[0],d=o[1],c=o[2],h=a.getImageData(0,0,n.width,n.height),l=h.data,f=0;f<l.length;f+=4)l[f+0]*=s,l[f+1]*=d,l[f+2]*=c;a.putImageData(h,0,0)},i.CanvasTinter.roundColor=function(e){var t=i.CanvasTinter.cacheStepsPerColorChannel,r=i.hex2rgb(e);return r[0]=Math.min(255,r[0]/t*t),r[1]=Math.min(255,r[1]/t*t),r[2]=Math.min(255,r[2]/t*t),i.rgb2hex(r)},i.CanvasTinter.cacheStepsPerColorChannel=8,i.CanvasTinter.convertTintToImage=!1,i.CanvasTinter.canUseMultiply=i.canUseNewCanvasBlendModes(),i.CanvasTinter.tintMethod=i.CanvasTinter.canUseMultiply?i.CanvasTinter.tintWithMultiply:i.CanvasTinter.tintWithPerPixel,i.CanvasRenderer=function(e,t,r){if(r)for(var a in i.defaultRenderOptions)"undefined"==typeof r[a]&&(r[a]=i.defaultRenderOptions[a]);else r=i.defaultRenderOptions;i.defaultRenderer||(i.sayHello("Canvas"),i.defaultRenderer=this),this.type=i.CANVAS_RENDERER,this.resolution=r.resolution,this.clearBeforeRender=r.clearBeforeRender,this.transparent=r.transparent,this.autoResize=r.autoResize||!1,this.width=e||800,this.height=t||600,this.width*=this.resolution,this.height*=this.resolution,this.view=r.view||document.createElement("canvas"),this.context=this.view.getContext("2d",{alpha:this.transparent}),this.refresh=!0,this.view.width=this.width*this.resolution,this.view.height=this.height*this.resolution,this.count=0,this.maskManager=new i.CanvasMaskManager,this.renderSession={context:this.context,maskManager:this.maskManager,scaleMode:null,smoothProperty:null,roundPixels:!1},this.mapBlendModes(),this.resize(e,t),"imageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="imageSmoothingEnabled":"webkitImageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="webkitImageSmoothingEnabled":"mozImageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="mozImageSmoothingEnabled":"oImageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="oImageSmoothingEnabled":"msImageSmoothingEnabled"in this.context&&(this.renderSession.smoothProperty="msImageSmoothingEnabled")},i.CanvasRenderer.prototype.constructor=i.CanvasRenderer,i.CanvasRenderer.prototype.render=function(e){e.updateTransform(),this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.renderSession.currentBlendMode=i.blendModes.NORMAL,this.context.globalCompositeOperation=i.blendModesCanvas[i.blendModes.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):(this.context.fillStyle=e.backgroundColorString,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(e),e.interactive&&(e._interactiveEventsAdded||(e._interactiveEventsAdded=!0,e.interactionManager.setTarget(this)))},i.CanvasRenderer.prototype.destroy=function(e){"undefined"==typeof e&&(e=!0),e&&this.view.parent&&this.view.parent.removeChild(this.view),this.view=null,this.context=null,this.maskManager=null,this.renderSession=null},i.CanvasRenderer.prototype.resize=function(e,t){this.width=e*this.resolution,this.height=t*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")},i.CanvasRenderer.prototype.renderDisplayObject=function(e,t){this.renderSession.context=t||this.context,this.renderSession.resolution=this.resolution,e._renderCanvas(this.renderSession)},i.CanvasRenderer.prototype.mapBlendModes=function(){i.blendModesCanvas||(i.blendModesCanvas=[],i.canUseNewCanvasBlendModes()?(i.blendModesCanvas[i.blendModes.NORMAL]="source-over",i.blendModesCanvas[i.blendModes.ADD]="lighter",i.blendModesCanvas[i.blendModes.MULTIPLY]="multiply",i.blendModesCanvas[i.blendModes.SCREEN]="screen",i.blendModesCanvas[i.blendModes.OVERLAY]="overlay",i.blendModesCanvas[i.blendModes.DARKEN]="darken",i.blendModesCanvas[i.blendModes.LIGHTEN]="lighten",i.blendModesCanvas[i.blendModes.COLOR_DODGE]="color-dodge",i.blendModesCanvas[i.blendModes.COLOR_BURN]="color-burn",i.blendModesCanvas[i.blendModes.HARD_LIGHT]="hard-light",i.blendModesCanvas[i.blendModes.SOFT_LIGHT]="soft-light",i.blendModesCanvas[i.blendModes.DIFFERENCE]="difference",i.blendModesCanvas[i.blendModes.EXCLUSION]="exclusion",i.blendModesCanvas[i.blendModes.HUE]="hue",i.blendModesCanvas[i.blendModes.SATURATION]="saturation",i.blendModesCanvas[i.blendModes.COLOR]="color",i.blendModesCanvas[i.blendModes.LUMINOSITY]="luminosity"):(i.blendModesCanvas[i.blendModes.NORMAL]="source-over",i.blendModesCanvas[i.blendModes.ADD]="lighter",i.blendModesCanvas[i.blendModes.MULTIPLY]="source-over",i.blendModesCanvas[i.blendModes.SCREEN]="source-over",i.blendModesCanvas[i.blendModes.OVERLAY]="source-over",i.blendModesCanvas[i.blendModes.DARKEN]="source-over",i.blendModesCanvas[i.blendModes.LIGHTEN]="source-over",i.blendModesCanvas[i.blendModes.COLOR_DODGE]="source-over",i.blendModesCanvas[i.blendModes.COLOR_BURN]="source-over",i.blendModesCanvas[i.blendModes.HARD_LIGHT]="source-over",i.blendModesCanvas[i.blendModes.SOFT_LIGHT]="source-over",i.blendModesCanvas[i.blendModes.DIFFERENCE]="source-over",i.blendModesCanvas[i.blendModes.EXCLUSION]="source-over",i.blendModesCanvas[i.blendModes.HUE]="source-over",i.blendModesCanvas[i.blendModes.SATURATION]="source-over",i.blendModesCanvas[i.blendModes.COLOR]="source-over",i.blendModesCanvas[i.blendModes.LUMINOSITY]="source-over"))},i.CanvasGraphics=function(){},i.CanvasGraphics.renderGraphics=function(e,t){for(var r=e.worldAlpha,a="",n=0;n<e.graphicsData.length;n++){var o=e.graphicsData[n],s=o.shape;if(t.strokeStyle=a="#"+("00000"+(0|o.lineColor).toString(16)).substr(-6),t.lineWidth=o.lineWidth,o.type===i.Graphics.POLY){t.beginPath();var d=s.points;t.moveTo(d[0],d[1]);for(var c=1;c<d.length/2;c++)t.lineTo(d[2*c],d[2*c+1]);s.closed&&t.lineTo(d[0],d[1]),d[0]===d[d.length-2]&&d[1]===d[d.length-1]&&t.closePath(),o.fill&&(t.globalAlpha=o.fillAlpha*r,t.fillStyle=a="#"+("00000"+(0|o.fillColor).toString(16)).substr(-6),t.fill()),o.lineWidth&&(t.globalAlpha=o.lineAlpha*r,t.stroke())}else if(o.type===i.Graphics.RECT)(o.fillColor||0===o.fillColor)&&(t.globalAlpha=o.fillAlpha*r,t.fillStyle=a="#"+("00000"+(0|o.fillColor).toString(16)).substr(-6),t.fillRect(s.x,s.y,s.width,s.height)),o.lineWidth&&(t.globalAlpha=o.lineAlpha*r,t.strokeRect(s.x,s.y,s.width,s.height));else if(o.type===i.Graphics.CIRC)t.beginPath(),t.arc(s.x,s.y,s.radius,0,2*Math.PI),t.closePath(),o.fill&&(t.globalAlpha=o.fillAlpha*r,t.fillStyle=a="#"+("00000"+(0|o.fillColor).toString(16)).substr(-6),t.fill()),o.lineWidth&&(t.globalAlpha=o.lineAlpha*r,t.stroke());else if(o.type===i.Graphics.ELIP){var h=2*s.width,l=2*s.height,f=s.x-h/2,u=s.y-l/2;t.beginPath();var p=.5522848,b=h/2*p,y=l/2*p,v=f+h,g=u+l,m=f+h/2,x=u+l/2;t.moveTo(f,x),t.bezierCurveTo(f,x-y,m-b,u,m,u),t.bezierCurveTo(m+b,u,v,x-y,v,x),t.bezierCurveTo(v,x+y,m+b,g,m,g),t.bezierCurveTo(m-b,g,f,x+y,f,x),t.closePath(),o.fill&&(t.globalAlpha=o.fillAlpha*r,t.fillStyle=a="#"+("00000"+(0|o.fillColor).toString(16)).substr(-6),t.fill()),o.lineWidth&&(t.globalAlpha=o.lineAlpha*r,t.stroke())}else if(o.type===i.Graphics.RREC){var _=s.x,w=s.y,T=s.width,S=s.height,A=s.radius,C=Math.min(T,S)/2|0;A=A>C?C:A,t.beginPath(),t.moveTo(_,w+A),t.lineTo(_,w+S-A),t.quadraticCurveTo(_,w+S,_+A,w+S),t.lineTo(_+T-A,w+S),t.quadraticCurveTo(_+T,w+S,_+T,w+S-A),t.lineTo(_+T,w+A),t.quadraticCurveTo(_+T,w,_+T-A,w),t.lineTo(_+A,w),t.quadraticCurveTo(_,w,_,w+A),t.closePath(),(o.fillColor||0===o.fillColor)&&(t.globalAlpha=o.fillAlpha*r,t.fillStyle=a="#"+("00000"+(0|o.fillColor).toString(16)).substr(-6),t.fill()),o.lineWidth&&(t.globalAlpha=o.lineAlpha*r,t.stroke())}}},i.CanvasGraphics.renderGraphicsMask=function(e,t){var r=e.graphicsData.length;if(0!==r){r>1&&(r=1,window.console.log("Pixi.js warning: masks in canvas can only mask using the first path in the graphics object"));for(var a=0;1>a;a++){var n=e.graphicsData[a],o=n.shape;if(n.type===i.Graphics.POLY){t.beginPath();var s=o.points;t.moveTo(s[0],s[1]);for(var d=1;d<s.length/2;d++)t.lineTo(s[2*d],s[2*d+1]);s[0]===s[s.length-2]&&s[1]===s[s.length-1]&&t.closePath()}else if(n.type===i.Graphics.RECT)t.beginPath(),t.rect(o.x,o.y,o.width,o.height),t.closePath();else if(n.type===i.Graphics.CIRC)t.beginPath(),t.arc(o.x,o.y,o.radius,0,2*Math.PI),t.closePath();else if(n.type===i.Graphics.ELIP){var c=2*o.width,h=2*o.height,l=o.x-c/2,f=o.y-h/2;t.beginPath();var u=.5522848,p=c/2*u,b=h/2*u,y=l+c,v=f+h,g=l+c/2,m=f+h/2;t.moveTo(l,m),t.bezierCurveTo(l,m-b,g-p,f,g,f),t.bezierCurveTo(g+p,f,y,m-b,y,m),t.bezierCurveTo(y,m+b,g+p,v,g,v),t.bezierCurveTo(g-p,v,l,m+b,l,m),t.closePath()}else if(n.type===i.Graphics.RREC){var x=o.points,_=x[0],w=x[1],T=x[2],S=x[3],A=x[4],C=Math.min(T,S)/2|0;A=A>C?C:A,t.beginPath(),t.moveTo(_,w+A),t.lineTo(_,w+S-A),t.quadraticCurveTo(_,w+S,_+A,w+S),t.lineTo(_+T-A,w+S),t.quadraticCurveTo(_+T,w+S,_+T,w+S-A),t.lineTo(_+T,w+A),t.quadraticCurveTo(_+T,w,_+T-A,w),t.lineTo(_+A,w),t.quadraticCurveTo(_,w,_,w+A),t.closePath()}}}},i.Graphics=function(){i.DisplayObjectContainer.call(this),this.renderable=!0,this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.graphicsData=[],this.tint=16777215,this.blendMode=i.blendModes.NORMAL,this.currentPath=null,this._webGL=[],this.isMask=!1,this.boundsPadding=0,this._localBounds=new i.Rectangle(0,0,1,1),this.dirty=!0,this.webGLDirty=!1,this.cachedSpriteDirty=!1},i.Graphics.prototype=Object.create(i.DisplayObjectContainer.prototype),i.Graphics.prototype.constructor=i.Graphics,Object.defineProperty(i.Graphics.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(e){this._cacheAsBitmap=e,this._cacheAsBitmap?this._generateCachedSprite():(this.destroyCachedSprite(),this.dirty=!0)}}),i.Graphics.prototype.lineStyle=function(e,t,r){if(this.lineWidth=e||0,this.lineColor=t||0,this.lineAlpha=arguments.length<3?1:r,this.currentPath){if(this.currentPath.shape.points.length)return this.drawShape(new i.Polygon(this.currentPath.shape.points.slice(-2))),this;this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha}return this},i.Graphics.prototype.moveTo=function(e,t){return this.drawShape(new i.Polygon([e,t])),this},i.Graphics.prototype.lineTo=function(e,t){return this.currentPath.shape.points.push(e,t),this.dirty=!0,this},i.Graphics.prototype.quadraticCurveTo=function(e,t,r,i){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var a,n,o=20,s=this.currentPath.shape.points;0===s.length&&this.moveTo(0,0);for(var d=s[s.length-2],c=s[s.length-1],h=0,l=1;o>=l;l++)h=l/o,a=d+(e-d)*h,n=c+(t-c)*h,s.push(a+(e+(r-e)*h-a)*h,n+(t+(i-t)*h-n)*h);return this.dirty=!0,this},i.Graphics.prototype.bezierCurveTo=function(e,t,r,i,a,n){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var o,s,d,c,h,l=20,f=this.currentPath.shape.points,u=f[f.length-2],p=f[f.length-1],b=0,y=1;l>=y;y++)b=y/l,o=1-b,s=o*o,d=s*o,c=b*b,h=c*b,f.push(d*u+3*s*b*e+3*o*c*r+h*a,d*p+3*s*b*t+3*o*c*i+h*n);return this.dirty=!0,this},i.Graphics.prototype.arcTo=function(e,t,r,i,a){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(e,t):this.moveTo(e,t);var n=this.currentPath.shape.points,o=n[n.length-2],s=n[n.length-1],d=s-t,c=o-e,h=i-t,l=r-e,f=Math.abs(d*l-c*h);if(1e-8>f||0===a)(n[n.length-2]!==e||n[n.length-1]!==t)&&n.push(e,t);else{var u=d*d+c*c,p=h*h+l*l,b=d*h+c*l,y=a*Math.sqrt(u)/f,v=a*Math.sqrt(p)/f,g=y*b/u,m=v*b/p,x=y*l+v*c,_=y*h+v*d,w=c*(v+g),T=d*(v+g),S=l*(y+m),A=h*(y+m),C=Math.atan2(T-_,w-x),E=Math.atan2(A-_,S-x);this.arc(x+e,_+t,a,C,E,c*h>l*d)}return this.dirty=!0,this},i.Graphics.prototype.arc=function(e,t,r,i,a,n){var o=e+Math.cos(i)*r,s=t+Math.sin(i)*r,d=this.currentPath.shape.points;if(0===d.length?(this.moveTo(o,s),d=this.currentPath.shape.points):(d[d.length-2]!==o||d[d.length-1]!==s)&&d.push(o,s),i===a)return this;!n&&i>=a?a+=2*Math.PI:n&&a>=i&&(i+=2*Math.PI);var c=n?-1*(i-a):a-i,h=Math.abs(c)/(2*Math.PI)*40;if(0===c)return this;for(var l=c/(2*h),f=2*l,u=Math.cos(l),p=Math.sin(l),b=h-1,y=b%1/b,v=0;b>=v;v++){var g=v+y*v,m=l+i+f*g,x=Math.cos(m),_=-Math.sin(m);d.push((u*x+p*_)*r+e,(u*-_+p*x)*r+t)}return this.dirty=!0,this},i.Graphics.prototype.beginFill=function(e,t){return this.filling=!0,this.fillColor=e||0,this.fillAlpha=void 0===t?1:t,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},i.Graphics.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},i.Graphics.prototype.drawRect=function(e,t,r,a){return this.drawShape(new i.Rectangle(e,t,r,a)),this},i.Graphics.prototype.drawRoundedRect=function(e,t,r,a,n){return this.drawShape(new i.RoundedRectangle(e,t,r,a,n)),this},i.Graphics.prototype.drawCircle=function(e,t,r){return this.drawShape(new i.Circle(e,t,r)),this},i.Graphics.prototype.drawEllipse=function(e,t,r,a){return this.drawShape(new i.Ellipse(e,t,r,a)),this},i.Graphics.prototype.drawPolygon=function(e){return e instanceof Array||(e=Array.prototype.slice.call(arguments)),this.drawShape(new i.Polygon(e)),this},i.Graphics.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this.dirty=!0,this.clearDirty=!0,this.graphicsData=[],this},i.Graphics.prototype.generateTexture=function(e,t){e=e||1;var r=this.getBounds(),a=new i.CanvasBuffer(r.width*e,r.height*e),n=i.Texture.fromCanvas(a.canvas,t);return n.baseTexture.resolution=e,a.context.scale(e,e),a.context.translate(-r.x,-r.y),i.CanvasGraphics.renderGraphics(this,a.context),n},i.Graphics.prototype._renderWebGL=function(e){if(this.visible!==!1&&0!==this.alpha&&this.isMask!==!0){if(this._cacheAsBitmap)return(this.dirty||this.cachedSpriteDirty)&&(this._generateCachedSprite(),this.updateCachedSpriteTexture(),this.cachedSpriteDirty=!1,this.dirty=!1),this._cachedSprite.worldAlpha=this.worldAlpha,i.Sprite.prototype._renderWebGL.call(this._cachedSprite,e),void 0;if(e.spriteBatch.stop(),e.blendModeManager.setBlendMode(this.blendMode),this._mask&&e.maskManager.pushMask(this._mask,e),this._filters&&e.filterManager.pushFilter(this._filterBlock),this.blendMode!==e.spriteBatch.currentBlendMode){e.spriteBatch.currentBlendMode=this.blendMode;var t=i.blendModesWebGL[e.spriteBatch.currentBlendMode];e.spriteBatch.gl.blendFunc(t[0],t[1])}if(this.webGLDirty&&(this.dirty=!0,this.webGLDirty=!1),i.WebGLGraphics.renderGraphics(this,e),this.children.length){e.spriteBatch.start();for(var r=0,a=this.children.length;a>r;r++)this.children[r]._renderWebGL(e);e.spriteBatch.stop()}this._filters&&e.filterManager.popFilter(),this._mask&&e.maskManager.popMask(this.mask,e),e.drawCount++,e.spriteBatch.start()}},i.Graphics.prototype._renderCanvas=function(e){if(this.visible!==!1&&0!==this.alpha&&this.isMask!==!0){if(this._cacheAsBitmap)return(this.dirty||this.cachedSpriteDirty)&&(this._generateCachedSprite(),this.updateCachedSpriteTexture(),this.cachedSpriteDirty=!1,this.dirty=!1),this._cachedSprite.alpha=this.alpha,i.Sprite.prototype._renderCanvas.call(this._cachedSprite,e),void 0;var t=e.context,r=this.worldTransform;this.blendMode!==e.currentBlendMode&&(e.currentBlendMode=this.blendMode,t.globalCompositeOperation=i.blendModesCanvas[e.currentBlendMode]),this._mask&&e.maskManager.pushMask(this._mask,e);var a=e.resolution;t.setTransform(r.a*a,r.b*a,r.c*a,r.d*a,r.tx*a,r.ty*a),i.CanvasGraphics.renderGraphics(this,t);for(var n=0,o=this.children.length;o>n;n++)this.children[n]._renderCanvas(e);this._mask&&e.maskManager.popMask(e)}},i.Graphics.prototype.getBounds=function(e){if(this.isMask)return i.EmptyRectangle;this.dirty&&(this.updateLocalBounds(),this.webGLDirty=!0,this.cachedSpriteDirty=!0,this.dirty=!1);var t=this._localBounds,r=t.x,a=t.width+t.x,n=t.y,o=t.height+t.y,s=e||this.worldTransform,d=s.a,c=s.b,h=s.c,l=s.d,f=s.tx,u=s.ty,p=d*a+h*o+f,b=l*o+c*a+u,y=d*r+h*o+f,v=l*o+c*r+u,g=d*r+h*n+f,m=l*n+c*r+u,x=d*a+h*n+f,_=l*n+c*a+u,w=p,T=b,S=p,A=b;return S=S>y?y:S,S=S>g?g:S,S=S>x?x:S,A=A>v?v:A,A=A>m?m:A,A=A>_?_:A,w=y>w?y:w,w=g>w?g:w,w=x>w?x:w,T=v>T?v:T,T=m>T?m:T,T=_>T?_:T,this._bounds.x=S,this._bounds.width=w-S,this._bounds.y=A,this._bounds.height=T-A,this._bounds},i.Graphics.prototype.updateLocalBounds=function(){var e=1/0,t=-1/0,r=1/0,a=-1/0;if(this.graphicsData.length)for(var n,o,s,d,c,h,l=0;l<this.graphicsData.length;l++){var f=this.graphicsData[l],u=f.type,p=f.lineWidth;if(n=f.shape,u===i.Graphics.RECT||u===i.Graphics.RREC)s=n.x-p/2,d=n.y-p/2,c=n.width+p,h=n.height+p,e=e>s?s:e,t=s+c>t?s+c:t,r=r>d?d:r,a=d+h>a?d+h:a;else if(u===i.Graphics.CIRC)s=n.x,d=n.y,c=n.radius+p/2,h=n.radius+p/2,e=e>s-c?s-c:e,t=s+c>t?s+c:t,r=r>d-h?d-h:r,a=d+h>a?d+h:a;else if(u===i.Graphics.ELIP)s=n.x,d=n.y,c=n.width+p/2,h=n.height+p/2,e=e>s-c?s-c:e,t=s+c>t?s+c:t,r=r>d-h?d-h:r,a=d+h>a?d+h:a;else{o=n.points;for(var b=0;b<o.length;b+=2)s=o[b],d=o[b+1],e=e>s-p?s-p:e,t=s+p>t?s+p:t,r=r>d-p?d-p:r,a=d+p>a?d+p:a}}else e=0,t=0,r=0,a=0;var y=this.boundsPadding;this._localBounds.x=e-y,this._localBounds.width=t-e+2*y,this._localBounds.y=r-y,this._localBounds.height=a-r+2*y},i.Graphics.prototype._generateCachedSprite=function(){var e=this.getLocalBounds();if(this._cachedSprite)this._cachedSprite.buffer.resize(e.width,e.height);else{var t=new i.CanvasBuffer(e.width,e.height),r=i.Texture.fromCanvas(t.canvas);this._cachedSprite=new i.Sprite(r),this._cachedSprite.buffer=t,this._cachedSprite.worldTransform=this.worldTransform}this._cachedSprite.anchor.x=-(e.x/e.width),this._cachedSprite.anchor.y=-(e.y/e.height),this._cachedSprite.buffer.context.translate(-e.x,-e.y),this.worldAlpha=1,i.CanvasGraphics.renderGraphics(this,this._cachedSprite.buffer.context),this._cachedSprite.alpha=this.alpha},i.Graphics.prototype.updateCachedSpriteTexture=function(){var e=this._cachedSprite,t=e.texture,r=e.buffer.canvas;t.baseTexture.width=r.width,t.baseTexture.height=r.height,t.crop.width=t.frame.width=r.width,t.crop.height=t.frame.height=r.height,e._width=r.width,e._height=r.height,t.baseTexture.dirty()},i.Graphics.prototype.destroyCachedSprite=function(){this._cachedSprite.texture.destroy(!0),this._cachedSprite=null},i.Graphics.prototype.drawShape=function(e){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var t=new i.GraphicsData(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,e);return this.graphicsData.push(t),t.type===i.Graphics.POLY&&(t.shape.closed=this.filling,this.currentPath=t),this.dirty=!0,t},i.GraphicsData=function(e,t,r,i,a,n,o){this.lineWidth=e,this.lineColor=t,this.lineAlpha=r,this.fillColor=i,this.fillAlpha=a,this.fill=n,this.shape=o,this.type=o.type},i.Graphics.POLY=0,i.Graphics.RECT=1,i.Graphics.CIRC=2,i.Graphics.ELIP=3,i.Graphics.RREC=4,i.Polygon.prototype.type=i.Graphics.POLY,i.Rectangle.prototype.type=i.Graphics.RECT,i.Circle.prototype.type=i.Graphics.CIRC,i.Ellipse.prototype.type=i.Graphics.ELIP,i.RoundedRectangle.prototype.type=i.Graphics.RREC,i.Strip=function(e){i.DisplayObjectContainer.call(this),this.texture=e,this.uvs=new i.Float32Array([0,1,1,1,1,0,0,1]),this.verticies=new i.Float32Array([0,0,100,0,100,100,0,100]),this.colors=new i.Float32Array([1,1,1,1]),this.indices=new i.Uint16Array([0,1,2,3]),this.dirty=!0,this.blendMode=i.blendModes.NORMAL,this.padding=0},i.Strip.prototype=Object.create(i.DisplayObjectContainer.prototype),i.Strip.prototype.constructor=i.Strip,i.Strip.prototype._renderWebGL=function(e){!this.visible||this.alpha<=0||(e.spriteBatch.stop(),this._vertexBuffer||this._initWebGL(e),e.shaderManager.setShader(e.shaderManager.stripShader),this._renderStrip(e),e.spriteBatch.start())},i.Strip.prototype._initWebGL=function(e){var t=e.gl;this._vertexBuffer=t.createBuffer(),this._indexBuffer=t.createBuffer(),this._uvBuffer=t.createBuffer(),this._colorBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.verticies,t.DYNAMIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this._uvBuffer),t.bufferData(t.ARRAY_BUFFER,this.uvs,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this._colorBuffer),t.bufferData(t.ARRAY_BUFFER,this.colors,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW)},i.Strip.prototype._renderStrip=function(e){var t=e.gl,r=e.projection,i=e.offset,a=e.shaderManager.stripShader;e.blendModeManager.setBlendMode(this.blendMode),t.uniformMatrix3fv(a.translationMatrix,!1,this.worldTransform.toArray(!0)),t.uniform2f(a.projectionVector,r.x,-r.y),t.uniform2f(a.offsetVector,-i.x,-i.y),t.uniform1f(a.alpha,this.worldAlpha),this.dirty?(this.dirty=!1,t.bindBuffer(t.ARRAY_BUFFER,this._vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.verticies,t.STATIC_DRAW),t.vertexAttribPointer(a.aVertexPosition,2,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,this._uvBuffer),t.bufferData(t.ARRAY_BUFFER,this.uvs,t.STATIC_DRAW),t.vertexAttribPointer(a.aTextureCoord,2,t.FLOAT,!1,0,0),t.activeTexture(t.TEXTURE0),this.texture.baseTexture._dirty[t.id]?e.renderer.updateTexture(this.texture.baseTexture):t.bindTexture(t.TEXTURE_2D,this.texture.baseTexture._glTextures[t.id]),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW)):(t.bindBuffer(t.ARRAY_BUFFER,this._vertexBuffer),t.bufferSubData(t.ARRAY_BUFFER,0,this.verticies),t.vertexAttribPointer(a.aVertexPosition,2,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,this._uvBuffer),t.vertexAttribPointer(a.aTextureCoord,2,t.FLOAT,!1,0,0),t.activeTexture(t.TEXTURE0),this.texture.baseTexture._dirty[t.id]?e.renderer.updateTexture(this.texture.baseTexture):t.bindTexture(t.TEXTURE_2D,this.texture.baseTexture._glTextures[t.id]),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._indexBuffer)),t.drawElements(t.TRIANGLE_STRIP,this.indices.length,t.UNSIGNED_SHORT,0)},i.Strip.prototype._renderCanvas=function(e){var t=e.context,r=this.worldTransform;e.roundPixels?t.setTransform(r.a,r.b,r.c,r.d,0|r.tx,0|r.ty):t.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty);var i=this,a=i.verticies,n=i.uvs,o=a.length/2;this.count++;for(var s=0;o-2>s;s++){var d=2*s,c=a[d],h=a[d+2],l=a[d+4],f=a[d+1],u=a[d+3],p=a[d+5];if(this.padding>0){var b=(c+h+l)/3,y=(f+u+p)/3,v=c-b,g=f-y,m=Math.sqrt(v*v+g*g);c=b+v/m*(m+3),f=y+g/m*(m+3),v=h-b,g=u-y,m=Math.sqrt(v*v+g*g),h=b+v/m*(m+3),u=y+g/m*(m+3),v=l-b,g=p-y,m=Math.sqrt(v*v+g*g),l=b+v/m*(m+3),p=y+g/m*(m+3)}var x=n[d]*i.texture.width,_=n[d+2]*i.texture.width,w=n[d+4]*i.texture.width,T=n[d+1]*i.texture.height,S=n[d+3]*i.texture.height,A=n[d+5]*i.texture.height;t.save(),t.beginPath(),t.moveTo(c,f),t.lineTo(h,u),t.lineTo(l,p),t.closePath(),t.clip();var C=x*S+T*w+_*A-S*w-T*_-x*A,E=c*S+T*l+h*A-S*l-T*h-c*A,M=x*h+c*w+_*l-h*w-c*_-x*l,R=x*S*l+T*h*w+c*_*A-c*S*w-T*_*l-x*h*A,$=f*S+T*p+u*A-S*p-T*u-f*A,B=x*u+f*w+_*p-u*w-f*_-x*p,L=x*S*p+T*u*w+f*_*A-f*S*w-T*_*p-x*u*A;t.transform(E/C,$/C,M/C,B/C,R/C,L/C),t.drawImage(i.texture.baseTexture.source,0,0),t.restore()}},i.Strip.prototype.renderStripFlat=function(e){var t=this.context,r=e.verticies,i=r.length/2;this.count++,t.beginPath();for(var a=1;i-2>a;a++){var n=2*a,o=r[n],s=r[n+2],d=r[n+4],c=r[n+1],h=r[n+3],l=r[n+5];t.moveTo(o,c),t.lineTo(s,h),t.lineTo(d,l)}t.fillStyle="#FF0000",t.fill(),t.closePath()},i.Strip.prototype.onTextureUpdate=function(){this.updateFrame=!0},i.Rope=function(e,t){i.Strip.call(this,e),this.points=t,this.verticies=new i.Float32Array(4*t.length),this.uvs=new i.Float32Array(4*t.length),this.colors=new i.Float32Array(2*t.length),this.indices=new i.Uint16Array(2*t.length),this.refresh()},i.Rope.prototype=Object.create(i.Strip.prototype),i.Rope.prototype.constructor=i.Rope,i.Rope.prototype.refresh=function(){var e=this.points;if(!(e.length<1)){var t=this.uvs,r=e[0],i=this.indices,a=this.colors;this.count-=.2,t[0]=0,t[1]=0,t[2]=0,t[3]=1,a[0]=1,a[1]=1,i[0]=0,i[1]=1;for(var n,o,s,d=e.length,c=1;d>c;c++)n=e[c],o=4*c,s=c/(d-1),c%2?(t[o]=s,t[o+1]=0,t[o+2]=s,t[o+3]=1):(t[o]=s,t[o+1]=0,t[o+2]=s,t[o+3]=1),o=2*c,a[o]=1,a[o+1]=1,o=2*c,i[o]=o,i[o+1]=o+1,r=n}},i.Rope.prototype.updateTransform=function(){var e=this.points;if(!(e.length<1)){var t,r=e[0],a={x:0,y:0};this.count-=.2;for(var n,o,s,d,c,h=this.verticies,l=e.length,f=0;l>f;f++)n=e[f],o=4*f,t=f<e.length-1?e[f+1]:n,a.y=-(t.x-r.x),a.x=t.y-r.y,s=10*(1-f/(l-1)),s>1&&(s=1),d=Math.sqrt(a.x*a.x+a.y*a.y),c=this.texture.height/2,a.x/=d,a.y/=d,a.x*=c,a.y*=c,h[o]=n.x+a.x,h[o+1]=n.y+a.y,h[o+2]=n.x-a.x,h[o+3]=n.y-a.y,r=n;i.DisplayObjectContainer.prototype.updateTransform.call(this)}},i.Rope.prototype.setTexture=function(e){this.texture=e},i.TilingSprite=function(e,t,r){i.Sprite.call(this,e),this._width=t||100,this._height=r||100,this.tileScale=new i.Point(1,1),this.tileScaleOffset=new i.Point(1,1),this.tilePosition=new i.Point(0,0),this.renderable=!0,this.tint=16777215,this.blendMode=i.blendModes.NORMAL},i.TilingSprite.prototype=Object.create(i.Sprite.prototype),i.TilingSprite.prototype.constructor=i.TilingSprite,Object.defineProperty(i.TilingSprite.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e}}),Object.defineProperty(i.TilingSprite.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e}}),i.TilingSprite.prototype.setTexture=function(e){this.texture!==e&&(this.texture=e,this.refreshTexture=!0,this.cachedTint=16777215)},i.TilingSprite.prototype._renderWebGL=function(e){if(this.visible!==!1&&0!==this.alpha){var t,r;for(this._mask&&(e.spriteBatch.stop(),e.maskManager.pushMask(this.mask,e),e.spriteBatch.start()),this._filters&&(e.spriteBatch.flush(),e.filterManager.pushFilter(this._filterBlock)),!this.tilingTexture||this.refreshTexture?(this.generateTilingTexture(!0),this.tilingTexture&&this.tilingTexture.needsUpdate&&(i.updateWebGLTexture(this.tilingTexture.baseTexture,e.gl),this.tilingTexture.needsUpdate=!1)):e.spriteBatch.renderTilingSprite(this),t=0,r=this.children.length;r>t;t++)this.children[t]._renderWebGL(e);e.spriteBatch.stop(),this._filters&&e.filterManager.popFilter(),this._mask&&e.maskManager.popMask(this._mask,e),e.spriteBatch.start()}},i.TilingSprite.prototype._renderCanvas=function(e){if(this.visible!==!1&&0!==this.alpha){var t=e.context;this._mask&&e.maskManager.pushMask(this._mask,t),t.globalAlpha=this.worldAlpha;var r,a,n=this.worldTransform,o=e.resolution;if(t.setTransform(n.a*o,n.c*o,n.b*o,n.d*o,n.tx*o,n.ty*o),!this.__tilePattern||this.refreshTexture){if(this.generateTilingTexture(!1),!this.tilingTexture)return;this.__tilePattern=t.createPattern(this.tilingTexture.baseTexture.source,"repeat")}this.blendMode!==e.currentBlendMode&&(e.currentBlendMode=this.blendMode,t.globalCompositeOperation=i.blendModesCanvas[e.currentBlendMode]);var s=this.tilePosition,d=this.tileScale;for(s.x%=this.tilingTexture.baseTexture.width,s.y%=this.tilingTexture.baseTexture.height,t.scale(d.x,d.y),t.translate(s.x+this.anchor.x*-this._width,s.y+this.anchor.y*-this._height),t.fillStyle=this.__tilePattern,t.fillRect(-s.x,-s.y,this._width/d.x,this._height/d.y),t.scale(1/d.x,1/d.y),t.translate(-s.x+this.anchor.x*this._width,-s.y+this.anchor.y*this._height),this._mask&&e.maskManager.popMask(e.context),r=0,a=this.children.length;a>r;r++)this.children[r]._renderCanvas(e)}},i.TilingSprite.prototype.getBounds=function(){var e=this._width,t=this._height,r=e*(1-this.anchor.x),i=e*-this.anchor.x,a=t*(1-this.anchor.y),n=t*-this.anchor.y,o=this.worldTransform,s=o.a,d=o.b,c=o.c,h=o.d,l=o.tx,f=o.ty,u=s*i+c*n+l,p=h*n+d*i+f,b=s*r+c*n+l,y=h*n+d*r+f,v=s*r+c*a+l,g=h*a+d*r+f,m=s*i+c*a+l,x=h*a+d*i+f,_=-1/0,w=-1/0,T=1/0,S=1/0;T=T>u?u:T,T=T>b?b:T,T=T>v?v:T,T=T>m?m:T,S=S>p?p:S,S=S>y?y:S,S=S>g?g:S,S=S>x?x:S,_=u>_?u:_,_=b>_?b:_,_=v>_?v:_,_=m>_?m:_,w=p>w?p:w,w=y>w?y:w,w=g>w?g:w,w=x>w?x:w;var A=this._bounds;return A.x=T,A.width=_-T,A.y=S,A.height=w-S,this._currentBounds=A,A},i.TilingSprite.prototype.onTextureUpdate=function(){},i.TilingSprite.prototype.generateTilingTexture=function(e){if(this.texture.baseTexture.hasLoaded){var t,r,a=this.originalTexture||this.texture,n=a.frame,o=n.width!==a.baseTexture.width||n.height!==a.baseTexture.height,s=!1;if(e?(t=i.getNextPowerOfTwo(n.width),r=i.getNextPowerOfTwo(n.height),(n.width!==t||n.height!==r)&&(s=!0)):o&&(t=n.width,r=n.height,s=!0),s){var d;this.tilingTexture&&this.tilingTexture.isTiling?(d=this.tilingTexture.canvasBuffer,d.resize(t,r),this.tilingTexture.baseTexture.width=t,this.tilingTexture.baseTexture.height=r,this.tilingTexture.needsUpdate=!0):(d=new i.CanvasBuffer(t,r),this.tilingTexture=i.Texture.fromCanvas(d.canvas),this.tilingTexture.canvasBuffer=d,this.tilingTexture.isTiling=!0),d.context.drawImage(a.baseTexture.source,a.crop.x,a.crop.y,a.crop.width,a.crop.height,0,0,t,r),this.tileScaleOffset.x=n.width/t,this.tileScaleOffset.y=n.height/r}else this.tilingTexture&&this.tilingTexture.isTiling&&this.tilingTexture.destroy(!0),this.tileScaleOffset.x=1,this.tileScaleOffset.y=1,this.tilingTexture=a;this.refreshTexture=!1,this.originalTexture=this.texture,this.texture=this.tilingTexture,this.tilingTexture.baseTexture._powerOf2=!0
}};var a={};a.BoneData=function(e,t){this.name=e,this.parent=t},a.BoneData.prototype={length:0,x:0,y:0,rotation:0,scaleX:1,scaleY:1},a.SlotData=function(e,t){this.name=e,this.boneData=t},a.SlotData.prototype={r:1,g:1,b:1,a:1,attachmentName:null},a.Bone=function(e,t){this.data=e,this.parent=t,this.setToSetupPose()},a.Bone.yDown=!1,a.Bone.prototype={x:0,y:0,rotation:0,scaleX:1,scaleY:1,m00:0,m01:0,worldX:0,m10:0,m11:0,worldY:0,worldRotation:0,worldScaleX:1,worldScaleY:1,updateWorldTransform:function(e,t){var r=this.parent;null!=r?(this.worldX=this.x*r.m00+this.y*r.m01+r.worldX,this.worldY=this.x*r.m10+this.y*r.m11+r.worldY,this.worldScaleX=r.worldScaleX*this.scaleX,this.worldScaleY=r.worldScaleY*this.scaleY,this.worldRotation=r.worldRotation+this.rotation):(this.worldX=this.x,this.worldY=this.y,this.worldScaleX=this.scaleX,this.worldScaleY=this.scaleY,this.worldRotation=this.rotation);var i=this.worldRotation*Math.PI/180,n=Math.cos(i),o=Math.sin(i);this.m00=n*this.worldScaleX,this.m10=o*this.worldScaleX,this.m01=-o*this.worldScaleY,this.m11=n*this.worldScaleY,e&&(this.m00=-this.m00,this.m01=-this.m01),t&&(this.m10=-this.m10,this.m11=-this.m11),a.Bone.yDown&&(this.m10=-this.m10,this.m11=-this.m11)},setToSetupPose:function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY}},a.Slot=function(e,t,r){this.data=e,this.skeleton=t,this.bone=r,this.setToSetupPose()},a.Slot.prototype={r:1,g:1,b:1,a:1,_attachmentTime:0,attachment:null,setAttachment:function(e){this.attachment=e,this._attachmentTime=this.skeleton.time},setAttachmentTime:function(e){this._attachmentTime=this.skeleton.time-e},getAttachmentTime:function(){return this.skeleton.time-this._attachmentTime},setToSetupPose:function(){var e=this.data;this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a;for(var t=this.skeleton.data.slots,r=0,i=t.length;i>r;r++)if(t[r]==e){this.setAttachment(e.attachmentName?this.skeleton.getAttachmentBySlotIndex(r,e.attachmentName):null);break}}},a.Skin=function(e){this.name=e,this.attachments={}},a.Skin.prototype={addAttachment:function(e,t,r){this.attachments[e+":"+t]=r},getAttachment:function(e,t){return this.attachments[e+":"+t]},_attachAll:function(e,t){for(var r in t.attachments){var i=r.indexOf(":"),a=parseInt(r.substring(0,i),10),n=r.substring(i+1),o=e.slots[a];if(o.attachment&&o.attachment.name==n){var s=this.getAttachment(a,n);s&&o.setAttachment(s)}}}},a.Animation=function(e,t,r){this.name=e,this.timelines=t,this.duration=r},a.Animation.prototype={apply:function(e,t,r){r&&this.duration&&(t%=this.duration);for(var i=this.timelines,a=0,n=i.length;n>a;a++)i[a].apply(e,t,1)},mix:function(e,t,r,i){r&&this.duration&&(t%=this.duration);for(var a=this.timelines,n=0,o=a.length;o>n;n++)a[n].apply(e,t,i)}},a.binarySearch=function(e,t,r){var i=0,a=Math.floor(e.length/r)-2;if(!a)return r;for(var n=a>>>1;;){if(e[(n+1)*r]<=t?i=n+1:a=n,i==a)return(i+1)*r;n=i+a>>>1}},a.linearSearch=function(e,t,r){for(var i=0,a=e.length-r;a>=i;i+=r)if(e[i]>t)return i;return-1},a.Curves=function(e){this.curves=[],this.curves.length=6*(e-1)},a.Curves.prototype={setLinear:function(e){this.curves[6*e]=0},setStepped:function(e){this.curves[6*e]=-1},setCurve:function(e,t,r,i,a){var n=.1,o=n*n,s=o*n,d=3*n,c=3*o,h=6*o,l=6*s,f=2*-t+i,u=2*-r+a,p=3*(t-i)+1,b=3*(r-a)+1,y=6*e,v=this.curves;v[y]=t*d+f*c+p*s,v[y+1]=r*d+u*c+b*s,v[y+2]=f*h+p*l,v[y+3]=u*h+b*l,v[y+4]=p*l,v[y+5]=b*l},getCurvePercent:function(e,t){t=0>t?0:t>1?1:t;var r=6*e,i=this.curves,a=i[r];if(!a)return t;if(-1==a)return 0;for(var n=i[r+1],o=i[r+2],s=i[r+3],d=i[r+4],c=i[r+5],h=a,l=n,f=8;;){if(h>=t){var u=h-a,p=l-n;return p+(l-p)*(t-u)/(h-u)}if(!f)break;f--,a+=o,n+=s,o+=d,s+=c,h+=a,l+=n}return l+(1-l)*(t-h)/(1-h)}},a.RotateTimeline=function(e){this.curves=new a.Curves(e),this.frames=[],this.frames.length=2*e},a.RotateTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/2},setFrame:function(e,t,r){e*=2,this.frames[e]=t,this.frames[e+1]=r},apply:function(e,t,r){var i,n=this.frames;if(!(t<n[0])){var o=e.bones[this.boneIndex];if(t>=n[n.length-2]){for(i=o.data.rotation+n[n.length-1]-o.rotation;i>180;)i-=360;for(;-180>i;)i+=360;return o.rotation+=i*r,void 0}var s=a.binarySearch(n,t,2),d=n[s-1],c=n[s],h=1-(t-c)/(n[s-2]-c);for(h=this.curves.getCurvePercent(s/2-1,h),i=n[s+1]-d;i>180;)i-=360;for(;-180>i;)i+=360;for(i=o.data.rotation+(d+i*h)-o.rotation;i>180;)i-=360;for(;-180>i;)i+=360;o.rotation+=i*r}}},a.TranslateTimeline=function(e){this.curves=new a.Curves(e),this.frames=[],this.frames.length=3*e},a.TranslateTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(e,t,r,i){e*=3,this.frames[e]=t,this.frames[e+1]=r,this.frames[e+2]=i},apply:function(e,t,r){var i=this.frames;if(!(t<i[0])){var n=e.bones[this.boneIndex];if(t>=i[i.length-3])return n.x+=(n.data.x+i[i.length-2]-n.x)*r,n.y+=(n.data.y+i[i.length-1]-n.y)*r,void 0;var o=a.binarySearch(i,t,3),s=i[o-2],d=i[o-1],c=i[o],h=1-(t-c)/(i[o+-3]-c);h=this.curves.getCurvePercent(o/3-1,h),n.x+=(n.data.x+s+(i[o+1]-s)*h-n.x)*r,n.y+=(n.data.y+d+(i[o+2]-d)*h-n.y)*r}}},a.ScaleTimeline=function(e){this.curves=new a.Curves(e),this.frames=[],this.frames.length=3*e},a.ScaleTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(e,t,r,i){e*=3,this.frames[e]=t,this.frames[e+1]=r,this.frames[e+2]=i},apply:function(e,t,r){var i=this.frames;if(!(t<i[0])){var n=e.bones[this.boneIndex];if(t>=i[i.length-3])return n.scaleX+=(n.data.scaleX-1+i[i.length-2]-n.scaleX)*r,n.scaleY+=(n.data.scaleY-1+i[i.length-1]-n.scaleY)*r,void 0;var o=a.binarySearch(i,t,3),s=i[o-2],d=i[o-1],c=i[o],h=1-(t-c)/(i[o+-3]-c);h=this.curves.getCurvePercent(o/3-1,h),n.scaleX+=(n.data.scaleX-1+s+(i[o+1]-s)*h-n.scaleX)*r,n.scaleY+=(n.data.scaleY-1+d+(i[o+2]-d)*h-n.scaleY)*r}}},a.ColorTimeline=function(e){this.curves=new a.Curves(e),this.frames=[],this.frames.length=5*e},a.ColorTimeline.prototype={slotIndex:0,getFrameCount:function(){return this.frames.length/5},setFrame:function(e,t,r,i,a,n){e*=5,this.frames[e]=t,this.frames[e+1]=r,this.frames[e+2]=i,this.frames[e+3]=a,this.frames[e+4]=n},apply:function(e,t,r){var i=this.frames;if(!(t<i[0])){var n=e.slots[this.slotIndex];if(t>=i[i.length-5]){var o=i.length-1;return n.r=i[o-3],n.g=i[o-2],n.b=i[o-1],n.a=i[o],void 0}var s=a.binarySearch(i,t,5),d=i[s-4],c=i[s-3],h=i[s-2],l=i[s-1],f=i[s],u=1-(t-f)/(i[s-5]-f);u=this.curves.getCurvePercent(s/5-1,u);var p=d+(i[s+1]-d)*u,b=c+(i[s+2]-c)*u,y=h+(i[s+3]-h)*u,v=l+(i[s+4]-l)*u;1>r?(n.r+=(p-n.r)*r,n.g+=(b-n.g)*r,n.b+=(y-n.b)*r,n.a+=(v-n.a)*r):(n.r=p,n.g=b,n.b=y,n.a=v)}}},a.AttachmentTimeline=function(e){this.curves=new a.Curves(e),this.frames=[],this.frames.length=e,this.attachmentNames=[],this.attachmentNames.length=e},a.AttachmentTimeline.prototype={slotIndex:0,getFrameCount:function(){return this.frames.length},setFrame:function(e,t,r){this.frames[e]=t,this.attachmentNames[e]=r},apply:function(e,t){var r=this.frames;if(!(t<r[0])){var i;i=t>=r[r.length-1]?r.length-1:a.binarySearch(r,t,1)-1;var n=this.attachmentNames[i];e.slots[this.slotIndex].setAttachment(n?e.getAttachmentBySlotIndex(this.slotIndex,n):null)}}},a.SkeletonData=function(){this.bones=[],this.slots=[],this.skins=[],this.animations=[]},a.SkeletonData.prototype={defaultSkin:null,findBone:function(e){for(var t=this.bones,r=0,i=t.length;i>r;r++)if(t[r].name==e)return t[r];return null},findBoneIndex:function(e){for(var t=this.bones,r=0,i=t.length;i>r;r++)if(t[r].name==e)return r;return-1},findSlot:function(e){for(var t=this.slots,r=0,i=t.length;i>r;r++)if(t[r].name==e)return slot[r];return null},findSlotIndex:function(e){for(var t=this.slots,r=0,i=t.length;i>r;r++)if(t[r].name==e)return r;return-1},findSkin:function(e){for(var t=this.skins,r=0,i=t.length;i>r;r++)if(t[r].name==e)return t[r];return null},findAnimation:function(e){for(var t=this.animations,r=0,i=t.length;i>r;r++)if(t[r].name==e)return t[r];return null}},a.Skeleton=function(e){this.data=e,this.bones=[];for(var t=0,r=e.bones.length;r>t;t++){var i=e.bones[t],n=i.parent?this.bones[e.bones.indexOf(i.parent)]:null;this.bones.push(new a.Bone(i,n))}for(this.slots=[],this.drawOrder=[],t=0,r=e.slots.length;r>t;t++){var o=e.slots[t],s=this.bones[e.bones.indexOf(o.boneData)],d=new a.Slot(o,this,s);this.slots.push(d),this.drawOrder.push(d)}},a.Skeleton.prototype={x:0,y:0,skin:null,r:1,g:1,b:1,a:1,time:0,flipX:!1,flipY:!1,updateWorldTransform:function(){for(var e=this.flipX,t=this.flipY,r=this.bones,i=0,a=r.length;a>i;i++)r[i].updateWorldTransform(e,t)},setToSetupPose:function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},setBonesToSetupPose:function(){for(var e=this.bones,t=0,r=e.length;r>t;t++)e[t].setToSetupPose()},setSlotsToSetupPose:function(){for(var e=this.slots,t=0,r=e.length;r>t;t++)e[t].setToSetupPose(t)},getRootBone:function(){return this.bones.length?this.bones[0]:null},findBone:function(e){for(var t=this.bones,r=0,i=t.length;i>r;r++)if(t[r].data.name==e)return t[r];return null},findBoneIndex:function(e){for(var t=this.bones,r=0,i=t.length;i>r;r++)if(t[r].data.name==e)return r;return-1},findSlot:function(e){for(var t=this.slots,r=0,i=t.length;i>r;r++)if(t[r].data.name==e)return t[r];return null},findSlotIndex:function(e){for(var t=this.slots,r=0,i=t.length;i>r;r++)if(t[r].data.name==e)return r;return-1},setSkinByName:function(e){var t=this.data.findSkin(e);if(!t)throw"Skin not found: "+e;this.setSkin(t)},setSkin:function(e){this.skin&&e&&e._attachAll(this,this.skin),this.skin=e},getAttachmentBySlotName:function(e,t){return this.getAttachmentBySlotIndex(this.data.findSlotIndex(e),t)},getAttachmentBySlotIndex:function(e,t){if(this.skin){var r=this.skin.getAttachment(e,t);if(r)return r}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,t):null},setAttachment:function(e,t){for(var r=this.slots,i=0,a=r.size;a>i;i++){var n=r[i];if(n.data.name==e){var o=null;if(t&&(o=this.getAttachment(i,t),null==o))throw"Attachment not found: "+t+", for slot: "+e;return n.setAttachment(o),void 0}}throw"Slot not found: "+e},update:function(e){time+=e}},a.AttachmentType={region:0},a.RegionAttachment=function(){this.offset=[],this.offset.length=8,this.uvs=[],this.uvs.length=8},a.RegionAttachment.prototype={x:0,y:0,rotation:0,scaleX:1,scaleY:1,width:0,height:0,rendererObject:null,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,setUVs:function(e,t,r,i,a){var n=this.uvs;a?(n[2]=e,n[3]=i,n[4]=e,n[5]=t,n[6]=r,n[7]=t,n[0]=r,n[1]=i):(n[0]=e,n[1]=i,n[2]=e,n[3]=t,n[4]=r,n[5]=t,n[6]=r,n[7]=i)},updateOffset:function(){var e=this.width/this.regionOriginalWidth*this.scaleX,t=this.height/this.regionOriginalHeight*this.scaleY,r=-this.width/2*this.scaleX+this.regionOffsetX*e,i=-this.height/2*this.scaleY+this.regionOffsetY*t,a=r+this.regionWidth*e,n=i+this.regionHeight*t,o=this.rotation*Math.PI/180,s=Math.cos(o),d=Math.sin(o),c=r*s+this.x,h=r*d,l=i*s+this.y,f=i*d,u=a*s+this.x,p=a*d,b=n*s+this.y,y=n*d,v=this.offset;v[0]=c-f,v[1]=l+h,v[2]=c-y,v[3]=b+h,v[4]=u-y,v[5]=b+p,v[6]=u-f,v[7]=l+p},computeVertices:function(e,t,r,i){e+=r.worldX,t+=r.worldY;var a=r.m00,n=r.m01,o=r.m10,s=r.m11,d=this.offset;i[0]=d[0]*a+d[1]*n+e,i[1]=d[0]*o+d[1]*s+t,i[2]=d[2]*a+d[3]*n+e,i[3]=d[2]*o+d[3]*s+t,i[4]=d[4]*a+d[5]*n+e,i[5]=d[4]*o+d[5]*s+t,i[6]=d[6]*a+d[7]*n+e,i[7]=d[6]*o+d[7]*s+t}},a.AnimationStateData=function(e){this.skeletonData=e,this.animationToMixTime={}},a.AnimationStateData.prototype={defaultMix:0,setMixByName:function(e,t,r){var i=this.skeletonData.findAnimation(e);if(!i)throw"Animation not found: "+e;var a=this.skeletonData.findAnimation(t);if(!a)throw"Animation not found: "+t;this.setMix(i,a,r)},setMix:function(e,t,r){this.animationToMixTime[e.name+":"+t.name]=r},getMix:function(e,t){var r=this.animationToMixTime[e.name+":"+t.name];return r?r:this.defaultMix}},a.AnimationState=function(e){this.data=e,this.queue=[]},a.AnimationState.prototype={animationSpeed:1,current:null,previous:null,currentTime:0,previousTime:0,currentLoop:!1,previousLoop:!1,mixTime:0,mixDuration:0,update:function(e){if(this.currentTime+=e*this.animationSpeed,this.previousTime+=e,this.mixTime+=e,this.queue.length>0){var t=this.queue[0];this.currentTime>=t.delay&&(this._setAnimation(t.animation,t.loop),this.queue.shift())}},apply:function(e){if(this.current)if(this.previous){this.previous.apply(e,this.previousTime,this.previousLoop);var t=this.mixTime/this.mixDuration;t>=1&&(t=1,this.previous=null),this.current.mix(e,this.currentTime,this.currentLoop,t)}else this.current.apply(e,this.currentTime,this.currentLoop)},clearAnimation:function(){this.previous=null,this.current=null,this.queue.length=0},_setAnimation:function(e,t){this.previous=null,e&&this.current&&(this.mixDuration=this.data.getMix(this.current,e),this.mixDuration>0&&(this.mixTime=0,this.previous=this.current,this.previousTime=this.currentTime,this.previousLoop=this.currentLoop)),this.current=e,this.currentLoop=t,this.currentTime=0},setAnimationByName:function(e,t){var r=this.data.skeletonData.findAnimation(e);if(!r)throw"Animation not found: "+e;this.setAnimation(r,t)},setAnimation:function(e,t){this.queue.length=0,this._setAnimation(e,t)},addAnimationByName:function(e,t,r){var i=this.data.skeletonData.findAnimation(e);if(!i)throw"Animation not found: "+e;this.addAnimation(i,t,r)},addAnimation:function(e,t,r){var i={};if(i.animation=e,i.loop=t,!r||0>=r){var a=this.queue.length?this.queue[this.queue.length-1].animation:this.current;r=null!=a?a.duration-this.data.getMix(a,e)+(r||0):0}i.delay=r,this.queue.push(i)},isComplete:function(){return!this.current||this.currentTime>=this.current.duration}},a.SkeletonJson=function(e){this.attachmentLoader=e},a.SkeletonJson.prototype={scale:1,readSkeletonData:function(e){for(var t,r=new a.SkeletonData,i=e.bones,n=0,o=i.length;o>n;n++){var s=i[n],d=null;if(s.parent&&(d=r.findBone(s.parent),!d))throw"Parent bone not found: "+s.parent;t=new a.BoneData(s.name,d),t.length=(s.length||0)*this.scale,t.x=(s.x||0)*this.scale,t.y=(s.y||0)*this.scale,t.rotation=s.rotation||0,t.scaleX=s.scaleX||1,t.scaleY=s.scaleY||1,r.bones.push(t)}var c=e.slots;for(n=0,o=c.length;o>n;n++){var h=c[n];if(t=r.findBone(h.bone),!t)throw"Slot bone not found: "+h.bone;var l=new a.SlotData(h.name,t),f=h.color;f&&(l.r=a.SkeletonJson.toColor(f,0),l.g=a.SkeletonJson.toColor(f,1),l.b=a.SkeletonJson.toColor(f,2),l.a=a.SkeletonJson.toColor(f,3)),l.attachmentName=h.attachment,r.slots.push(l)}var u=e.skins;for(var p in u)if(u.hasOwnProperty(p)){var b=u[p],y=new a.Skin(p);for(var v in b)if(b.hasOwnProperty(v)){var g=r.findSlotIndex(v),m=b[v];for(var x in m)if(m.hasOwnProperty(x)){var _=this.readAttachment(y,x,m[x]);null!=_&&y.addAttachment(g,x,_)}}r.skins.push(y),"default"==y.name&&(r.defaultSkin=y)}var w=e.animations;for(var T in w)w.hasOwnProperty(T)&&this.readAnimation(T,w[T],r);return r},readAttachment:function(e,t,r){t=r.name||t;var i=a.AttachmentType[r.type||"region"];if(i==a.AttachmentType.region){var n=new a.RegionAttachment;return n.x=(r.x||0)*this.scale,n.y=(r.y||0)*this.scale,n.scaleX=r.scaleX||1,n.scaleY=r.scaleY||1,n.rotation=r.rotation||0,n.width=(r.width||32)*this.scale,n.height=(r.height||32)*this.scale,n.updateOffset(),n.rendererObject={},n.rendererObject.name=t,n.rendererObject.scale={},n.rendererObject.scale.x=n.scaleX,n.rendererObject.scale.y=n.scaleY,n.rendererObject.rotation=-n.rotation*Math.PI/180,n}throw"Unknown attachment type: "+i},readAnimation:function(e,t,r){var i,n,o,s,d,c,h,l=[],f=0,u=t.bones;for(var p in u)if(u.hasOwnProperty(p)){var b=r.findBoneIndex(p);if(-1==b)throw"Bone not found: "+p;var y=u[p];for(o in y)if(y.hasOwnProperty(o))if(d=y[o],"rotate"==o){for(n=new a.RotateTimeline(d.length),n.boneIndex=b,i=0,c=0,h=d.length;h>c;c++)s=d[c],n.setFrame(i,s.time,s.angle),a.SkeletonJson.readCurve(n,i,s),i++;l.push(n),f=Math.max(f,n.frames[2*n.getFrameCount()-2])}else{if("translate"!=o&&"scale"!=o)throw"Invalid timeline type for a bone: "+o+" ("+p+")";var v=1;for("scale"==o?n=new a.ScaleTimeline(d.length):(n=new a.TranslateTimeline(d.length),v=this.scale),n.boneIndex=b,i=0,c=0,h=d.length;h>c;c++){s=d[c];var g=(s.x||0)*v,m=(s.y||0)*v;n.setFrame(i,s.time,g,m),a.SkeletonJson.readCurve(n,i,s),i++}l.push(n),f=Math.max(f,n.frames[3*n.getFrameCount()-3])}}var x=t.slots;for(var _ in x)if(x.hasOwnProperty(_)){var w=x[_],T=r.findSlotIndex(_);for(o in w)if(w.hasOwnProperty(o))if(d=w[o],"color"==o){for(n=new a.ColorTimeline(d.length),n.slotIndex=T,i=0,c=0,h=d.length;h>c;c++){s=d[c];var S=s.color,A=a.SkeletonJson.toColor(S,0),C=a.SkeletonJson.toColor(S,1),E=a.SkeletonJson.toColor(S,2),M=a.SkeletonJson.toColor(S,3);n.setFrame(i,s.time,A,C,E,M),a.SkeletonJson.readCurve(n,i,s),i++}l.push(n),f=Math.max(f,n.frames[5*n.getFrameCount()-5])}else{if("attachment"!=o)throw"Invalid timeline type for a slot: "+o+" ("+_+")";for(n=new a.AttachmentTimeline(d.length),n.slotIndex=T,i=0,c=0,h=d.length;h>c;c++)s=d[c],n.setFrame(i++,s.time,s.name);l.push(n),f=Math.max(f,n.frames[n.getFrameCount()-1])}}r.animations.push(new a.Animation(e,l,f))}},a.SkeletonJson.readCurve=function(e,t,r){var i=r.curve;i&&("stepped"==i?e.curves.setStepped(t):i instanceof Array&&e.curves.setCurve(t,i[0],i[1],i[2],i[3]))},a.SkeletonJson.toColor=function(e,t){if(8!=e.length)throw"Color hexidecimal length must be 8, recieved: "+e;return parseInt(e.substr(2*t,2),16)/255},a.Atlas=function(e,t){this.textureLoader=t,this.pages=[],this.regions=[];var r=new a.AtlasReader(e),i=[];i.length=4;for(var n=null;;){var o=r.readLine();if(null==o)break;if(o=r.trim(o),o.length)if(n){var s=new a.AtlasRegion;s.name=o,s.page=n,s.rotate="true"==r.readValue(),r.readTuple(i);var d=parseInt(i[0],10),c=parseInt(i[1],10);r.readTuple(i);var h=parseInt(i[0],10),l=parseInt(i[1],10);s.u=d/n.width,s.v=c/n.height,s.rotate?(s.u2=(d+l)/n.width,s.v2=(c+h)/n.height):(s.u2=(d+h)/n.width,s.v2=(c+l)/n.height),s.x=d,s.y=c,s.width=Math.abs(h),s.height=Math.abs(l),4==r.readTuple(i)&&(s.splits=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10)],4==r.readTuple(i)&&(s.pads=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10)],r.readTuple(i))),s.originalWidth=parseInt(i[0],10),s.originalHeight=parseInt(i[1],10),r.readTuple(i),s.offsetX=parseInt(i[0],10),s.offsetY=parseInt(i[1],10),s.index=parseInt(r.readValue(),10),this.regions.push(s)}else{n=new a.AtlasPage,n.name=o,n.format=a.Atlas.Format[r.readValue()],r.readTuple(i),n.minFilter=a.Atlas.TextureFilter[i[0]],n.magFilter=a.Atlas.TextureFilter[i[1]];var f=r.readValue();n.uWrap=a.Atlas.TextureWrap.clampToEdge,n.vWrap=a.Atlas.TextureWrap.clampToEdge,"x"==f?n.uWrap=a.Atlas.TextureWrap.repeat:"y"==f?n.vWrap=a.Atlas.TextureWrap.repeat:"xy"==f&&(n.uWrap=n.vWrap=a.Atlas.TextureWrap.repeat),t.load(n,o),this.pages.push(n)}else n=null}},a.Atlas.prototype={findRegion:function(e){for(var t=this.regions,r=0,i=t.length;i>r;r++)if(t[r].name==e)return t[r];return null},dispose:function(){for(var e=this.pages,t=0,r=e.length;r>t;t++)this.textureLoader.unload(e[t].rendererObject)},updateUVs:function(e){for(var t=this.regions,r=0,i=t.length;i>r;r++){var a=t[r];a.page==e&&(a.u=a.x/e.width,a.v=a.y/e.height,a.rotate?(a.u2=(a.x+a.height)/e.width,a.v2=(a.y+a.width)/e.height):(a.u2=(a.x+a.width)/e.width,a.v2=(a.y+a.height)/e.height))}}},a.Atlas.Format={alpha:0,intensity:1,luminanceAlpha:2,rgb565:3,rgba4444:4,rgb888:5,rgba8888:6},a.Atlas.TextureFilter={nearest:0,linear:1,mipMap:2,mipMapNearestNearest:3,mipMapLinearNearest:4,mipMapNearestLinear:5,mipMapLinearLinear:6},a.Atlas.TextureWrap={mirroredRepeat:0,clampToEdge:1,repeat:2},a.AtlasPage=function(){},a.AtlasPage.prototype={name:null,format:null,minFilter:null,magFilter:null,uWrap:null,vWrap:null,rendererObject:null,width:0,height:0},a.AtlasRegion=function(){},a.AtlasRegion.prototype={page:null,name:null,x:0,y:0,width:0,height:0,u:0,v:0,u2:0,v2:0,offsetX:0,offsetY:0,originalWidth:0,originalHeight:0,index:0,rotate:!1,splits:null,pads:null},a.AtlasReader=function(e){this.lines=e.split(/\r\n|\r|\n/)},a.AtlasReader.prototype={index:0,trim:function(e){return e.replace(/^\s+|\s+$/g,"")},readLine:function(){return this.index>=this.lines.length?null:this.lines[this.index++]},readValue:function(){var e=this.readLine(),t=e.indexOf(":");if(-1==t)throw"Invalid line: "+e;return this.trim(e.substring(t+1))},readTuple:function(e){var t=this.readLine(),r=t.indexOf(":");if(-1==r)throw"Invalid line: "+t;for(var i=0,a=r+1;3>i;i++){var n=t.indexOf(",",a);if(-1==n){if(!i)throw"Invalid line: "+t;break}e[i]=this.trim(t.substr(a,n-a)),a=n+1}return e[i]=this.trim(t.substring(a)),i+1}},a.AtlasAttachmentLoader=function(e){this.atlas=e},a.AtlasAttachmentLoader.prototype={newAttachment:function(e,t,r){switch(t){case a.AttachmentType.region:var i=this.atlas.findRegion(r);if(!i)throw"Region not found in atlas: "+r+" ("+t+")";var n=new a.RegionAttachment(r);return n.rendererObject=i,n.setUVs(i.u,i.v,i.u2,i.v2,i.rotate),n.regionOffsetX=i.offsetX,n.regionOffsetY=i.offsetY,n.regionWidth=i.width,n.regionHeight=i.height,n.regionOriginalWidth=i.originalWidth,n.regionOriginalHeight=i.originalHeight,n}throw"Unknown attachment type: "+t}},a.Bone.yDown=!0,i.AnimCache={},i.Spine=function(e){if(i.DisplayObjectContainer.call(this),this.spineData=i.AnimCache[e],!this.spineData)throw new Error("Spine data must be preloaded using PIXI.SpineLoader or PIXI.AssetLoader: "+e);this.skeleton=new a.Skeleton(this.spineData),this.skeleton.updateWorldTransform(),this.stateData=new a.AnimationStateData(this.spineData),this.state=new a.AnimationState(this.stateData),this.slotContainers=[];for(var t=0,r=this.skeleton.drawOrder.length;r>t;t++){var n=this.skeleton.drawOrder[t],o=n.attachment,s=new i.DisplayObjectContainer;if(this.slotContainers.push(s),this.addChild(s),o instanceof a.RegionAttachment){var d=o.rendererObject.name,c=this.createSprite(n,o.rendererObject);n.currentSprite=c,n.currentSpriteName=d,s.addChild(c)}}},i.Spine.prototype=Object.create(i.DisplayObjectContainer.prototype),i.Spine.prototype.constructor=i.Spine,i.Spine.prototype.updateTransform=function(){this.lastTime=this.lastTime||Date.now();var e=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.state.update(e),this.state.apply(this.skeleton),this.skeleton.updateWorldTransform();for(var t=this.skeleton.drawOrder,r=0,n=t.length;n>r;r++){var o=t[r],s=o.attachment,d=this.slotContainers[r];if(s instanceof a.RegionAttachment){if(s.rendererObject&&(!o.currentSpriteName||o.currentSpriteName!=s.name)){var c=s.rendererObject.name;if(void 0!==o.currentSprite&&(o.currentSprite.visible=!1),o.sprites=o.sprites||{},void 0!==o.sprites[c])o.sprites[c].visible=!0;else{var h=this.createSprite(o,s.rendererObject);d.addChild(h)}o.currentSprite=o.sprites[c],o.currentSpriteName=c}d.visible=!0;var l=o.bone;d.position.x=l.worldX+s.x*l.m00+s.y*l.m01,d.position.y=l.worldY+s.x*l.m10+s.y*l.m11,d.scale.x=l.worldScaleX,d.scale.y=l.worldScaleY,d.rotation=-(o.bone.worldRotation*Math.PI/180),d.alpha=o.a,o.currentSprite.tint=i.rgb2hex([o.r,o.g,o.b])}else d.visible=!1}i.DisplayObjectContainer.prototype.updateTransform.call(this)},i.Spine.prototype.createSprite=function(e,t){var r=i.TextureCache[t.name]?t.name:t.name+".png",a=new i.Sprite(i.Texture.fromFrame(r));return a.scale=t.scale,a.rotation=t.rotation,a.anchor.x=a.anchor.y=.5,e.sprites=e.sprites||{},e.sprites[t.name]=a,a},i.BaseTextureCache={},i.BaseTextureCacheIdGenerator=0,i.BaseTexture=function(e,t){if(this.resolution=1,this.width=100,this.height=100,this.scaleMode=t||i.scaleModes.DEFAULT,this.hasLoaded=!1,this.source=e,this._UID=i._UID++,this.premultipliedAlpha=!0,this._glTextures=[],this._dirty=[!0,!0,!0,!0],e){if((this.source.complete||this.source.getContext)&&this.source.width&&this.source.height)this.hasLoaded=!0,this.width=this.source.naturalWidth||this.source.width,this.height=this.source.naturalHeight||this.source.height,this.dirty();else{var r=this;this.source.onload=function(){r.hasLoaded=!0,r.width=r.source.naturalWidth||r.source.width,r.height=r.source.naturalHeight||r.source.height,r.dirty(),r.dispatchEvent({type:"loaded",content:r})},this.source.onerror=function(){r.dispatchEvent({type:"error",content:r})}}this.imageUrl=null,this._powerOf2=!1}},i.BaseTexture.prototype.constructor=i.BaseTexture,i.EventTarget.mixin(i.BaseTexture.prototype),i.BaseTexture.prototype.destroy=function(){this.imageUrl?(delete i.BaseTextureCache[this.imageUrl],delete i.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")):this.source&&this.source._pixiId&&delete i.BaseTextureCache[this.source._pixiId],this.source=null,this.unloadFromGPU()},i.BaseTexture.prototype.updateSourceImage=function(e){this.hasLoaded=!1,this.source.src=null,this.source.src=e},i.BaseTexture.prototype.dirty=function(){for(var e=0;e<this._glTextures.length;e++)this._dirty[e]=!0},i.BaseTexture.prototype.unloadFromGPU=function(){this.dirty();for(var e=this._glTextures.length-1;e>=0;e--){var t=this._glTextures[e],r=i.glContexts[e];r&&t&&r.deleteTexture(t)}this._glTextures.length=0,this.dirty()},i.BaseTexture.fromImage=function(e,t,r){var a=i.BaseTextureCache[e];if(void 0===t&&-1===e.indexOf("data:")&&(t=!0),!a){var n=new Image;t&&(n.crossOrigin=""),n.src=e,a=new i.BaseTexture(n,r),a.imageUrl=e,i.BaseTextureCache[e]=a,-1!==e.indexOf(i.RETINA_PREFIX+".")&&(a.resolution=2)}return a},i.BaseTexture.fromCanvas=function(e,t){e._pixiId||(e._pixiId="canvas_"+i.TextureCacheIdGenerator++);var r=i.BaseTextureCache[e._pixiId];return r||(r=new i.BaseTexture(e,t),i.BaseTextureCache[e._pixiId]=r),r},i.TextureCache={},i.FrameCache={},i.TextureCacheIdGenerator=0,i.Texture=function(e,t,r,a){this.noFrame=!1,t||(this.noFrame=!0,t=new i.Rectangle(0,0,1,1)),e instanceof i.Texture&&(e=e.baseTexture),this.baseTexture=e,this.frame=t,this.trim=a,this.valid=!1,this.requiresUpdate=!1,this._uvs=null,this.width=0,this.height=0,this.crop=r||new i.Rectangle(0,0,1,1),e.hasLoaded?(this.noFrame&&(t=new i.Rectangle(0,0,e.width,e.height)),this.setFrame(t)):e.addEventListener("loaded",this.onBaseTextureLoaded.bind(this))},i.Texture.prototype.constructor=i.Texture,i.EventTarget.mixin(i.Texture.prototype),i.Texture.prototype.onBaseTextureLoaded=function(){var e=this.baseTexture;e.removeEventListener("loaded",this.onLoaded),this.noFrame&&(this.frame=new i.Rectangle(0,0,e.width,e.height)),this.setFrame(this.frame),this.dispatchEvent({type:"update",content:this})},i.Texture.prototype.destroy=function(e){e&&this.baseTexture.destroy(),this.valid=!1},i.Texture.prototype.setFrame=function(e){if(this.noFrame=!1,this.frame=e,this.width=e.width,this.height=e.height,this.crop.x=e.x,this.crop.y=e.y,this.crop.width=e.width,this.crop.height=e.height,!this.trim&&(e.x+e.width>this.baseTexture.width||e.y+e.height>this.baseTexture.height))throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=e&&e.width&&e.height&&this.baseTexture.source&&this.baseTexture.hasLoaded,this.trim&&(this.width=this.trim.width,this.height=this.trim.height,this.frame.width=this.trim.width,this.frame.height=this.trim.height),this.valid&&this._updateUvs()},i.Texture.prototype._updateUvs=function(){this._uvs||(this._uvs=new i.TextureUvs);var e=this.crop,t=this.baseTexture.width,r=this.baseTexture.height;this._uvs.x0=e.x/t,this._uvs.y0=e.y/r,this._uvs.x1=(e.x+e.width)/t,this._uvs.y1=e.y/r,this._uvs.x2=(e.x+e.width)/t,this._uvs.y2=(e.y+e.height)/r,this._uvs.x3=e.x/t,this._uvs.y3=(e.y+e.height)/r},i.Texture.fromImage=function(e,t,r){var a=i.TextureCache[e];return a||(a=new i.Texture(i.BaseTexture.fromImage(e,t,r)),i.TextureCache[e]=a),a},i.Texture.fromFrame=function(e){var t=i.TextureCache[e];if(!t)throw new Error('The frameId "'+e+'" does not exist in the texture cache ');return t},i.Texture.fromCanvas=function(e,t){var r=i.BaseTexture.fromCanvas(e,t);return new i.Texture(r)},i.Texture.addTextureToCache=function(e,t){i.TextureCache[t]=e},i.Texture.removeTextureFromCache=function(e){var t=i.TextureCache[e];return delete i.TextureCache[e],delete i.BaseTextureCache[e],t},i.TextureUvs=function(){this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.x3=0,this.y3=0},i.Texture.emptyTexture=new i.Texture(new i.BaseTexture),i.RenderTexture=function(e,t,r,a,n){if(this.width=e||100,this.height=t||100,this.resolution=n||1,this.frame=new i.Rectangle(0,0,this.width*this.resolution,this.height*this.resolution),this.crop=new i.Rectangle(0,0,this.width*this.resolution,this.height*this.resolution),this.baseTexture=new i.BaseTexture,this.baseTexture.width=this.width*this.resolution,this.baseTexture.height=this.height*this.resolution,this.baseTexture._glTextures=[],this.baseTexture.resolution=this.resolution,this.baseTexture.scaleMode=a||i.scaleModes.DEFAULT,this.baseTexture.hasLoaded=!0,i.Texture.call(this,this.baseTexture,new i.Rectangle(0,0,this.width,this.height)),this.renderer=r||i.defaultRenderer,this.renderer.type===i.WEBGL_RENDERER){var o=this.renderer.gl;this.baseTexture._dirty[o.id]=!1,this.textureBuffer=new i.FilterTexture(o,this.width*this.resolution,this.height*this.resolution,this.baseTexture.scaleMode),this.baseTexture._glTextures[o.id]=this.textureBuffer.texture,this.render=this.renderWebGL,this.projection=new i.Point(.5*this.width,.5*-this.height)}else this.render=this.renderCanvas,this.textureBuffer=new i.CanvasBuffer(this.width*this.resolution,this.height*this.resolution),this.baseTexture.source=this.textureBuffer.canvas;this.valid=!0,this._updateUvs()},i.RenderTexture.prototype=Object.create(i.Texture.prototype),i.RenderTexture.prototype.constructor=i.RenderTexture,i.RenderTexture.prototype.resize=function(e,t,r){(e!==this.width||t!==this.height)&&(this.valid=e>0&&t>0,this.width=this.frame.width=this.crop.width=e,this.height=this.frame.height=this.crop.height=t,r&&(this.baseTexture.width=this.width,this.baseTexture.height=this.height),this.renderer.type===i.WEBGL_RENDERER&&(this.projection.x=this.width/2,this.projection.y=-this.height/2),this.valid&&this.textureBuffer.resize(this.width*this.resolution,this.height*this.resolution))},i.RenderTexture.prototype.clear=function(){this.valid&&(this.renderer.type===i.WEBGL_RENDERER&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,this.textureBuffer.frameBuffer),this.textureBuffer.clear())},i.RenderTexture.prototype.renderWebGL=function(e,t,r){if(this.valid){var i=e.worldTransform;i.identity(),i.translate(0,2*this.projection.y),t&&i.append(t),i.scale(1,-1),e.worldAlpha=1;for(var a=e.children,n=0,o=a.length;o>n;n++)a[n].updateTransform();var s=this.renderer.gl;s.viewport(0,0,this.width*this.resolution,this.height*this.resolution),s.bindFramebuffer(s.FRAMEBUFFER,this.textureBuffer.frameBuffer),r&&this.textureBuffer.clear(),this.renderer.spriteBatch.dirty=!0,this.renderer.renderDisplayObject(e,this.projection,this.textureBuffer.frameBuffer),this.renderer.spriteBatch.dirty=!0}},i.RenderTexture.prototype.renderCanvas=function(e,t,r){if(this.valid){var i=e.worldTransform;i.identity(),t&&i.append(t),e.worldAlpha=1;for(var a=e.children,n=0,o=a.length;o>n;n++)a[n].updateTransform();r&&this.textureBuffer.clear();var s=this.textureBuffer.context,d=this.renderer.resolution;this.renderer.resolution=this.resolution,this.renderer.renderDisplayObject(e,s),this.renderer.resolution=d}},i.RenderTexture.prototype.getImage=function(){var e=new Image;return e.src=this.getBase64(),e},i.RenderTexture.prototype.getBase64=function(){return this.getCanvas().toDataURL()},i.RenderTexture.prototype.getCanvas=function(){if(this.renderer.type===i.WEBGL_RENDERER){var e=this.renderer.gl,t=this.textureBuffer.width,r=this.textureBuffer.height,a=new Uint8Array(4*t*r);e.bindFramebuffer(e.FRAMEBUFFER,this.textureBuffer.frameBuffer),e.readPixels(0,0,t,r,e.RGBA,e.UNSIGNED_BYTE,a),e.bindFramebuffer(e.FRAMEBUFFER,null);var n=new i.CanvasBuffer(t,r),o=n.context.getImageData(0,0,t,r);return o.data.set(a),n.context.putImageData(o,0,0),n.canvas}return this.textureBuffer.canvas},i.RenderTexture.tempMatrix=new i.Matrix,i.VideoTexture=function(e,t){if(!e)throw new Error("No video source element specified.");
(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),i.BaseTexture.call(this,e,t),this.autoUpdate=!1,this.updateBound=this._onUpdate.bind(this),e.complete||(this._onCanPlay=this.onCanPlay.bind(this),e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("play",this.onPlayStart.bind(this)),e.addEventListener("pause",this.onPlayStop.bind(this)))},i.VideoTexture.prototype=Object.create(i.BaseTexture.prototype),i.VideoTexture.constructor=i.VideoTexture,i.VideoTexture.prototype._onUpdate=function(){this.autoUpdate&&(window.requestAnimationFrame(this.updateBound),this.dirty())},i.VideoTexture.prototype.onPlayStart=function(){this.autoUpdate||(window.requestAnimationFrame(this.updateBound),this.autoUpdate=!0)},i.VideoTexture.prototype.onPlayStop=function(){this.autoUpdate=!1},i.VideoTexture.prototype.onCanPlay=function(){"canplaythrough"===event.type&&(this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.dispatchEvent({type:"loaded",content:this}))))},i.VideoTexture.baseTextureFromVideo=function(e,t){e._pixiId||(e._pixiId="video_"+i.TextureCacheIdGenerator++);var r=i.BaseTextureCache[e._pixiId];return r||(r=new i.VideoTexture(e,t),i.BaseTextureCache[e._pixiId]=r),r},i.VideoTexture.prototype.destroy=function(){this.source&&this.source._pixiId&&(i.BaseTextureCache[this.source._pixiId]=null,delete i.BaseTextureCache[this.source._pixiId],this.source._pixiId=null,delete this.source._pixiId),i.BaseTexture.prototype.destroy.call(this)},i.VideoTexture.textureFromVideo=function(e,t){var r=i.VideoTexture.baseTextureFromVideo(e,t);return new i.Texture(r)},i.VideoTexture.fromUrl=function(e,t){var r=document.createElement("video");return r.src=e,r.autoPlay=!0,r.play(),i.VideoTexture.textureFromVideo(r,t)},i.AssetLoader=function(e,t){this.assetURLs=e,this.crossorigin=t,this.loadersByType={jpg:i.ImageLoader,jpeg:i.ImageLoader,png:i.ImageLoader,gif:i.ImageLoader,webp:i.ImageLoader,json:i.JsonLoader,atlas:i.AtlasLoader,anim:i.SpineLoader,xml:i.BitmapFontLoader,fnt:i.BitmapFontLoader}},i.EventTarget.mixin(i.AssetLoader.prototype),i.AssetLoader.prototype.constructor=i.AssetLoader,i.AssetLoader.prototype._getDataType=function(e){var t="data:",r=e.slice(0,t.length).toLowerCase();if(r===t){var i=e.slice(t.length),a=i.indexOf(",");if(-1===a)return null;var n=i.slice(0,a).split(";")[0];return n&&"text/plain"!==n.toLowerCase()?n.split("/").pop().toLowerCase():"txt"}return null},i.AssetLoader.prototype.load=function(){function e(e){t.onAssetLoaded(e.data.content)}var t=this;this.loadCount=this.assetURLs.length;for(var r=0;r<this.assetURLs.length;r++){var i=this.assetURLs[r],a=this._getDataType(i);a||(a=i.split("?").shift().split(".").pop().toLowerCase());var n=this.loadersByType[a];if(!n)throw new Error(a+" is an unsupported file type");var o=new n(i,this.crossorigin);o.on("loaded",e),o.load()}},i.AssetLoader.prototype.onAssetLoaded=function(e){this.loadCount--,this.emit("onProgress",{content:this,loader:e}),this.onProgress&&this.onProgress(e),this.loadCount||(this.emit("onComplete",{content:this}),this.onComplete&&this.onComplete())},i.JsonLoader=function(e,t){this.url=e,this.crossorigin=t,this.baseUrl=e.replace(/[^\/]*$/,""),this.loaded=!1},i.JsonLoader.prototype.constructor=i.JsonLoader,i.EventTarget.mixin(i.JsonLoader.prototype),i.JsonLoader.prototype.load=function(){window.XDomainRequest&&this.crossorigin?(this.ajaxRequest=new window.XDomainRequest,this.ajaxRequest.timeout=3e3,this.ajaxRequest.onerror=this.onError.bind(this),this.ajaxRequest.ontimeout=this.onError.bind(this),this.ajaxRequest.onprogress=function(){}):this.ajaxRequest=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP"),this.ajaxRequest.onload=this.onJSONLoaded.bind(this),this.ajaxRequest.open("GET",this.url,!0),this.ajaxRequest.send()},i.JsonLoader.prototype.onJSONLoaded=function(){if(!this.ajaxRequest.responseText)return this.onError(),void 0;if(this.json=JSON.parse(this.ajaxRequest.responseText),this.json.frames){var e=this.baseUrl+this.json.meta.image,t=new i.ImageLoader(e,this.crossorigin),r=this.json.frames;this.texture=t.texture.baseTexture,t.addEventListener("loaded",this.onLoaded.bind(this));for(var n in r){var o=r[n].frame;if(o){var s=new i.Rectangle(o.x,o.y,o.w,o.h),d=s.clone(),c=null;if(r[n].trimmed){var h=r[n].sourceSize,l=r[n].spriteSourceSize;c=new i.Rectangle(l.x,l.y,h.w,h.h)}i.TextureCache[n]=new i.Texture(this.texture,s,d,c)}}t.load()}else if(this.json.bones){var f=new a.SkeletonJson,u=f.readSkeletonData(this.json);i.AnimCache[this.url]=u,this.onLoaded()}else this.onLoaded()},i.JsonLoader.prototype.onLoaded=function(){this.loaded=!0,this.dispatchEvent({type:"loaded",content:this})},i.JsonLoader.prototype.onError=function(){this.dispatchEvent({type:"error",content:this})},i.AtlasLoader=function(e,t){this.url=e,this.baseUrl=e.replace(/[^\/]*$/,""),this.crossorigin=t,this.loaded=!1},i.AtlasLoader.constructor=i.AtlasLoader,i.EventTarget.mixin(i.AtlasLoader.prototype),i.AtlasLoader.prototype.load=function(){this.ajaxRequest=new i.AjaxRequest,this.ajaxRequest.onreadystatechange=this.onAtlasLoaded.bind(this),this.ajaxRequest.open("GET",this.url,!0),this.ajaxRequest.overrideMimeType&&this.ajaxRequest.overrideMimeType("application/json"),this.ajaxRequest.send(null)},i.AtlasLoader.prototype.onAtlasLoaded=function(){if(4===this.ajaxRequest.readyState)if(200===this.ajaxRequest.status||-1===window.location.href.indexOf("http")){this.atlas={meta:{image:[]},frames:[]};var e=this.ajaxRequest.responseText.split(/\r?\n/),t=-3,r=0,a=null,n=!1,o=0,s=0,d=this.onLoaded.bind(this);for(o=0;o<e.length;o++)if(e[o]=e[o].replace(/^\s+|\s+$/g,""),""===e[o]&&(n=o+1),e[o].length>0){if(n===o)this.atlas.meta.image.push(e[o]),r=this.atlas.meta.image.length-1,this.atlas.frames.push({}),t=-3;else if(t>0)if(t%7===1)null!=a&&(this.atlas.frames[r][a.name]=a),a={name:e[o],frame:{}};else{var c=e[o].split(" ");if(t%7===3)a.frame.x=Number(c[1].replace(",","")),a.frame.y=Number(c[2]);else if(t%7===4)a.frame.w=Number(c[1].replace(",","")),a.frame.h=Number(c[2]);else if(t%7===5){var h={x:0,y:0,w:Number(c[1].replace(",","")),h:Number(c[2])};h.w>a.frame.w||h.h>a.frame.h?(a.trimmed=!0,a.realSize=h):a.trimmed=!1}}t++}if(null!=a&&(this.atlas.frames[r][a.name]=a),this.atlas.meta.image.length>0){for(this.images=[],s=0;s<this.atlas.meta.image.length;s++){var l=this.baseUrl+this.atlas.meta.image[s],f=this.atlas.frames[s];this.images.push(new i.ImageLoader(l,this.crossorigin));for(o in f){var u=f[o].frame;u&&(i.TextureCache[o]=new i.Texture(this.images[s].texture.baseTexture,{x:u.x,y:u.y,width:u.w,height:u.h}),f[o].trimmed&&(i.TextureCache[o].realSize=f[o].realSize,i.TextureCache[o].trim.x=0,i.TextureCache[o].trim.y=0))}}for(this.currentImageId=0,s=0;s<this.images.length;s++)this.images[s].on("loaded",d);this.images[this.currentImageId].load()}else this.onLoaded()}else this.onError()},i.AtlasLoader.prototype.onLoaded=function(){this.images.length-1>this.currentImageId?(this.currentImageId++,this.images[this.currentImageId].load()):(this.loaded=!0,this.emit("loaded",{content:this}))},i.AtlasLoader.prototype.onError=function(){this.emit("error",{content:this})},i.SpriteSheetLoader=function(e,t){this.url=e,this.crossorigin=t,this.baseUrl=e.replace(/[^\/]*$/,""),this.texture=null,this.frames={}},i.SpriteSheetLoader.prototype.constructor=i.SpriteSheetLoader,i.EventTarget.mixin(i.SpriteSheetLoader.prototype),i.SpriteSheetLoader.prototype.load=function(){var e=this,t=new i.JsonLoader(this.url,this.crossorigin);t.on("loaded",function(t){e.json=t.data.content.json,e.onLoaded()}),t.load()},i.SpriteSheetLoader.prototype.onLoaded=function(){this.emit("loaded",{content:this})},i.ImageLoader=function(e,t){this.texture=i.Texture.fromImage(e,t),this.frames=[]},i.ImageLoader.prototype.constructor=i.ImageLoader,i.EventTarget.mixin(i.ImageLoader.prototype),i.ImageLoader.prototype.load=function(){this.texture.baseTexture.hasLoaded?this.onLoaded():this.texture.baseTexture.on("loaded",this.onLoaded.bind(this))},i.ImageLoader.prototype.onLoaded=function(){this.emit("loaded",{content:this})},i.ImageLoader.prototype.loadFramedSpriteSheet=function(e,t,r){this.frames=[];for(var a=Math.floor(this.texture.width/e),n=Math.floor(this.texture.height/t),o=0,s=0;n>s;s++)for(var d=0;a>d;d++,o++){var c=new i.Texture(this.texture.baseTexture,{x:d*e,y:s*t,width:e,height:t});this.frames.push(c),r&&(i.TextureCache[r+"-"+o]=c)}this.load()},i.BitmapFontLoader=function(e,t){this.url=e,this.crossorigin=t,this.baseUrl=e.replace(/[^\/]*$/,""),this.texture=null},i.BitmapFontLoader.prototype.constructor=i.BitmapFontLoader,i.EventTarget.mixin(i.BitmapFontLoader.prototype),i.BitmapFontLoader.prototype.load=function(){this.ajaxRequest=new i.AjaxRequest,this.ajaxRequest.onreadystatechange=this.onXMLLoaded.bind(this),this.ajaxRequest.open("GET",this.url,!0),this.ajaxRequest.overrideMimeType&&this.ajaxRequest.overrideMimeType("application/xml"),this.ajaxRequest.send(null)},i.BitmapFontLoader.prototype.onXMLLoaded=function(){if(4===this.ajaxRequest.readyState&&(200===this.ajaxRequest.status||-1===window.location.protocol.indexOf("http"))){var e=this.ajaxRequest.responseXML;if(!e||/MSIE 9/i.test(navigator.userAgent)||navigator.isCocoonJS)if("function"==typeof window.DOMParser){var t=new DOMParser;e=t.parseFromString(this.ajaxRequest.responseText,"text/xml")}else{var r=document.createElement("div");r.innerHTML=this.ajaxRequest.responseText,e=r}var a=this.baseUrl+e.getElementsByTagName("page")[0].getAttribute("file"),n=new i.ImageLoader(a,this.crossorigin);this.texture=n.texture.baseTexture;var o={},s=e.getElementsByTagName("info")[0],d=e.getElementsByTagName("common")[0];o.font=s.getAttribute("face"),o.size=parseInt(s.getAttribute("size"),10),o.lineHeight=parseInt(d.getAttribute("lineHeight"),10),o.chars={};for(var c=e.getElementsByTagName("char"),h=0;h<c.length;h++){var l=parseInt(c[h].getAttribute("id"),10),f=new i.Rectangle(parseInt(c[h].getAttribute("x"),10),parseInt(c[h].getAttribute("y"),10),parseInt(c[h].getAttribute("width"),10),parseInt(c[h].getAttribute("height"),10));o.chars[l]={xOffset:parseInt(c[h].getAttribute("xoffset"),10),yOffset:parseInt(c[h].getAttribute("yoffset"),10),xAdvance:parseInt(c[h].getAttribute("xadvance"),10),kerning:{},texture:i.TextureCache[l]=new i.Texture(this.texture,f)}}var u=e.getElementsByTagName("kerning");for(h=0;h<u.length;h++){var p=parseInt(u[h].getAttribute("first"),10),b=parseInt(u[h].getAttribute("second"),10),y=parseInt(u[h].getAttribute("amount"),10);o.chars[b].kerning[p]=y}i.BitmapText.fonts[o.font]=o,n.addEventListener("loaded",this.onLoaded.bind(this)),n.load()}},i.BitmapFontLoader.prototype.onLoaded=function(){this.emit("loaded",{content:this})},i.SpineLoader=function(e,t){this.url=e,this.crossorigin=t,this.loaded=!1},i.SpineLoader.prototype.constructor=i.SpineLoader,i.EventTarget.mixin(i.SpineLoader.prototype),i.SpineLoader.prototype.load=function(){var e=this,t=new i.JsonLoader(this.url,this.crossorigin);t.on("loaded",function(t){e.json=t.data.content.json,e.onLoaded()}),t.load()},i.SpineLoader.prototype.onLoaded=function(){this.loaded=!0,this.emit("loaded",{content:this})},i.AbstractFilter=function(e,t){this.passes=[this],this.shaders=[],this.dirty=!0,this.padding=0,this.uniforms=t||{},this.fragmentSrc=e||[]},i.AbstractFilter.prototype.constructor=i.AbstractFilter,i.AbstractFilter.prototype.syncUniforms=function(){for(var e=0,t=this.shaders.length;t>e;e++)this.shaders[e].dirty=!0},i.AlphaMaskFilter=function(e){i.AbstractFilter.call(this),this.passes=[this],e.baseTexture._powerOf2=!0,this.uniforms={mask:{type:"sampler2D",value:e},mapDimensions:{type:"2f",value:{x:1,y:5112}},dimensions:{type:"4fv",value:[0,0,0,0]}},e.baseTexture.hasLoaded?(this.uniforms.mask.value.x=e.width,this.uniforms.mask.value.y=e.height):(this.boundLoadedFunction=this.onTextureLoaded.bind(this),e.baseTexture.on("loaded",this.boundLoadedFunction)),this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D mask;","uniform sampler2D uSampler;","uniform vec2 offset;","uniform vec4 dimensions;","uniform vec2 mapDimensions;","void main(void) {","   vec2 mapCords = vTextureCoord.xy;","   mapCords += (dimensions.zw + offset)/ dimensions.xy ;","   mapCords.y *= -1.0;","   mapCords.y += 1.0;","   mapCords *= dimensions.xy / mapDimensions;","   vec4 original =  texture2D(uSampler, vTextureCoord);","   float maskAlpha =  texture2D(mask, mapCords).r;","   original *= maskAlpha;","   gl_FragColor =  original;","}"]},i.AlphaMaskFilter.prototype=Object.create(i.AbstractFilter.prototype),i.AlphaMaskFilter.prototype.constructor=i.AlphaMaskFilter,i.AlphaMaskFilter.prototype.onTextureLoaded=function(){this.uniforms.mapDimensions.value.x=this.uniforms.mask.value.width,this.uniforms.mapDimensions.value.y=this.uniforms.mask.value.height,this.uniforms.mask.value.baseTexture.off("loaded",this.boundLoadedFunction)},Object.defineProperty(i.AlphaMaskFilter.prototype,"map",{get:function(){return this.uniforms.mask.value},set:function(e){this.uniforms.mask.value=e}}),i.ColorMatrixFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={matrix:{type:"mat4",value:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float invert;","uniform mat4 matrix;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * matrix;","}"]},i.ColorMatrixFilter.prototype=Object.create(i.AbstractFilter.prototype),i.ColorMatrixFilter.prototype.constructor=i.ColorMatrixFilter,Object.defineProperty(i.ColorMatrixFilter.prototype,"matrix",{get:function(){return this.uniforms.matrix.value},set:function(e){this.uniforms.matrix.value=e}}),i.GrayFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={gray:{type:"1f",value:1}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform float gray;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","   gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126*gl_FragColor.r + 0.7152*gl_FragColor.g + 0.0722*gl_FragColor.b), gray);","}"]},i.GrayFilter.prototype=Object.create(i.AbstractFilter.prototype),i.GrayFilter.prototype.constructor=i.GrayFilter,Object.defineProperty(i.GrayFilter.prototype,"gray",{get:function(){return this.uniforms.gray.value},set:function(e){this.uniforms.gray.value=e}}),i.DisplacementFilter=function(e){i.AbstractFilter.call(this),this.passes=[this],e.baseTexture._powerOf2=!0,this.uniforms={displacementMap:{type:"sampler2D",value:e},scale:{type:"2f",value:{x:30,y:30}},offset:{type:"2f",value:{x:0,y:0}},mapDimensions:{type:"2f",value:{x:1,y:5112}},dimensions:{type:"4fv",value:[0,0,0,0]}},e.baseTexture.hasLoaded?(this.uniforms.mapDimensions.value.x=e.width,this.uniforms.mapDimensions.value.y=e.height):(this.boundLoadedFunction=this.onTextureLoaded.bind(this),e.baseTexture.on("loaded",this.boundLoadedFunction)),this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D displacementMap;","uniform sampler2D uSampler;","uniform vec2 scale;","uniform vec2 offset;","uniform vec4 dimensions;","uniform vec2 mapDimensions;","void main(void) {","   vec2 mapCords = vTextureCoord.xy;","   mapCords += (dimensions.zw + offset)/ dimensions.xy ;","   mapCords.y *= -1.0;","   mapCords.y += 1.0;","   vec2 matSample = texture2D(displacementMap, mapCords).xy;","   matSample -= 0.5;","   matSample *= scale;","   matSample /= mapDimensions;","   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x + matSample.x, vTextureCoord.y + matSample.y));","   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb, 1.0);","   vec2 cord = vTextureCoord;","}"]},i.DisplacementFilter.prototype=Object.create(i.AbstractFilter.prototype),i.DisplacementFilter.prototype.constructor=i.DisplacementFilter,i.DisplacementFilter.prototype.onTextureLoaded=function(){this.uniforms.mapDimensions.value.x=this.uniforms.displacementMap.value.width,this.uniforms.mapDimensions.value.y=this.uniforms.displacementMap.value.height,this.uniforms.displacementMap.value.baseTexture.off("loaded",this.boundLoadedFunction)},Object.defineProperty(i.DisplacementFilter.prototype,"map",{get:function(){return this.uniforms.displacementMap.value},set:function(e){this.uniforms.displacementMap.value=e}}),Object.defineProperty(i.DisplacementFilter.prototype,"scale",{get:function(){return this.uniforms.scale.value},set:function(e){this.uniforms.scale.value=e}}),Object.defineProperty(i.DisplacementFilter.prototype,"offset",{get:function(){return this.uniforms.offset.value},set:function(e){this.uniforms.offset.value=e}}),i.PixelateFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={invert:{type:"1f",value:0},dimensions:{type:"4fv",value:new i.Float32Array([1e4,100,10,10])},pixelSize:{type:"2f",value:{x:10,y:10}}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform vec2 testDim;","uniform vec4 dimensions;","uniform vec2 pixelSize;","uniform sampler2D uSampler;","void main(void) {","   vec2 coord = vTextureCoord;","   vec2 size = dimensions.xy/pixelSize;","   vec2 color = floor( ( vTextureCoord * size ) ) / size + pixelSize/dimensions.xy * 0.5;","   gl_FragColor = texture2D(uSampler, color);","}"]},i.PixelateFilter.prototype=Object.create(i.AbstractFilter.prototype),i.PixelateFilter.prototype.constructor=i.PixelateFilter,Object.defineProperty(i.PixelateFilter.prototype,"size",{get:function(){return this.uniforms.pixelSize.value},set:function(e){this.dirty=!0,this.uniforms.pixelSize.value=e}}),i.BlurXFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={blur:{type:"1f",value:1/512}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float blur;","uniform sampler2D uSampler;","void main(void) {","   vec4 sum = vec4(0.0);","   sum += texture2D(uSampler, vec2(vTextureCoord.x - 4.0*blur, vTextureCoord.y)) * 0.05;","   sum += texture2D(uSampler, vec2(vTextureCoord.x - 3.0*blur, vTextureCoord.y)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x - 2.0*blur, vTextureCoord.y)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x - blur, vTextureCoord.y)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * 0.16;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + blur, vTextureCoord.y)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + 2.0*blur, vTextureCoord.y)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + 3.0*blur, vTextureCoord.y)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + 4.0*blur, vTextureCoord.y)) * 0.05;","   gl_FragColor = sum;","}"]},i.BlurXFilter.prototype=Object.create(i.AbstractFilter.prototype),i.BlurXFilter.prototype.constructor=i.BlurXFilter,Object.defineProperty(i.BlurXFilter.prototype,"blur",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(e){this.dirty=!0,this.uniforms.blur.value=1/7e3*e}}),i.BlurYFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={blur:{type:"1f",value:1/512}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float blur;","uniform sampler2D uSampler;","void main(void) {","   vec4 sum = vec4(0.0);","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 4.0*blur)) * 0.05;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 3.0*blur)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 2.0*blur)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - blur)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * 0.16;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + blur)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 2.0*blur)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 3.0*blur)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 4.0*blur)) * 0.05;","   gl_FragColor = sum;","}"]},i.BlurYFilter.prototype=Object.create(i.AbstractFilter.prototype),i.BlurYFilter.prototype.constructor=i.BlurYFilter,Object.defineProperty(i.BlurYFilter.prototype,"blur",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(e){this.uniforms.blur.value=1/7e3*e}}),i.BlurFilter=function(){this.blurXFilter=new i.BlurXFilter,this.blurYFilter=new i.BlurYFilter,this.passes=[this.blurXFilter,this.blurYFilter]},i.BlurFilter.prototype=Object.create(i.AbstractFilter.prototype),i.BlurFilter.prototype.constructor=i.BlurFilter,Object.defineProperty(i.BlurFilter.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e}}),Object.defineProperty(i.BlurFilter.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e}}),Object.defineProperty(i.BlurFilter.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e}}),i.InvertFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={invert:{type:"1f",value:1}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float invert;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","   gl_FragColor.rgb = mix( (vec3(1)-gl_FragColor.rgb) * gl_FragColor.a, gl_FragColor.rgb, 1.0 - invert);","}"]},i.InvertFilter.prototype=Object.create(i.AbstractFilter.prototype),i.InvertFilter.prototype.constructor=i.InvertFilter,Object.defineProperty(i.InvertFilter.prototype,"invert",{get:function(){return this.uniforms.invert.value},set:function(e){this.uniforms.invert.value=e}}),i.SepiaFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={sepia:{type:"1f",value:1}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float sepia;","uniform sampler2D uSampler;","const mat3 sepiaMatrix = mat3(0.3588, 0.7044, 0.1368, 0.2990, 0.5870, 0.1140, 0.2392, 0.4696, 0.0912);","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb * sepiaMatrix, sepia);","}"]},i.SepiaFilter.prototype=Object.create(i.AbstractFilter.prototype),i.SepiaFilter.prototype.constructor=i.SepiaFilter,Object.defineProperty(i.SepiaFilter.prototype,"sepia",{get:function(){return this.uniforms.sepia.value},set:function(e){this.uniforms.sepia.value=e}}),i.TwistFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={radius:{type:"1f",value:.5},angle:{type:"1f",value:5},offset:{type:"2f",value:{x:.5,y:.5}}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform vec4 dimensions;","uniform sampler2D uSampler;","uniform float radius;","uniform float angle;","uniform vec2 offset;","void main(void) {","   vec2 coord = vTextureCoord - offset;","   float distance = length(coord);","   if (distance < radius) {","       float ratio = (radius - distance) / radius;","       float angleMod = ratio * ratio * angle;","       float s = sin(angleMod);","       float c = cos(angleMod);","       coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);","   }","   gl_FragColor = texture2D(uSampler, coord+offset);","}"]},i.TwistFilter.prototype=Object.create(i.AbstractFilter.prototype),i.TwistFilter.prototype.constructor=i.TwistFilter,Object.defineProperty(i.TwistFilter.prototype,"offset",{get:function(){return this.uniforms.offset.value},set:function(e){this.dirty=!0,this.uniforms.offset.value=e}}),Object.defineProperty(i.TwistFilter.prototype,"radius",{get:function(){return this.uniforms.radius.value},set:function(e){this.dirty=!0,this.uniforms.radius.value=e}}),Object.defineProperty(i.TwistFilter.prototype,"angle",{get:function(){return this.uniforms.angle.value},set:function(e){this.dirty=!0,this.uniforms.angle.value=e}}),i.ColorStepFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={step:{type:"1f",value:5}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform float step;","void main(void) {","   vec4 color = texture2D(uSampler, vTextureCoord);","   color = floor(color * step) / step;","   gl_FragColor = color;","}"]},i.ColorStepFilter.prototype=Object.create(i.AbstractFilter.prototype),i.ColorStepFilter.prototype.constructor=i.ColorStepFilter,Object.defineProperty(i.ColorStepFilter.prototype,"step",{get:function(){return this.uniforms.step.value},set:function(e){this.uniforms.step.value=e}}),i.DotScreenFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={scale:{type:"1f",value:1},angle:{type:"1f",value:5},dimensions:{type:"4fv",value:[0,0,0,0]}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform vec4 dimensions;","uniform sampler2D uSampler;","uniform float angle;","uniform float scale;","float pattern() {","   float s = sin(angle), c = cos(angle);","   vec2 tex = vTextureCoord * dimensions.xy;","   vec2 point = vec2(","       c * tex.x - s * tex.y,","       s * tex.x + c * tex.y","   ) * scale;","   return (sin(point.x) * sin(point.y)) * 4.0;","}","void main() {","   vec4 color = texture2D(uSampler, vTextureCoord);","   float average = (color.r + color.g + color.b) / 3.0;","   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);","}"]},i.DotScreenFilter.prototype=Object.create(i.AbstractFilter.prototype),i.DotScreenFilter.prototype.constructor=i.DotScreenFilter,Object.defineProperty(i.DotScreenFilter.prototype,"scale",{get:function(){return this.uniforms.scale.value},set:function(e){this.dirty=!0,this.uniforms.scale.value=e}}),Object.defineProperty(i.DotScreenFilter.prototype,"angle",{get:function(){return this.uniforms.angle.value},set:function(e){this.dirty=!0,this.uniforms.angle.value=e}}),i.CrossHatchFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={blur:{type:"1f",value:1/512}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float blur;","uniform sampler2D uSampler;","void main(void) {","    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);","    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);","    if (lum < 1.00) {","        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","    if (lum < 0.75) {","        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","    if (lum < 0.50) {","        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","    if (lum < 0.3) {","        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","}"]},i.CrossHatchFilter.prototype=Object.create(i.AbstractFilter.prototype),i.CrossHatchFilter.prototype.constructor=i.CrossHatchFilter,Object.defineProperty(i.CrossHatchFilter.prototype,"blur",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(e){this.uniforms.blur.value=1/7e3*e}}),i.RGBSplitFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={red:{type:"2f",value:{x:20,y:20}},green:{type:"2f",value:{x:-20,y:20}},blue:{type:"2f",value:{x:20,y:-20}},dimensions:{type:"4fv",value:[0,0,0,0]}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform vec2 red;","uniform vec2 green;","uniform vec2 blue;","uniform vec4 dimensions;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/dimensions.xy).r;","   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/dimensions.xy).g;","   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/dimensions.xy).b;","   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;","}"]},i.RGBSplitFilter.prototype=Object.create(i.AbstractFilter.prototype),i.RGBSplitFilter.prototype.constructor=i.RGBSplitFilter,Object.defineProperty(i.RGBSplitFilter.prototype,"red",{get:function(){return this.uniforms.red.value},set:function(e){this.uniforms.red.value=e}}),Object.defineProperty(i.RGBSplitFilter.prototype,"green",{get:function(){return this.uniforms.green.value},set:function(e){this.uniforms.green.value=e}}),Object.defineProperty(i.RGBSplitFilter.prototype,"blue",{get:function(){return this.uniforms.blue.value},set:function(e){this.uniforms.blue.value=e}}),"undefined"!=typeof r?("undefined"!=typeof t&&t.exports&&(r=t.exports=i),r.PIXI=i):"undefined"!=typeof define&&define.amd?define(i):e.PIXI=i}).call(this)},{}],138:[function(e,t,r){(function(e){(function(e){if(typeof bootstrap==="function"){bootstrap("promise",e)}else if(typeof r==="object"){t.exports=e()}else if(typeof define==="function"&&define.amd){define(e)}else if(typeof ses!=="undefined"){if(!ses.ok()){return}else{ses.makeQ=e}}else{Q=e()}})(function(){"use strict";var t=false;try{throw new Error}catch(r){t=!!r.stack}var i=C();var a;var n=function(){};var o=function(){var t={task:void 0,next:null};var r=t;var i=false;var a=void 0;var n=false;function s(){while(t.next){t=t.next;var e=t.task;t.task=void 0;var r=t.domain;if(r){t.domain=void 0;r.enter()}try{e()}catch(a){if(n){if(r){r.exit()}setTimeout(s,0);if(r){r.enter()}throw a}else{setTimeout(function(){throw a},0)}}if(r){r.exit()}}i=false}o=function(t){r=r.next={task:t,domain:n&&e.domain,next:null};if(!i){i=true;a()}};if(typeof e!=="undefined"&&e.nextTick){n=true;a=function(){e.nextTick(s)}}else if(typeof setImmediate==="function"){if(typeof window!=="undefined"){a=setImmediate.bind(window,s)}else{a=function(){setImmediate(s)}}}else if(typeof MessageChannel!=="undefined"){var d=new MessageChannel;d.port1.onmessage=function(){a=c;d.port1.onmessage=s;s()};var c=function(){d.port2.postMessage(0)};a=function(){setTimeout(s,0);c()}}else{a=function(){setTimeout(s,0)}}return o}();var s=Function.call;function d(e){return function(){return s.apply(e,arguments)}}var c=d(Array.prototype.slice);var h=d(Array.prototype.reduce||function(e,t){var r=0,i=this.length;if(arguments.length===1){do{if(r in this){t=this[r++];break}if(++r>=i){throw new TypeError}}while(1)}for(;r<i;r++){if(r in this){t=e(t,this[r],r)}}return t});var l=d(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++){if(this[t]===e){return t}}return-1});var f=d(Array.prototype.map||function(e,t){var r=this;var i=[];h(r,function(a,n,o){i.push(e.call(t,n,o,r))},void 0);return i});var u=Object.create||function(e){function t(){}t.prototype=e;return new t};var p=d(Object.prototype.hasOwnProperty);var b=Object.keys||function(e){var t=[];for(var r in e){if(p(e,r)){t.push(r)}}return t};var y=d(Object.prototype.toString);function v(e){return e===Object(e)}function g(e){return y(e)==="[object StopIteration]"||e instanceof m}var m;if(typeof ReturnValue!=="undefined"){m=ReturnValue}else{m=function(e){this.value=e}}var x="From previous event:";function _(e,r){if(t&&r.stack&&typeof e==="object"&&e!==null&&e.stack&&e.stack.indexOf(x)===-1){var i=[];
for(var a=r;!!a;a=a.source){if(a.stack){i.unshift(a.stack)}}i.unshift(e.stack);var n=i.join("\n"+x+"\n");e.stack=w(n)}}function w(e){var t=e.split("\n");var r=[];for(var i=0;i<t.length;++i){var a=t[i];if(!A(a)&&!T(a)&&a){r.push(a)}}return r.join("\n")}function T(e){return e.indexOf("(module.js:")!==-1||e.indexOf("(node.js:")!==-1}function S(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t){return[t[1],Number(t[2])]}var r=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(r){return[r[1],Number(r[2])]}var i=/.*@(.+):(\d+)$/.exec(e);if(i){return[i[1],Number(i[2])]}}function A(e){var t=S(e);if(!t){return false}var r=t[0];var n=t[1];return r===a&&n>=i&&n<=st}function C(){if(!t){return}try{throw new Error}catch(e){var r=e.stack.split("\n");var i=r[0].indexOf("@")>0?r[1]:r[2];var n=S(i);if(!n){return}a=n[0];return n[1]}}function E(e,t,r){return function(){if(typeof console!=="undefined"&&typeof console.warn==="function"){console.warn(t+" is deprecated, use "+r+" instead.",new Error("").stack)}return e.apply(e,arguments)}}function M(e){if(F(e)){return e}if(P(e)){return q(e)}else{return X(e)}}M.resolve=M;M.nextTick=o;M.longStackSupport=false;M.defer=R;function R(){var e=[],r=[],i;var a=u(R.prototype);var n=u(L.prototype);n.promiseDispatch=function(t,a,n){var s=c(arguments);if(e){e.push(s);if(a==="when"&&n[1]){r.push(n[1])}}else{o(function(){i.promiseDispatch.apply(i,s)})}};n.valueOf=function(){if(e){return n}var t=j(i);if(F(t)){i=t}return t};n.inspect=function(){if(!i){return{state:"pending"}}return i.inspect()};if(M.longStackSupport&&t){try{throw new Error}catch(s){n.stack=s.stack.substring(s.stack.indexOf("\n")+1)}}function d(t){i=t;n.source=t;h(e,function(e,r){o(function(){t.promiseDispatch.apply(t,r)})},void 0);e=void 0;r=void 0}a.promise=n;a.resolve=function(e){if(i){return}d(M(e))};a.fulfill=function(e){if(i){return}d(X(e))};a.reject=function(e){if(i){return}d(V(e))};a.notify=function(e){if(i){return}h(r,function(t,r){o(function(){r(e)})},void 0)};return a}R.prototype.makeNodeResolver=function(){var e=this;return function(t,r){if(t){e.reject(t)}else if(arguments.length>2){e.resolve(c(arguments,1))}else{e.resolve(r)}}};M.Promise=$;M.promise=$;function $(e){if(typeof e!=="function"){throw new TypeError("resolver must be a function.")}var t=R();try{e(t.resolve,t.reject,t.notify)}catch(r){t.reject(r)}return t.promise}$.race=B;$.all=rt;$.reject=V;$.resolve=M;M.passByCopy=function(e){return e};L.prototype.passByCopy=function(){return this};M.join=function(e,t){return M(e).join(t)};L.prototype.join=function(e){return M([this,e]).spread(function(e,t){if(e===t){return e}else{throw new Error("Can't join: not the same: "+e+" "+t)}})};M.race=B;function B(e){return $(function(t,r){for(var i=0,a=e.length;i<a;i++){M(e[i]).then(t,r)}})}L.prototype.race=function(){return this.then(M.race)};M.makePromise=L;function L(e,t,r){if(t===void 0){t=function(e){return V(new Error("Promise does not support operation: "+e))}}if(r===void 0){r=function(){return{state:"unknown"}}}var i=u(L.prototype);i.promiseDispatch=function(r,a,n){var o;try{if(e[a]){o=e[a].apply(i,n)}else{o=t.call(i,a,n)}}catch(s){o=V(s)}if(r){r(o)}};i.inspect=r;if(r){var a=r();if(a.state==="rejected"){i.exception=a.reason}i.valueOf=function(){var e=r();if(e.state==="pending"||e.state==="rejected"){return i}return e.value}}return i}L.prototype.toString=function(){return"[object Promise]"};L.prototype.then=function(e,t,r){var i=this;var a=R();var n=false;function s(t){try{return typeof e==="function"?e(t):t}catch(r){return V(r)}}function d(e){if(typeof t==="function"){_(e,i);try{return t(e)}catch(r){return V(r)}}return V(e)}function c(e){return typeof r==="function"?r(e):e}o(function(){i.promiseDispatch(function(e){if(n){return}n=true;a.resolve(s(e))},"when",[function(e){if(n){return}n=true;a.resolve(d(e))}])});i.promiseDispatch(void 0,"when",[void 0,function(e){var t;var r=false;try{t=c(e)}catch(i){r=true;if(M.onerror){M.onerror(i)}else{throw i}}if(!r){a.notify(t)}}]);return a.promise};M.when=I;function I(e,t,r,i){return M(e).then(t,r,i)}L.prototype.thenResolve=function(e){return this.then(function(){return e})};M.thenResolve=function(e,t){return M(e).thenResolve(t)};L.prototype.thenReject=function(e){return this.then(function(){throw e})};M.thenReject=function(e,t){return M(e).thenReject(t)};M.nearer=j;function j(e){if(F(e)){var t=e.inspect();if(t.state==="fulfilled"){return t.value}}return e}M.isPromise=F;function F(e){return v(e)&&typeof e.promiseDispatch==="function"&&typeof e.inspect==="function"}M.isPromiseAlike=P;function P(e){return v(e)&&typeof e.then==="function"}M.isPending=k;function k(e){return F(e)&&e.inspect().state==="pending"}L.prototype.isPending=function(){return this.inspect().state==="pending"};M.isFulfilled=D;function D(e){return!F(e)||e.inspect().state==="fulfilled"}L.prototype.isFulfilled=function(){return this.inspect().state==="fulfilled"};M.isRejected=O;function O(e){return F(e)&&e.inspect().state==="rejected"}L.prototype.isRejected=function(){return this.inspect().state==="rejected"};var N=[];var U=[];var G=true;function W(){N.length=0;U.length=0;if(!G){G=true}}function Y(e,t){if(!G){return}U.push(e);if(t&&typeof t.stack!=="undefined"){N.push(t.stack)}else{N.push("(no stack) "+t)}}function z(e){if(!G){return}var t=l(U,e);if(t!==-1){U.splice(t,1);N.splice(t,1)}}M.resetUnhandledRejections=W;M.getUnhandledReasons=function(){return N.slice()};M.stopUnhandledRejectionTracking=function(){W();G=false};W();M.reject=V;function V(e){var t=L({when:function(t){if(t){z(this)}return t?t(e):this}},function r(){return this},function i(){return{state:"rejected",reason:e}});Y(t,e);return t}M.fulfill=X;function X(e){return L({when:function(){return e},get:function(t){return e[t]},set:function(t,r){e[t]=r},"delete":function(t){delete e[t]},post:function(t,r){if(t===null||t===void 0){return e.apply(void 0,r)}else{return e[t].apply(e,r)}},apply:function(t,r){return e.apply(t,r)},keys:function(){return b(e)}},void 0,function t(){return{state:"fulfilled",value:e}})}function q(e){var t=R();o(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(r){t.reject(r)}});return t.promise}M.master=H;function H(e){return L({isDef:function(){}},function t(r,i){return tt(e,r,i)},function(){return M(e).inspect()})}M.spread=K;function K(e,t,r){return M(e).spread(t,r)}L.prototype.spread=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)};M.async=J;function J(e){return function(){function t(e,t){var n;if(typeof StopIteration==="undefined"){try{n=r[e](t)}catch(o){return V(o)}if(n.done){return n.value}else{return I(n.value,i,a)}}else{try{n=r[e](t)}catch(o){if(g(o)){return o.value}else{return V(o)}}return I(n,i,a)}}var r=e.apply(this,arguments);var i=t.bind(t,"next");var a=t.bind(t,"throw");return i()}}M.spawn=Q;function Q(e){M.done(M.async(e)())}M["return"]=Z;function Z(e){throw new m(e)}M.promised=et;function et(e){return function(){return K([this,rt(arguments)],function(t,r){return e.apply(t,r)})}}M.dispatch=tt;function tt(e,t,r){return M(e).dispatch(t,r)}L.prototype.dispatch=function(e,t){var r=this;var i=R();o(function(){r.promiseDispatch(i.resolve,e,t)});return i.promise};M.get=function(e,t){return M(e).dispatch("get",[t])};L.prototype.get=function(e){return this.dispatch("get",[e])};M.set=function(e,t,r){return M(e).dispatch("set",[t,r])};L.prototype.set=function(e,t){return this.dispatch("set",[e,t])};M.del=M["delete"]=function(e,t){return M(e).dispatch("delete",[t])};L.prototype.del=L.prototype["delete"]=function(e){return this.dispatch("delete",[e])};M.mapply=M.post=function(e,t,r){return M(e).dispatch("post",[t,r])};L.prototype.mapply=L.prototype.post=function(e,t){return this.dispatch("post",[e,t])};M.send=M.mcall=M.invoke=function(e,t){return M(e).dispatch("post",[t,c(arguments,2)])};L.prototype.send=L.prototype.mcall=L.prototype.invoke=function(e){return this.dispatch("post",[e,c(arguments,1)])};M.fapply=function(e,t){return M(e).dispatch("apply",[void 0,t])};L.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])};M["try"]=M.fcall=function(e){return M(e).dispatch("apply",[void 0,c(arguments,1)])};L.prototype.fcall=function(){return this.dispatch("apply",[void 0,c(arguments)])};M.fbind=function(e){var t=M(e);var r=c(arguments,1);return function i(){return t.dispatch("apply",[this,r.concat(c(arguments))])}};L.prototype.fbind=function(){var e=this;var t=c(arguments);return function r(){return e.dispatch("apply",[this,t.concat(c(arguments))])}};M.keys=function(e){return M(e).dispatch("keys",[])};L.prototype.keys=function(){return this.dispatch("keys",[])};M.all=rt;function rt(e){return I(e,function(e){var t=0;var r=R();h(e,function(i,a,n){var o;if(F(a)&&(o=a.inspect()).state==="fulfilled"){e[n]=o.value}else{++t;I(a,function(i){e[n]=i;if(--t===0){r.resolve(e)}},r.reject,function(e){r.notify({index:n,value:e})})}},void 0);if(t===0){r.resolve(e)}return r.promise})}L.prototype.all=function(){return rt(this)};M.allResolved=E(it,"allResolved","allSettled");function it(e){return I(e,function(e){e=f(e,M);return I(rt(f(e,function(e){return I(e,n,n)})),function(){return e})})}L.prototype.allResolved=function(){return it(this)};M.allSettled=at;function at(e){return M(e).allSettled()}L.prototype.allSettled=function(){return this.then(function(e){return rt(f(e,function(e){e=M(e);function t(){return e.inspect()}return e.then(t,t)}))})};M.fail=M["catch"]=function(e,t){return M(e).then(void 0,t)};L.prototype.fail=L.prototype["catch"]=function(e){return this.then(void 0,e)};M.progress=nt;function nt(e,t){return M(e).then(void 0,void 0,t)}L.prototype.progress=function(e){return this.then(void 0,void 0,e)};M.fin=M["finally"]=function(e,t){return M(e)["finally"](t)};L.prototype.fin=L.prototype["finally"]=function(e){e=M(e);return this.then(function(t){return e.fcall().then(function(){return t})},function(t){return e.fcall().then(function(){throw t})})};M.done=function(e,t,r,i){return M(e).done(t,r,i)};L.prototype.done=function(t,r,i){var a=function(e){o(function(){_(e,n);if(M.onerror){M.onerror(e)}else{throw e}})};var n=t||r||i?this.then(t,r,i):this;if(typeof e==="object"&&e&&e.domain){a=e.domain.bind(a)}n.then(void 0,a)};M.timeout=function(e,t,r){return M(e).timeout(t,r)};L.prototype.timeout=function(e,t){var r=R();var i=setTimeout(function(){r.reject(new Error(t||"Timed out after "+e+" ms"))},e);this.then(function(e){clearTimeout(i);r.resolve(e)},function(e){clearTimeout(i);r.reject(e)},r.notify);return r.promise};M.delay=function(e,t){if(t===void 0){t=e;e=void 0}return M(e).delay(t)};L.prototype.delay=function(e){return this.then(function(t){var r=R();setTimeout(function(){r.resolve(t)},e);return r.promise})};M.nfapply=function(e,t){return M(e).nfapply(t)};L.prototype.nfapply=function(e){var t=R();var r=c(e);r.push(t.makeNodeResolver());this.fapply(r).fail(t.reject);return t.promise};M.nfcall=function(e){var t=c(arguments,1);return M(e).nfapply(t)};L.prototype.nfcall=function(){var e=c(arguments);var t=R();e.push(t.makeNodeResolver());this.fapply(e).fail(t.reject);return t.promise};M.nfbind=M.denodeify=function(e){var t=c(arguments,1);return function(){var r=t.concat(c(arguments));var i=R();r.push(i.makeNodeResolver());M(e).fapply(r).fail(i.reject);return i.promise}};L.prototype.nfbind=L.prototype.denodeify=function(){var e=c(arguments);e.unshift(this);return M.denodeify.apply(void 0,e)};M.nbind=function(e,t){var r=c(arguments,2);return function(){var i=r.concat(c(arguments));var a=R();i.push(a.makeNodeResolver());function n(){return e.apply(t,arguments)}M(n).fapply(i).fail(a.reject);return a.promise}};L.prototype.nbind=function(){var e=c(arguments,0);e.unshift(this);return M.nbind.apply(void 0,e)};M.nmapply=M.npost=function(e,t,r){return M(e).npost(t,r)};L.prototype.nmapply=L.prototype.npost=function(e,t){var r=c(t||[]);var i=R();r.push(i.makeNodeResolver());this.dispatch("post",[e,r]).fail(i.reject);return i.promise};M.nsend=M.nmcall=M.ninvoke=function(e,t){var r=c(arguments,2);var i=R();r.push(i.makeNodeResolver());M(e).dispatch("post",[t,r]).fail(i.reject);return i.promise};L.prototype.nsend=L.prototype.nmcall=L.prototype.ninvoke=function(e){var t=c(arguments,1);var r=R();t.push(r.makeNodeResolver());this.dispatch("post",[e,t]).fail(r.reject);return r.promise};M.nodeify=ot;function ot(e,t){return M(e).nodeify(t)}L.prototype.nodeify=function(e){if(e){this.then(function(t){o(function(){e(null,t)})},function(t){o(function(){e(t)})})}else{return this}};var st=C();return M})}).call(this,e("_process"))},{_process:117}],139:[function(e,t,r){(function(i){if(typeof r==="object"){t.exports=i(e("q"))}else if(typeof define==="function"&&define.amd){define(["q"],i)}else{Qajax=i(Q)}})(function(e){"use strict";var t=function(){var t=arguments,d;if(!t.length){throw new Error("Qajax: settings are required")}if(typeof t[0]==="string"){d=typeof t[1]==="object"&&t[1]||{};d.url=t[0]}else if(typeof t[0]==="object"){d=t[0]}else{throw new Error("Qajax: settings must be an object")}if(!d.url){throw new Error("Qajax: settings.url is required")}if("cancellation"in d&&!e.isPromiseAlike(d.cancellation)){throw new Error("cancellation must be a Promise.")}var c=new XMLHttpRequest,h=d.cancellation||e.defer().promise,l=r("method",d),f=r("base",d),u=d.url,p=d.data,b=d.responseType,y=d.params||{},v=e.defer(),g=r("timeout",d),m=i({},r("headers",d)),x=r("cache",d);if(x){y[x===true?"_":x]=(new Date).getTime()}if(f){u=f+u}var _=a(y);if(_){u=u+(n(u)?"?":"&")+_}if(p!==null&&typeof p==="object"){if(!(s in m)){m[s]="application/json"}p=JSON.stringify(p)}return e.fcall(function(){c.onreadystatechange=function(){if(c.readyState===4){try{o(l+" "+u+" => "+c.status);if(c.status){v.resolve(c)}else{v.reject(c)}}catch(e){v.reject(c)}}};c.onprogress=function(e){v.notify(e)};c.open(l,u,true);if(b){c.responseType=b}for(var e in m){if(m.hasOwnProperty(e)){c.setRequestHeader(e,m[e])}}if(p!==undefined&&p!==null){c.send(p)}else{c.send()}h.fin(function(){if(!v.promise.isFulfilled()){o("Qajax cancellation reached.");c.abort()}});if(!g){return v.promise}else{return v.promise.timeout(g).fail(function(e){if(e instanceof Error){o("Qajax request delay reach in "+l+" "+u);c.abort()}throw c})}})};t.TIMEOUT=undefined;t.defaults={logs:false,timeout:6e4,cache:!!(window.ActiveXObject||"ActiveXObject"in window),method:"GET",headers:{},base:""};t.filterStatus=function(t){var r,i;i=typeof t;if(i==="function"){r=t}else if(i==="number"){r=function(e){return e===t}}else{throw"validStatus type "+i+" unsupported"}return function(t){var i=0;try{i=t.status}catch(a){o("Qajax: failed to read xhr.status")}if(i===1223){i=204}return r(i)?e.resolve(t):e.reject(t)}};t.filterSuccess=t.filterStatus(function(e){return e>=200&&e<300||e===304});t.toJSON=function(t){return e.fcall(function(){return JSON.parse(t.responseText)})};t.getJSON=function(e){return t({url:e,method:"GET"}).then(t.filterSuccess).then(t.toJSON)};t.serialize=a;function r(e,r){return e in r?r[e]:t.defaults[e]}function i(e,t){for(var r in t){if(t.hasOwnProperty(r)){e[r]=t[r]}}return e}function a(e){var t,r=[];for(t in e){if(e.hasOwnProperty(t)){r.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]))}}return r.join("&")}function n(e){return e.indexOf("?")===-1}function o(e){if(t.defaults.logs&&window.console){console.log(e)}}var s="Content-Type";return t})},{q:138}],140:[function(e,t,r){(function(t,r,i,a,n,o,s,d,c){var h=i.pow(a,n),l=i.pow(2,o),f=l*2,u=a-1,p;var b=i["seed"+c]=function(e,t,o){var s=[];t=t==true?{entropy:true}:t||{};var d=g(v(t.entropy?[e,x(r)]:e==null?m():e,3),s);var u=new y(s);g(x(u.S),r);return(t.pass||o||function(e,t,r){if(r){i[c]=e;return t}else return e})(function(){var e=u.g(n),t=h,r=0;while(e<l){e=(e+r)*a;t*=a;r=u.g(1)}while(e>=f){e/=2;t/=2;r>>>=1}return(e+r)/t},d,"global"in t?t.global:this==i)};function y(e){var t,r=e.length,i=this,n=0,o=i.i=i.j=0,s=i.S=[];if(!r){e=[r++]}while(n<a){s[n]=n++}for(n=0;n<a;n++){s[n]=s[o=u&o+e[n%r]+(t=s[n])];s[o]=t}(i.g=function(e){var t,r=0,n=i.i,o=i.j,s=i.S;while(e--){t=s[n=u&n+1];r=r*a+s[u&(s[n]=s[o=u&o+t])+(s[o]=t)]}i.i=n;i.j=o;return r})(a)}function v(e,t){var r=[],i=typeof e,a;if(t&&i=="object"){for(a in e){try{r.push(v(e[a],t-1))}catch(n){}}}return r.length?r:i=="string"?e:e+"\x00"}function g(e,t){var r=e+"",i,a=0;while(a<r.length){t[u&a]=u&(i^=t[u&a]*19)+r.charCodeAt(a++)}return x(t)}function m(e){try{if(p)return x(p.randomBytes(a));t.crypto.getRandomValues(e=new Uint8Array(a));return x(e)}catch(i){return[+new Date,t,(e=t.navigator)&&e.plugins,t.screen,x(r)]}}function x(e){return String.fromCharCode.apply(0,e)}g(i[c](),r);if(s&&s.exports){s.exports=b;try{p=e("crypto")}catch(_){}}else if(d&&d.amd){d(function(){return b})}})(this,[],Math,256,6,52,typeof t=="object"&&t,typeof define=="function"&&define,"random")},{crypto:10}],141:[function(e,t,r){t.exports=function i(e,t,r){var i=Math.max(0,Math.min(1,(r-e)/(t-e)));return i*i*(3-2*i)}},{}],142:[function(e,t,r){var i=e("pixi.js");var a=e("./utils/spriteCollides");var n=[i.Texture.fromImage("./img/car1.png"),i.Texture.fromImage("./img/car2.png"),i.Texture.fromImage("./img/car3.png"),i.Texture.fromImage("./img/car4.png"),i.Texture.fromImage("./img/car5.png"),i.Texture.fromImage("./img/car6.png"),i.Texture.fromImage("./img/car7.png"),i.Texture.fromImage("./img/car8.png"),i.Texture.fromImage("./img/car9.png"),i.Texture.fromImage("./img/car10.png")];function o(e){i.Sprite.call(this,n[~~(e()*n.length)]);this.width=0;this.height=0}o.prototype=Object.create(i.Sprite.prototype);o.prototype.constructor=o;o.prototype.update=function(){this.width=this.vel[0]<0?-84:84;this.height=48};o.prototype.hitBox=function(){var e=Math.abs(this.width);return{x:Math.min(this.x,this.x+this.width)-this.pivot.x+e*.2,y:Math.min(this.y,this.y+this.height)-this.pivot.y,width:e*.6,height:Math.abs(this.height)}};o.prototype.collides=a;t.exports=o},{"./utils/spriteCollides":163,"pixi.js":137}],143:[function(e,t,r){var i=e("pixi.js");var a=e("smoothstep");var n=e("./font");var o=e("./Player");var s=i.Texture.fromImage("./img/dead_carrot.png");function d(e,t,r,a){i.DisplayObjectContainer.call(this);var d=new i.Sprite(s);d.pivot.set(12,24);var c=new i.Text(e.player,{align:"center",font:"normal "+(a||10)+"px "+n.name,fill:r?"#F40":"#C40"});c.position.set(-c.width/2,0);this.position.set(e.x,o.scoreToY(e.score));this.addChild(d);this.addChild(c);this.alpha=e.opacity;this.animated=t;this.start=Date.now()}d.prototype=Object.create(i.DisplayObjectContainer.prototype);d.prototype.constructor=d;d.prototype.update=function(){if(this.animated){var e=1+a(4e3,0,Date.now()-this.start);this.scale.set(e,e)}};t.exports=d},{"./Player":151,"./font":160,"pixi.js":137,smoothstep:141}],144:[function(e,t,r){var i=e("pixi.js");var a=e("./utils/spriteCollides");var n=i.Texture.fromImage("./img/fireball.png");function o(e){i.Sprite.call(this,n);var e=.3+.2*Math.random()+.5*Math.random()*Math.random();this.scale.set(e,e)}o.prototype=Object.create(i.Sprite.prototype);o.prototype.constructor=o;o.prototype.update=function(){if(this.position.y>0)this.parent.removeChild(this)};o.prototype.hitBox=function(){return{x:this.x-this.pivot.x*this.scale.x+.2*this.width,y:this.y-this.pivot.y*this.scale.y+.2*this.height,width:this.width*.6,height:this.height*.6}};o.prototype.explodeInWorld=function(e){e.fireballExplode(this)};o.prototype.hitPlayer=function(e){e.onFireball(this)};o.prototype.collides=a;t.exports=o},{"./utils/spriteCollides":163,"pixi.js":137}],145:[function(e,t,r){var i=e("pixi.js");var a=e("./utils/tilePIXI");var n=i.Texture.fromImage("./img/foots.png");var o=[0,1,2,3,4,5,6,7,8,9].map(function(e){return a.tile24(n,0,e)});function s(e){i.Sprite.call(this,o[~~(Math.random()*o.length)]);this.position.x=e.x;this.position.y=e.y;this.rotation=Math.random()*2*Math.PI;this.pivot.set(12,12)}s.prototype=Object.create(i.Sprite.prototype);s.prototype.constructor=s;t.exports=s},{"./utils/tilePIXI":165,"pixi.js":137}],146:[function(e,t,r){var i=e("pixi.js");var a=e("./font");var n=[i.Texture.fromImage("./img/scoreIcon1.png"),i.Texture.fromImage("./img/scoreIcon2.png"),i.Texture.fromImage("./img/scoreIcon3.png")];function o(e,t){i.DisplayObjectContainer.call(this);if(n[t]){var r=new i.Sprite(n[t]);r.position.set(0,0);this.addChild(r)}var o=new i.Text(e.player,{align:"center",font:"normal 10px "+a.name,fill:"#C40"});o.position.set(30,10);this.addChild(o);var s=new i.Text(e.score,{align:"center",font:"bold 12px "+a.name,fill:"#C40"});s.position.set(100,10);this.addChild(s)}o.prototype=Object.create(i.DisplayObjectContainer.prototype);o.prototype.constructor=o;t.exports=o},{"./font":160,"pixi.js":137}],147:[function(e,t,r){var i=e("pixi.js");var a=e("./HighScore");var n=e("./network");var o=i.Texture.fromImage("./img/homebg.png");function s(){i.Sprite.call(this,o);var e=this;n.initialScores().then(function(t){t=[].concat(t);t.sort(function(e,t){return t.score-e.score});var r=t.splice(0,5);r.forEach(function(t,r){var i=new a(t,r);i.position.set(40,240+30*r);e.addChild(i)})}).done()}s.prototype=Object.create(i.Sprite.prototype);s.prototype.constructor=s;t.exports=s},{"./HighScore":146,"./network":161,"pixi.js":137}],148:[function(e,t,r){var i=e("seedrandom");var a=e("pixi.js");var n=e("smoothstep");var o=e("./utils/mix");var s=e("./conf");var d=e("./HomeTile");var c=e("./MapTile");var h=e("./Spawner");var l=e("./Car");var f=e("./Fireball");var u=e("./Snowball");function p(e,t,r){a.DisplayObjectContainer.call(this);this.random=i(e);this.addChild(new d);this.y=0;var n=0;for(var o=0;o<999;++o){n-=480;var s=new c(o);s.position.y=n;this.addChild(s)}this.cars=t;this.spawners=r}p.prototype=Object.create(a.DisplayObjectContainer.prototype);p.prototype.constructor=p;p.prototype.update=function(e,t){};p.prototype.addCarPath=function(e,t,r,i,a,n,o,d){d=Math.random.bind(Math);var c=10;var f=[];for(var u=0;u<c;++u){var p=(u%2?-1:1)*~~(1+((u%2?n:a)-1)*d());f.push(p)}var b=[r?-100:s.WIDTH+100,t];var y=new h({seed:t,spawn:function(e,t){return new l(t)},pos:b,ang:r?0:Math.PI,vel:i,speed:80*(1+(o||0))/i,seq:f,livingBound:{x:-100,y:t,height:100,width:s.WIDTH+200}});y.init(e);this.cars.addChild(y);return y};p.prototype.addDirectionalParticleSpawner=function(e,t,r,i,a,n,o){var s=new h({seed:""+r,spawn:function(e,r){var i=.3+.3*r()+.3*r()*r();return new t(i)},pos:r,ang:i,vel:a,speed:n,seq:o,life:6e3});s.init(e);this.spawners.addChild(s);return s};p.prototype.addRotatingParticleSpawner=function(e,t,r,i,a,n,o){var s=new h({seed:""+r,spawn:function(e,r){var i=.3+.3*r()+.3*r()*r();return new t(i)},pos:r,vel:a,rotate:i,speed:n,seq:o,life:6e3,angle:0});s.init(e);this.spawners.addChild(s);return s};var b=60;var y=a.Texture.fromImage("/img/road.png");var v=a.Texture.fromImage("/img/roadin.png");var g=a.Texture.fromImage("/img/roadout.png");var m=a.Texture.fromImage("/img/roadseparator.png");p.prototype.addRoads=function(e,t){for(var r=0;r<t;++r){var i=new a.Sprite(y);i.position.set(0,e+r*b);this.addChild(i);if(r==0){i=new a.Sprite(g);i.position.set(0,e+r*b-10);this.addChild(i)}if(r==t-1){i=new a.Sprite(v);i.position.set(0,e+r*b+10);this.addChild(i)}if(r>0){var n=new a.Sprite(m);n.position.set(-~~(100*Math.random()),e+r*b-8);this.addChild(n)}}};p.prototype.nSpawner=function(e,t,r,i,a,n){this.addRotatingParticleSpawner(e,t,r,a+2*Math.PI/i,.25,n/i)};p.prototype.allocChunk=function(e,t){var r=this.random;var i=-480*t;var a,d,c,h,l,p,y;var v,g,m;if(t>0){d=~~Math.min(6,2*r()*r()+r()*(t/8)+1);for(l=0;l<d;++l){y=.05+.05*r()+.004*(t+10*r()+50*r()*r());v=3+t/20*r()+6*r()*r();g=8-5*o(n(0,20,t*r()),r(),.5)+r()/(t/5);m=.2+.3*r();this.addCarPath(e,i-100-l*b,l%2===0,y,v,g,m,r)}this.addRoads(i-100-(d-1)*b,d)}if(t>1&&r()<.9){d=3*r()*r()+2*r()*(10-t%10)/10+1;for(l=0;l<d;++l){a=[r()<.5?0:s.WIDTH,i-200*r()-280];c=1+~~(r()*(3*r()+t/8));offset=r()*(r()*.3+.1*(t%24)/24);p=(1-t%50/50)*1e3*(1-r()*r());this.nSpawner(e,u,a,c,offset,p)}}if(t>4&&r()<.9){d=2*r()*r()+r()*(t/8)+t/30+.5;for(l=0;l<d;++l){a=[r()<.5?0:s.WIDTH,i-200*r()-280];c=1+~~(r()*(r()+t/10));offset=r()*(r()*.3+.1*((t+10)%24)/24);p=(1-t%50/50)*1e3*(1-r()*r());this.nSpawner(e,f,a,c,offset,p)}}};t.exports=p},{"./Car":142,"./Fireball":144,"./HomeTile":147,"./MapTile":149,"./Snowball":152,"./Spawner":153,"./conf":159,"./utils/mix":162,"pixi.js":137,seedrandom:140,smoothstep:141}],149:[function(e,t,r){var i=e("pixi.js");var a=[i.Texture.fromImage("./img/map1.png")];function n(e){i.Sprite.call(this,a[e%a.length])}n.prototype=Object.create(i.Sprite.prototype);n.prototype.constructor=n;t.exports=n},{"pixi.js":137}],150:[function(e,t,r){var i=e("pixi.js");function a(e,t,r){i.DisplayObjectContainer.call(this);this.position.x=e.position.x;this.position.y=e.position.y;this.speed=r||100;this.width=e.width;this.height=e.width;this.rotation=Math.random()*2*Math.PI;this.pivot.set(32,32);this.sprites=t.map(function(e){return new i.Sprite(e)})}a.prototype=Object.create(i.DisplayObjectContainer.prototype);a.prototype.constructor=a;a.prototype.update=function(e){if(!this.current){this.start=e}var t=~~((e-this.start)/this.speed);if(t<3){var r=this.sprites[t];if(r!==this.current){if(this.current)this.removeChild(this.current);this.addChild(r);this.current=r}}else{this.parent.removeChild(this)}};t.exports=a},{"pixi.js":137}],151:[function(e,t,r){var i=e("pixi.js");var a=e("./utils/spriteCollides");var n=e("./audio");var o=e("./Foot");var s=e("./conf");var d=i.Texture.fromImage("./img/player.png");var c=[i.Texture.fromImage("./img/player1.png"),d,i.Texture.fromImage("./img/player2.png")];function h(e){this.footprints=e;i.Sprite.call(this,d);this.life=100;this.pivot.set(80,80)}h.prototype=Object.create(i.Sprite.prototype);h.prototype.constructor=h;h.prototype.update=function(e,t){if(this.dead)return;var r=this.controls.x();var i=this.controls.y();this.position.x+=.2*r*t;this.position.y-=.2*i*t;this.maxProgress=Math.min(this.maxProgress,this.position.y);this.position.x=Math.max(0,Math.min(this.position.x,s.WIDTH));this.position.y=Math.min(this.position.y,this.maxProgress+120);var a=.6+this.life/150;this.width=40*a;this.height=40*a;if(r||i){if(this.footprints&&Math.random()<.8)this.footprints.addChild(new o(this.position));this.setTexture(c[~~(e/150)%c.length])}else{this.setTexture(d)}if(i<0)this.rotation=Math.PI;else if(i>0)this.rotation=0;else if(r>0)this.rotation=Math.PI/2;else if(r<0)this.rotation=-Math.PI/2};h.prototype.hitBox=function(){return{x:this.x-this.pivot.x*this.scale.x+this.width*.25,y:this.y-this.pivot.y*this.scale.y+this.height*.2,width:this.width*.5,height:this.height*.6}};h.prototype.onProjectile=function(e){var t=2*e.width;this.position.x+=t*e.vel[0];this.position.y+=t*e.vel[1]};h.prototype.onSnowball=function(e){this.life+=10;this.onProjectile(e)};h.prototype.onFireball=function(e){this.life-=10;this.onProjectile(e)};h.prototype.onCarHit=function(){this.life=0;n.play("carHit",null,1)};h.prototype.collidesCar=function(e){return collideRectangle(this,e)};h.prototype.collidesParticle=function(e){return collideRectangle(this,e)};h.prototype.collides=a;h.prototype.getScore=function(){return{player:h.getPlayerName(),x:~~this.position.x,score:h.getPlayerScore(this)}};h.getPlayerScore=function(e){return~~Math.max(0,-e.maxProgress)};h.getPlayerName=function(){var e=window.localStorage.player||prompt("What's your name? (3 to 10 alphanum characters)");if(!e)return null;if(!/^[a-zA-Z0-9]{3,10}$/.exec(e))return h.getPlayerName();return window.localStorage.player=e};h.scoreToY=function(e){return-e};t.exports=h},{"./Foot":145,"./audio":156,"./conf":159,"./utils/spriteCollides":163,"pixi.js":137}],152:[function(e,t,r){var i=e("pixi.js");var a=e("./utils/spriteCollides");var n=i.Texture.fromImage("./img/snowball.png");function o(e){i.Sprite.call(this,n);this.scale.set(e,e)}o.prototype=Object.create(i.Sprite.prototype);o.prototype.constructor=o;o.prototype.update=function(){};o.prototype.hitBox=function(){return{x:this.x-this.pivot.x*this.scale.x,y:this.y-this.pivot.y*this.scale.y,width:this.width,height:this.height}};o.prototype.explodeInWorld=function(e){e.snowballExplode(this)};o.prototype.hitPlayer=function(e){e.onSnowball(this)};o.prototype.collides=a;t.exports=o},{"./utils/spriteCollides":163,"pixi.js":137}],153:[function(e,t,r){var i=e("pixi.js");var a=e("lodash");var n=e("seedrandom");var o=e("./behavior/updateChildren");var s=e("./behavior/findChildrenCollide");var d={initialTime:0,speed:1e3,rotate:0,pos:[0,0],ang:0,vel:.1,seq:null,spawn:null,life:1e4,livingBound:null,randLife:0,randPos:0,randAngle:0,randVel:0,seed:""};function c(e){i.DisplayObjectContainer.call(this);a.extend(this,d,e);if(typeof this.spawn!=="function")throw new Error("spawn function must be implemented and return a PIXI object.")}c.prototype=Object.create(i.DisplayObjectContainer.prototype);c.prototype.constructor=c;Object.defineProperty(c.prototype,"seq",{set:function(e){this._seq=e;if(e){var t=e.reduce(function(e,t){return e+Math.abs(t)},0);var r=new Uint8Array(t);var i=0;for(var a=0;a<e.length;++a){var n=e[a];var o=Math.abs(n);for(var s=0;s<o;++s){r[i++]=n>0?1:0}}this.pattern=r}},get:function(){return this._seq}});c.prototype.init=function(e){var t=e-this.initialTime;var r=Math.floor(t/this.speed);var i=t-r*this.speed;if(this.pattern){var a=r%this.pattern.length;this._ip=a}this.lastPop=t+i-this.speed;this.lastti=r};c.prototype.update=function(e,t){o.apply(this,arguments);this.children.forEach(function(r){r.position.x+=r.vel[0]*t;r.position.y+=r.vel[1]*t;if(e>r._dieAfter||this.livingBound&&!r.collides(this.livingBound)){this.removeChild(r)}},this);var r=Math.floor((e-this.initialTime)/this.speed);while(this.lastti<r){var i=++this.lastti;var a=i*this.speed;var s=e-a;if(this.pattern){var d=this.pattern[this._ip]===0;this._ip=this._ip>=this.pattern.length-1?0:this._ip+1;if(d)return}var c=n(this.seed+""+i);var h=this.spawn(i,c);var l=this.ang+this.randAngle*(c()-.5)+this.rotate*i%(2*Math.PI);var f=this.vel+this.randVel*(c()-.5);h.vel=[f*Math.cos(l),-f*Math.sin(l)];h.position.x=this.pos[0]+this.randPos*(c()-.5)+h.vel[0]*s;h.position.y=this.pos[1]+this.randPos*(c()-.5)+h.vel[1]*s;h._dieAfter=a+this.life+this.randLife*(c()-.5);this.addChild(h)}};c.prototype.collides=s;t.exports=c},{"./behavior/findChildrenCollide":157,"./behavior/updateChildren":158,lodash:136,"pixi.js":137,seedrandom:140}],154:[function(e,t,r){var i=e("pixi.js");var a=e("./behavior/updateChildren");var n=e("./behavior/findChildrenCollide");function o(){i.DisplayObjectContainer.call(this)}o.prototype=Object.create(i.DisplayObjectContainer.prototype);o.prototype.constructor=o;o.prototype.update=a;o.prototype.collides=n;t.exports=o},{"./behavior/findChildrenCollide":157,"./behavior/updateChildren":158,"pixi.js":137}],155:[function(e,t,r){var i=e("pixi.js");var a=e("./audio");var n=e("./conf");var o=e("./DeadCarrot");var s=e("./ParticleExplosion");var d=e("./behavior/updateChildren");var c=e("./utils/spriteIntersect");var h=e("./utils/tilePIXI");var l=h.tile64;var f=i.Texture.fromImage("./img/fireexplosion.png");var u=[l(f,0,0),l(f,1,0),l(f,2,0)];var p=i.Texture.fromImage("./img/snowexplosion.png");var b=[l(p,0,0),l(p,1,0),l(p,2,0)];var v=i.Texture.fromImage("./img/playerexplosion.png");var g=[l(v,0,0),l(v,1,0),l(v,2,0)];function m(){i.DisplayObjectContainer.call(this)}m.prototype=Object.create(i.DisplayObjectContainer.prototype);m.prototype.constructor=m;m.prototype.update=d;m.prototype.playerDied=function(e){var t=e.getScore();t.opacity=1;var r=this;setTimeout(function(){r.addChild(new o(t,true,true))},800);this.addChild(new s(e,g,250))};m.prototype.snowballExplode=function(e){a.play("snowballHit",e,.6);this.addChild(new s(e,b))};m.prototype.carHitPlayerExplode=function(e,t){var r=c(e,t);var i=r.from.x+(r.to.x-r.from.x)/2;var a=r.from.y+(r.to.y-r.from.y)/2};m.prototype.fireballExplode=function(e){a.play("burn",e,.3);this.addChild(new s(e,u))};m.prototype.focusOn=function(e){y=n.HEIGHT-Math.max(e.position.y,e.maxProgress+120);this.position.y=this.position.y+(y-this.position.y)*.06};t.exports=m},{"./DeadCarrot":143,"./ParticleExplosion":150,"./audio":156,"./behavior/updateChildren":158,"./conf":159,"./utils/spriteIntersect":164,"./utils/tilePIXI":165,"pixi.js":137}],156:[function(e,t,r){var i=e("jsfxr");
var a=null;var n=e("smoothstep");function o(e){return i([3,,.2597,.3427,.3548,.04+.03*e,,.1573,,,,,,,,,.3027,-.0823,1,,,,,.5])}var s={burn:[o(0),o(.2),o(.4),o(.6),o(.8),o(1)],snowballHit:i([3,.03,.1,.14,.28,.92,,-.02,,,,.0155,.8768,,,,,,.35,,,,,.5]),carHit:i([0,,.11,,.1997,.29,,-.3599,-.04,,,,,.1609,,,,,1,,,,,.5]),car:[i([3,.3,.7,,.82,.23,,-.0999,,,,-.02,,,,,.62,,.09,,,.55,,.5]),i([3,.4,.7,,.82,.13,,.08,,,,-.02,,,,,.62,,.09,,,.55,,.5]),i([2,.29,.6,,.66,.12,,-.04,,,,-.02,,,,,.62,,.08,,,.33,-.02,.5])]};function d(e){var t=0;var r;function i(){var a=new Audio;a.addEventListener("ended",function(){i()});a.src=e;a.volume=t;a.play();r=a}i();return{setVolume:function(e){r.volume=t=e}}}function c(e,t,r){if(!a)return;if(typeof e==="string")e=s[e];if(typeof e==="object"&&e.length){return c(e[~~(Math.random()*e.length)],t,r)}var r=r||1;if(t){var i=t.x-a.x;var o=t.y-a.y;var d=Math.sqrt(i*i+o*o);r*=Math.pow(n(350,40,d),3)}if(!r)return;var h=new Audio;h.src=e;h.volume=r;h.play()}t.exports={micOn:function(e){a=e},play:c,loop:d}},{jsfxr:135,smoothstep:141}],157:[function(e,t,r){t.exports=function i(e){for(var t=0;t<this.children.length;++t){var r=this.children[t].collides(e);if(r)return r}return null}},{}],158:[function(e,t,r){t.exports=function i(e,t){this.children.forEach(function(r){if(r.update)r.update(e,t)})}},{}],159:[function(e,t,r){t.exports={WIDTH:320,HEIGHT:480}},{}],160:[function(e,t,r){WebFontConfig={google:{families:["Monda:400,700:latin"]}};(function(){var e=document.createElement("script");e.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js";e.type="text/javascript";e.async="true";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})();t.exports={name:"Monda"}},{}],161:[function(e,t,r){var i=e("qajax");var a=e("lodash");var n="/scores";function o(){return i(n).then(i.filterSuccess).then(i.toJSON)}function s(e){return i(n,{method:"PUT",data:e.getScore()}).then(i.filterSuccess)}t.exports={refreshScore:o,submitScore:s,initialScores:a.memoize(o)}},{lodash:136,qajax:139}],162:[function(e,t,r){t.exports=function i(e,t,r){return r*t+(1-r)*e}},{}],163:[function(e,t,r){function i(e,t){return!(t.x>e.x+e.width||t.x+t.width<e.x||t.y>e.y+e.height||t.y+t.height<e.y)}t.exports=function a(e){return i(this.hitBox(),e.hitBox?e.hitBox():e)?this:null}},{}],164:[function(e,t,r){var i=e("pixi.js");function a(e,t){var r=e.x;var a=e.x+e.width;var n=e.y;var o=e.y+e.height;var s=t.x;var d=t.x+t.width;var c=t.y;var h=t.y+t.height;var l=Math.max(r,s);var f=Math.max(n,c);var u=Math.min(a,d);var p=Math.min(o,h);return{from:new i.Point(l,f),to:new i.Point(u,p),width:u-l,height:p-f}}t.exports=function n(e,t){return a(e.hitBox(),t.hitBox())}},{"pixi.js":137}],165:[function(e,t,r){var i=e("pixi.js");function a(e){return function(t,r,a){return new i.Texture(t,{x:r*e,y:a*e,width:e,height:e})}}var n=a(64);var o=a(24);a.tile64=n;a.tile24=o;t.exports=a},{"pixi.js":137}],166:[function(e,t,r){t.exports=[{player:"gre",x:173,score:343,date:1417950173336,_id:{$oid:"548433dda6fcf20b00692828"}},{player:"gre",x:53,score:343,date:1417951008092,_id:{$oid:"5484372010024e0b00cac1ac"}},{player:"gre",x:273,score:416,date:1417951021368,_id:{$oid:"5484372d10024e0b00cac1ad"}},{player:"gre",x:48,score:973,date:1417951045739,_id:{$oid:"5484374510024e0b00cac1ae"}},{player:"gre",x:107,score:443,date:1417952167022,_id:{$oid:"54843ba710024e0b00cac1af"}},{player:"gre",x:133,score:393,date:1417952175325,_id:{$oid:"54843baf10024e0b00cac1b0"}},{player:"gre",x:160,score:466,date:1417953517789,_id:{$oid:"548440ed10024e0b00cac1b1"}},{player:"gre",x:160,score:483,date:1417954916394,_id:{$oid:"54844664400c460b00ada184"}},{player:"gre",x:160,score:342,date:1417955107054,_id:{$oid:"54844723400c460b00ada185"}},{player:"gre",x:52,score:966,date:1417955144394,_id:{$oid:"54844748400c460b00ada186"}},{player:"gre",x:160,score:344,date:1417955158224,_id:{$oid:"54844756400c460b00ada187"}},{player:"gre",x:252,score:343,date:1417955244628,_id:{$oid:"548447ac400c460b00ada188"}},{player:"gre",x:132,score:343,date:1417955388574,_id:{$oid:"5484483c400c460b00ada189"}},{player:"gre",x:287,score:343,date:1417955395408,_id:{$oid:"54844843400c460b00ada18a"}},{player:"gre",x:200,score:343,date:1417955710631,_id:{$oid:"5484497e400c460b00ada18b"}},{player:"gre",x:246,score:444,date:1417955829620,_id:{$oid:"548449f5400c460b00ada18c"}},{player:"gre",x:98,score:606,date:1417959061698,_id:{$oid:"54845695400c460b00ada18d"}},{player:"gre",x:192,score:103,date:1417959070197,_id:{$oid:"5484569e400c460b00ada18e"}},{player:"gre",x:293,score:116,date:1417959079921,_id:{$oid:"548456a7400c460b00ada18f"}},{player:"gre",x:139,score:1206,date:1417959112445,_id:{$oid:"548456c8400c460b00ada190"}},{player:"gre",x:172,score:690,date:1417959124946,_id:{$oid:"548456d4400c460b00ada191"}},{player:"gre",x:206,score:2590,date:1417959187475,_id:{$oid:"54845713400c460b00ada192"}},{player:"gre",x:260,score:1106,date:1417959201361,_id:{$oid:"54845721400c460b00ada193"}},{player:"gre",x:280,score:143,date:1417959533334,_id:{$oid:"5484586d400c460b00ada194"}},{player:"gre",x:226,score:176,date:1417959542460,_id:{$oid:"54845876400c460b00ada195"}},{player:"gre",x:147,score:1066,date:1417960185875,_id:{$oid:"54845af9400c460b00ada196"}},{player:"gre",x:93,score:1690,date:1417960204894,_id:{$oid:"54845b0c400c460b00ada197"}},{player:"gre",x:160,score:466,date:1417960348456,_id:{$oid:"54845b9c400c460b00ada198"}},{player:"gre",x:32,score:651,date:1417961893586,_id:{$oid:"548461a5400c460b00ada199"}},{player:"gre",x:107,score:597,date:1417963022800,_id:{$oid:"5484660e400c460b00ada19a"}},{player:"gre",x:0,score:1603,date:1417963041196,_id:{$oid:"54846621400c460b00ada19b"}},{player:"gre",x:220,score:586,date:1417963050055,_id:{$oid:"5484662a400c460b00ada19c"}},{player:"gre",x:273,score:1560,date:1417963080845,_id:{$oid:"54846648400c460b00ada19d"}},{player:"gre",x:119,score:386,date:1417966385424,_id:{$oid:"54847331400c460b00ada19e"}},{player:"gre",x:114,score:1639,date:1417966545638,_id:{$oid:"548473d1400c460b00ada19f"}},{player:"gre",x:246,score:63,date:1417968591378,_id:{$oid:"54847bcf400c460b00ada1a0"}},{player:"gre",x:232,score:103,date:1417968832558,_id:{$oid:"54847cc0400c460b00ada1a1"}},{player:"gre",x:213,score:43,date:1417968951405,_id:{$oid:"54847d37400c460b00ada1a2"}},{player:"gre",x:139,score:43,date:1417968961068,_id:{$oid:"54847d41400c460b00ada1a3"}},{player:"gre",x:139,score:43,date:1417968968133,_id:{$oid:"54847d48400c460b00ada1a4"}},{player:"gre",x:72,score:359,date:1417969282990,_id:{$oid:"54847e82400c460b00ada1a5"}},{player:"gre",x:179,score:43,date:1417969290596,_id:{$oid:"54847e8a400c460b00ada1a6"}},{player:"gre",x:199,score:43,date:1417969354310,_id:{$oid:"54847eca400c460b00ada1a7"}},{player:"gre",x:119,score:43,date:1417970946842,_id:{$oid:"54848502400c460b00ada1a8"}},{player:"gre",x:186,score:46,date:1417971062230,_id:{$oid:"54848576400c460b00ada1a9"}},{player:"gre",x:59,score:176,date:1417972136849,_id:{$oid:"548489a8400c460b00ada1aa"}},{player:"gre",x:173,score:43,date:1417973337242,_id:{$oid:"54848e59400c460b00ada1ab"}},{player:"gre",x:153,score:206,date:1417973421015,_id:{$oid:"54848ead400c460b00ada1ac"}},{player:"gre",x:126,score:39,date:1417973427915,_id:{$oid:"54848eb3400c460b00ada1ad"}},{player:"gre",x:126,score:39,date:1417973435436,_id:{$oid:"54848ebb400c460b00ada1ae"}},{player:"gre",x:139,score:60,date:1417973444761,_id:{$oid:"54848ec4400c460b00ada1af"}},{player:"gre",x:139,score:163,date:1417973472549,_id:{$oid:"54848ee0400c460b00ada1b0"}},{player:"gre",x:160,score:40,date:1417973508040,_id:{$oid:"54848f04400c460b00ada1b1"}},{player:"gre",x:126,score:86,date:1417973931238,_id:{$oid:"548490ab400c460b00ada1b2"}},{player:"gre",x:79,score:163,date:1417973952160,_id:{$oid:"548490c0400c460b00ada1b3"}},{player:"gre",x:107,score:73,date:1417974011350,_id:{$oid:"548490fb400c460b00ada1b4"}},{player:"gre",x:60,score:179,date:1417974026517,_id:{$oid:"5484910a400c460b00ada1b5"}},{player:"gre",x:193,score:153,date:1417974160219,_id:{$oid:"54849190400c460b00ada1b6"}},{player:"gre",x:99,score:156,date:1417974396807,_id:{$oid:"5484927c400c460b00ada1b7"}},{player:"gre",x:73,score:610,date:1417974425257,_id:{$oid:"54849299400c460b00ada1b8"}},{player:"gre",x:193,score:646,date:1417974885145,_id:{$oid:"54849465400c460b00ada1b9"}},{player:"gre",x:87,score:1100,date:1417977805490,_id:{$oid:"54849fcd400c460b00ada1ba"}},{player:"gre",x:287,score:1070,date:1417978433603,_id:{$oid:"5484a241400c460b00ada1bb"}},{player:"gre",x:141,score:4711,date:1417978469352,_id:{$oid:"5484a265400c460b00ada1bc"}},{player:"gre",x:86,score:1500,date:1417978658097,_id:{$oid:"5484a322400c460b00ada1bd"}},{player:"gre",x:0,score:3384,date:1417979438169,_id:{$oid:"5484a62e400c460b00ada1be"}},{player:"gre",x:147,score:6277,date:1417980452498,_id:{$oid:"5484aa24400c460b00ada1bf"}},{player:"gre",x:179,score:1540,date:1417980617910,_id:{$oid:"5484aac9400c460b00ada1c0"}},{player:"gre",x:72,score:3890,date:1417980682103,_id:{$oid:"5484ab0a400c460b00ada1c1"}},{player:"gre",x:33,score:3941,date:1417981097903,_id:{$oid:"5484aca9400c460b00ada1c2"}},{player:"gre",x:126,score:3937,date:1417981802244,_id:{$oid:"5484af6a400c460b00ada1c3"}},{player:"gre",x:199,score:1543,date:1417982229012,_id:{$oid:"5484b115400c460b00ada1c4"}},{player:"gre",x:160,score:1e3,date:1417982243497,_id:{$oid:"5484b123400c460b00ada1c5"}},{player:"gre",x:164,score:5860,date:1417982287383,_id:{$oid:"5484b14f400c460b00ada1c6"}},{player:"gre",x:179,score:6771,date:1417982599430,_id:{$oid:"5484b287400c460b00ada1c7"}},{player:"gre",x:113,score:573,date:1417982620781,_id:{$oid:"5484b29c400c460b00ada1c8"}},{player:"gre",x:160,score:1533,date:1417982656787,_id:{$oid:"5484b2c0400c460b00ada1c9"}},{player:"gre",x:261,score:5391,date:1417982710592,_id:{$oid:"5484b2f6400c460b00ada1ca"}},{player:"gre",x:106,score:559,date:1417984217195,_id:{$oid:"5484b8d9400c460b00ada1cb"}},{player:"gre",x:105,score:4850,date:1417984943131,_id:{$oid:"5484bbaf400c460b00ada1cc"}},{player:"gre",x:167,score:580,date:1417985272467,_id:{$oid:"5484bcf8400c460b00ada1cd"}},{player:"gre",x:160,score:573,date:1417985330657,_id:{$oid:"5484bd32400c460b00ada1ce"}},{player:"MrSpeaker",x:214,score:3881,date:1417985401387,_id:{$oid:"5484bd79400c460b00ada1cf"}},{player:"MrSpeaker",x:320,score:2975,date:1417985435288,_id:{$oid:"5484bd9b400c460b00ada1d0"}},{player:"gre",x:79,score:5430,date:1417985467205,_id:{$oid:"5484bdbb400c460b00ada1d1"}},{player:"MrSpeaker",x:100,score:4359,date:1417985481868,_id:{$oid:"5484bdc9400c460b00ada1d2"}},{player:"MrSpeaker",x:248,score:7351,date:1417985550739,_id:{$oid:"5484be0e400c460b00ada1d3"}},{player:"MrSpeaker",x:262,score:6333,date:1417985897593,_id:{$oid:"5484bf69400c460b00ada1d4"}},{player:"MrSpeaker",x:126,score:1066,date:1417986071087,_id:{$oid:"5484c017400c460b00ada1d5"}},{player:"MrSpeaker",x:198,score:7308,date:1417986124727,_id:{$oid:"5484c04c400c460b00ada1d6"}},{player:"gre",x:244,score:4457,date:1417986323340,_id:{$oid:"5484c113400c460b00ada1d7"}},{player:"MrSpeaker",x:44,score:5917,date:1417986417418,_id:{$oid:"5484c171400c460b00ada1d8"}},{player:"MrSpeaker",x:320,score:1536,date:1417986437703,_id:{$oid:"5484c185400c460b00ada1d9"}},{player:"MrSpeaker",x:254,score:576,date:1417986448993,_id:{$oid:"5484c190400c460b00ada1da"}},{player:"MrSpeaker",x:38,score:2920,date:1417986476352,_id:{$oid:"5484c1ac400c460b00ada1db"}},{player:"MrSpeaker",x:172,score:5487,date:1417986882465,_id:{$oid:"5484c342400c460b00ada1dc"}},{player:"MrSpeaker",x:272,score:1539,date:1417986920627,_id:{$oid:"5484c368400c460b00ada1dd"}},{player:"MrSpeaker",x:186,score:4339,date:1417986983058,_id:{$oid:"5484c3a7400c460b00ada1de"}},{player:"MrSpeaker",x:193,score:1606,date:1417987000920,_id:{$oid:"5484c3b8400c460b00ada1df"}},{player:"gre",x:160,score:520,date:1417987147884,_id:{$oid:"5484c44b400c460b00ada1e0"}},{player:"gre",x:59,score:507,date:1417987671867,_id:{$oid:"5484c657400c460b00ada1e1"}},{player:"MrSpeaker",x:115,score:5800,date:1417987687096,_id:{$oid:"5484c667400c460b00ada1e2"}},{player:"gre",x:129,score:5851,date:1417987714843,_id:{$oid:"5484c682400c460b00ada1e3"}},{player:"MrSpeaker",x:282,score:4886,date:1417987723128,_id:{$oid:"5484c68b400c460b00ada1e4"}},{player:"gre",x:160,score:593,date:1417987755901,_id:{$oid:"5484c6ab400c460b00ada1e5"}},{player:"MrSpeaker",x:152,score:5857,date:1417987789154,_id:{$oid:"5484c6cd400c460b00ada1e6"}},{player:"gre",x:148,score:2504,date:1417987872009,_id:{$oid:"5484c720400c460b00ada1e7"}},{player:"gre",x:295,score:539,date:1417987964840,_id:{$oid:"5484c77c400c460b00ada1e8"}},{player:"gre",x:143,score:2909,date:1417989462372,_id:{$oid:"5484cd56400c460b00ada1e9"}},{player:"gre",x:160,score:530,date:1417989750784,_id:{$oid:"5484ce76400c460b00ada1ea"}},{player:"gre",x:160,score:532,date:1417989791519,_id:{$oid:"5484ce9f400c460b00ada1eb"}},{player:"gre",x:249,score:519,date:1417989832806,_id:{$oid:"5484cec8400c460b00ada1ec"}},{player:"gre",x:196,score:560,date:1417989852357,_id:{$oid:"5484cedc400c460b00ada1ed"}},{player:"gre",x:119,score:540,date:1417989917120,_id:{$oid:"5484cf1d400c460b00ada1ee"}},{player:"gre",x:153,score:1e3,date:1417989929424,_id:{$oid:"5484cf29400c460b00ada1ef"}},{player:"gre",x:174,score:2437,date:1417990514157,_id:{$oid:"5484d172400c460b00ada1f0"}},{player:"gre",x:133,score:7313,date:1417990580102,_id:{$oid:"5484d1b4400c460b00ada1f1"}},{player:"gre",x:148,score:1958,date:1417990637835,_id:{$oid:"5484d1ed400c460b00ada1f2"}},{player:"gre",x:160,score:520,date:1417990677608,_id:{$oid:"5484d215400c460b00ada1f3"}},{player:"gre",x:196,score:520,date:1417990778516,_id:{$oid:"5484d27a400c460b00ada1f4"}},{player:"gre",x:240,score:519,date:1417990798080,_id:{$oid:"5484d28e400c460b00ada1f5"}},{player:"MrSpeaker",x:149,score:3401,date:1417990934983,_id:{$oid:"5484d316400c460b00ada1f6"}},{player:"MrSpeaker",x:261,score:2575,date:1417991002845,_id:{$oid:"5484d35a400c460b00ada1f7"}},{player:"MrSpeaker",x:158,score:2973,date:1417991042632,_id:{$oid:"5484d382400c460b00ada1f8"}},{player:"MrSpeaker",x:126,score:1981,date:1417991062216,_id:{$oid:"5484d396400c460b00ada1f9"}},{player:"MrSpeaker",x:266,score:3973,date:1417991144382,_id:{$oid:"5484d3e8400c460b00ada1fa"}},{player:"MrSpeaker",x:137,score:1e3,date:1417991229594,_id:{$oid:"5484d43d400c460b00ada1fb"}},{player:"MrSpeaker",x:258,score:2974,date:1417991348604,_id:{$oid:"5484d4b4400c460b00ada1fc"}},{player:"MrSpeaker",x:116,score:1958,date:1417991370115,_id:{$oid:"5484d4ca400c460b00ada1fd"}},{player:"MrSpeaker",x:285,score:1538,date:1417991390034,_id:{$oid:"5484d4de400c460b00ada1fe"}},{player:"MrSpeaker",x:153,score:999,date:1417991415948,_id:{$oid:"5484d4f7400c460b00ada1ff"}},{player:"MrSpeaker",x:274,score:7290,date:1417991522760,_id:{$oid:"5484d562400c460b00ada200"}},{player:"MrSpeaker",x:163,score:5796,date:1417991579277,_id:{$oid:"5484d59b400c460b00ada201"}},{player:"gre",x:159,score:413,date:1417991949816,_id:{$oid:"5484d70d400c460b00ada202"}},{player:"gre",x:149,score:4835,date:1417992038353,_id:{$oid:"5484d766400c460b00ada203"}},{player:"gre",x:177,score:2936,date:1417993222859,_id:{$oid:"5484dc06400c460b00ada204"}},{player:"MrSpeaker",x:103,score:1003,date:1417993659680,_id:{$oid:"5484ddbb400c460b00ada205"}},{player:"gre",x:139,score:529,date:1417993779715,_id:{$oid:"5484de33400c460b00ada206"}},{player:"MrSpeaker",x:166,score:2439,date:1417993791660,_id:{$oid:"5484de3f400c460b00ada207"}},{player:"gre",x:155,score:1958,date:1417994107414,_id:{$oid:"5484df7b400c460b00ada208"}},{player:"gre",x:152,score:1959,date:1417994155095,_id:{$oid:"5484dfab400c460b00ada209"}},{player:"gre",x:136,score:2026,date:1417994239537,_id:{$oid:"5484dfff400c460b00ada20a"}},{player:"gre",x:66,score:2911,date:1417994519535,_id:{$oid:"5484e117400c460b00ada20b"}},{player:"gre",x:133,score:6813,date:1417994806059,_id:{$oid:"5484e23601ae540b00105e12"}},{player:"gre",x:174,score:3938,date:1417994866628,_id:{$oid:"5484e27201ae540b00105e13"}},{player:"gre",x:143,score:2022,date:1417994930074,_id:{$oid:"5484e2b201ae540b00105e14"}},{player:"gre",x:214,score:8717,date:1417995205290,_id:{$oid:"5484e3c501ae540b00105e15"}},{player:"MrSpeaker",x:141,score:2972,date:1417995278109,_id:{$oid:"5484e40e01ae540b00105e16"}},{player:"MrSpeaker",x:195,score:1985,date:1417995298553,_id:{$oid:"5484e42201ae540b00105e17"}},{player:"gre",x:114,score:2438,date:1417996691564,_id:{$oid:"5484e99301ae540b00105e18"}},{player:"joe",x:152,score:1959,date:1417996729332,_id:{$oid:"5484e9b901ae540b00105e19"}},{player:"joe",x:114,score:2495,date:1417996757325,_id:{$oid:"5484e9d501ae540b00105e1a"}},{player:"joe",x:232,score:2023,date:1417996782029,_id:{$oid:"5484e9ee01ae540b00105e1b"}},{player:"joe",x:163,score:2019,date:1417996813499,_id:{$oid:"5484ea0d01ae540b00105e1c"}},{player:"fer",x:251,score:6816,date:1417996826329,_id:{$oid:"5484ea1a01ae540b00105e1d"}},{player:"gre",x:56,score:4417,date:1417996829591,_id:{$oid:"5484ea1d01ae540b00105e1e"}},{player:"gre",x:275,score:3386,date:1417996860576,_id:{$oid:"5484ea3c01ae540b00105e1f"}},{player:"fer",x:171,score:3465,date:1417996870870,_id:{$oid:"5484ea4601ae540b00105e20"}},{player:"joe",x:126,score:3466,date:1417996918733,_id:{$oid:"5484ea7601ae540b00105e21"}},{player:"gre",x:178,score:2921,date:1417996928700,_id:{$oid:"5484ea8001ae540b00105e22"}},{player:"joe",x:174,score:1477,date:1417996938136,_id:{$oid:"5484ea8a01ae540b00105e23"}},{player:"Toji",x:188,score:4375,date:1417997068251,_id:{$oid:"5484eb0c01ae540b00105e24"}},{player:"Toji",x:53,score:999,date:1417997085548,_id:{$oid:"5484eb1d01ae540b00105e25"}},{player:"Toji",x:226,score:3469,date:1417997118799,_id:{$oid:"5484eb3e01ae540b00105e26"}},{player:"justin",x:242,score:2483,date:1417997175564,_id:{$oid:"5484eb7701ae540b00105e27"}},{player:"valerian",x:266,score:3499,date:1417997186225,_id:{$oid:"5484eb8201ae540b00105e28"}},{player:"justin",x:130,score:3531,date:1417997211816,_id:{$oid:"5484eb9b01ae540b00105e29"}},{player:"Toji",x:163,score:10228,date:1417997213568,_id:{$oid:"5484eb9d01ae540b00105e2a"}},{player:"jvelo",x:117,score:3385,date:1417997224649,_id:{$oid:"5484eba801ae540b00105e2b"}},{player:"justin",x:107,score:3461,date:1417997251296,_id:{$oid:"5484ebc301ae540b00105e2c"}},{player:"valerian",x:176,score:5801,date:1417997258621,_id:{$oid:"5484ebca01ae540b00105e2d"}},{player:"justin",x:82,score:3892,date:1417997281957,_id:{$oid:"5484ebe101ae540b00105e2e"}},{player:"jvelo",x:196,score:5322,date:1417997283047,_id:{$oid:"5484ebe301ae540b00105e2f"}},{player:"jvelo",x:232,score:3495,date:1417997322745,_id:{$oid:"5484ec0a01ae540b00105e30"}},{player:"valerian",x:140,score:5321,date:1417997323680,_id:{$oid:"5484ec0b01ae540b00105e31"}},{player:"jvelo",x:192,score:3458,date:1417997357582,_id:{$oid:"5484ec2d01ae540b00105e32"}},{player:"valerian",x:267,score:5863,date:1417997389514,_id:{$oid:"5484ec4d01ae540b00105e33"}},{player:"valerian",x:167,score:2529,date:1417997418954,_id:{$oid:"5484ec6a01ae540b00105e34"}},{player:"valerian",x:155,score:3422,date:1417997458530,_id:{$oid:"5484ec9201ae540b00105e35"}},{player:"valerian",x:156,score:60,date:1417997536462,_id:{$oid:"5484ece001ae540b00105e36"}},{player:"valerian",x:155,score:10,date:1417997603277,_id:{$oid:"5484ed2301ae540b00105e37"}},{player:"valerian",x:246,score:5859,date:1417997665601,_id:{$oid:"5484ed6101ae540b00105e38"}},{player:"valerian",x:160,score:521,date:1417997689499,_id:{$oid:"5484ed7901ae540b00105e39"}},{player:"valerian",x:160,score:997,date:1417997825733,_id:{$oid:"5484ee0101ae540b00105e3a"}},{player:"valerian",x:160,score:997,date:1417997846919,_id:{$oid:"5484ee1601ae540b00105e3b"}},{player:"valerian",x:160,score:1,date:1417997959406,_id:{$oid:"5484ee8701ae540b00105e3c"}},{player:"valerian",x:150,score:3871,date:1417998092262,_id:{$oid:"5484ef0c01ae540b00105e3e"}},{player:"valerian",x:165,score:6109,date:1417998157563,_id:{$oid:"5484ef4d01ae540b00105e3f"}},{player:"matt",x:97,score:2431,date:1417998492225,_id:{$oid:"5484f09c01ae540b00105e40"}},{player:"matt",x:111,score:3923,date:1417998534602,_id:{$oid:"5484f0c601ae540b00105e41"}},{player:"jkjkj",x:224,score:4379,date:1417999083602,_id:{$oid:"5484f2eb01ae540b00105e42"}},{player:"jkjkj",x:138,score:3470,date:1417999128073,_id:{$oid:"5484f31801ae540b00105e43"}},{player:"jkjkj",x:190,score:3457,date:1417999162981,_id:{$oid:"5484f33a01ae540b00105e44"}},{player:"ana",x:188,score:1476,date:1417999512762,_id:{$oid:"5484f49801ae540b00105e45"}},{player:"ana",x:306,score:1480,date:1417999542041,_id:{$oid:"5484f4b601ae540b00105e46"}},{player:"Ale",x:201,score:5856,date:1417999658885,_id:{$oid:"5484f52a01ae540b00105e47"}},{player:"Chandler",x:264,score:5806,date:1418000834235,_id:{$oid:"5484f9c201ae540b00105e48"}},{player:"Paul",x:199,score:8275,date:1418004691955,_id:{$oid:"548508d301ae540b00105e49"}},{player:"MrSpeaker",x:206,score:3928,date:1418006155465,_id:{$oid:"54850e8b01ae540b00105e4a"}},{player:"MrSpeaker",x:214,score:5854,date:1418006200034,_id:{$oid:"54850eb801ae540b00105e4b"}},{player:"MrSpeaker",x:136,score:5899,date:1418006243509,_id:{$oid:"54850ee301ae540b00105e4c"}},{player:"MrSpeaker",x:178,score:6818,date:1418006292931,_id:{$oid:"54850f1401ae540b00105e4d"}},{player:"joe",x:56,score:2452,date:1418008161090,_id:{$oid:"5485166101ae540b00105e4e"}},{player:"joe",x:186,score:2471,date:1418008186904,_id:{$oid:"5485167a01ae540b00105e4f"}},{player:"rinick",x:81,score:2921,date:1418009911381,_id:{$oid:"54851d3701ae540b00105e50"}},{player:"rinick",x:181,score:1479,date:1418009933659,_id:{$oid:"54851d4d01ae540b00105e51"}},{player:"rinick",x:232,score:3462,date:1418009968315,_id:{$oid:"54851d7001ae540b00105e52"}},{player:"rinick",x:245,score:5388,date:1418010017351,_id:{$oid:"54851da101ae540b00105e53"}},{player:"gre",x:214,score:3907,date:1418020045384,_id:{$oid:"548544cd3efa800b00fc1576"}},{player:"jord",x:113,score:998,date:1418022615086,_id:{$oid:"54854ed73efa800b00fc1577"}},{player:"jord",x:299,score:3872,date:1418022650043,_id:{$oid:"54854efa3efa800b00fc1578"}},{player:"jord",x:228,score:3475,date:1418022686475,_id:{$oid:"54854f1e3efa800b00fc1579"}},{player:"bob",x:119,score:999,date:1418025127969,_id:{$oid:"548558a73efa800b00fc157a"}},{player:"jbr",x:263,score:1532,date:1418026220339,_id:{$oid:"54855cec3efa800b00fc157b"}},{player:"jbr",x:168,score:1474,date:1418026240466,_id:{$oid:"54855d003efa800b00fc157c"}},{player:"jbr",x:29,score:997,date:1418026255272,_id:{$oid:"54855d0f3efa800b00fc157d"}},{player:"jbr",x:0,score:519,date:1418026268834,_id:{$oid:"54855d1c3efa800b00fc157e"}},{player:"jbr",x:237,score:3451,date:1418026301495,_id:{$oid:"54855d3d3efa800b00fc157f"}},{player:"Bastien",x:99,score:1958,date:1418027941804,_id:{$oid:"548563a53efa800b00fc1580"}},{player:"Bastien",x:123,score:999,date:1418027956531,_id:{$oid:"548563b43efa800b00fc1581"}},{player:"Bastien",x:33,score:2964,date:1418027980984,_id:{$oid:"548563cc3efa800b00fc1582"}},{player:"jrf",x:168,score:5799,date:1418028213115,_id:{$oid:"548564b53efa800b00fc1583"}},{player:"bpo",x:43,score:999,date:1418028365201,_id:{$oid:"5485654d3efa800b00fc1584"}},{player:"bpo",x:160,score:518,date:1418028383892,_id:{$oid:"5485655f3efa800b00fc1585"}},{player:"cedric",x:236,score:1481,date:1418028415070,_id:{$oid:"5485657f3efa800b00fc1586"}},{player:"cedric",x:233,score:1479,date:1418028433969,_id:{$oid:"548565913efa800b00fc1587"}},{player:"bpo",x:163,score:7282,date:1418028437214,_id:{$oid:"548565953efa800b00fc1588"}},{player:"cedric",x:146,score:3477,date:1418028490149,_id:{$oid:"548565ca3efa800b00fc1589"}},{player:"bpo",x:163,score:5889,date:1418028491117,_id:{$oid:"548565cb3efa800b00fc158a"}},{player:"valerian",x:133,score:3395,date:1418028529464,_id:{$oid:"548565f13efa800b00fc158b"}},{player:"valerian",x:238,score:3521,date:1418028562424,_id:{$oid:"548566123efa800b00fc158c"}},{player:"valerian",x:311,score:5398,date:1418028606392,_id:{$oid:"5485663e3efa800b00fc158d"}},{player:"valerian",x:98,score:6316,date:1418028662681,_id:{$oid:"548566763efa800b00fc158e"}},{player:"42loops",x:220,score:2440,date:1418033487955,_id:{$oid:"5485794f3efa800b00fc158f"}},{player:"42loops",x:230,score:4427,date:1418033543493,_id:{$oid:"548579873efa800b00fc1590"}},{player:"42loops",x:92,score:2508,date:1418033650116,_id:{$oid:"548579f23efa800b00fc1591"}},{player:"dfghjkl",x:191,score:3915,date:1418033708954,_id:{$oid:"54857a2c3efa800b00fc1592"}},{player:"dfghjkl",x:220,score:6838,date:1418033758584,_id:{$oid:"54857a5e3efa800b00fc1593"}},{player:"Timshel",x:198,score:5874,date:1418034003923,_id:{$oid:"54857b533efa800b00fc1594"}},{player:"Timshel",x:122,score:3457,date:1418034035046,_id:{$oid:"54857b733efa800b00fc1595"}},{player:"Timshel",x:161,score:7239,date:1418034115772,_id:{$oid:"54857bc33efa800b00fc1596"}},{player:"gre",x:61,score:2436,date:1418034117138,_id:{$oid:"54857bc53efa800b00fc1597"}},{player:"gre",x:98,score:1480,date:1418034137492,_id:{$oid:"54857bd93efa800b00fc1598"}},{player:"Timshel",x:258,score:5858,date:1418034167614,_id:{$oid:"54857bf73efa800b00fc1599"}},{player:"gre",x:120,score:5386,date:1418034189957,_id:{$oid:"54857c0d3efa800b00fc159a"}},{player:"Timshel",x:64,score:5903,date:1418034217771,_id:{$oid:"54857c293efa800b00fc159b"}},{player:"Timshel",x:148,score:5817,date:1418034277252,_id:{$oid:"54857c653efa800b00fc159c"}},{player:"Timshel",x:85,score:5926,date:1418034329461,_id:{$oid:"54857c993efa800b00fc159d"}},{player:"Timshel",x:71,score:1004,date:1418034343478,_id:{$oid:"54857ca73efa800b00fc159e"}},{player:"Timshel",x:86,score:2433,date:1418034366915,_id:{$oid:"54857cbe3efa800b00fc159f"}},{player:"Timshel",x:173,score:1488,date:1418034388129,_id:{$oid:"54857cd43efa800b00fc15a0"}},{player:"Timshel",x:118,score:2439,date:1418034412231,_id:{$oid:"54857cec3efa800b00fc15a1"}},{player:"Bobylito",x:130,score:1013,date:1418034704581,_id:{$oid:"54857e103efa800b00fc15a2"}},{player:"Bobylito",x:178,score:3906,date:1418034745466,_id:{$oid:"54857e393efa800b00fc15a3"}},{player:"mattay",x:195,score:3468,date:1418034754492,_id:{$oid:"54857e423efa800b00fc15a4"}},{player:"Bobylito",x:81,score:6412,date:1418034815845,_id:{$oid:"54857e7f3efa800b00fc15a5"}},{player:"Bobylito",x:99,score:3469,date:1418034862211,_id:{$oid:"54857eae3efa800b00fc15a6"}},{player:"Bobylito",x:160,score:999,date:1418034880989,_id:{$oid:"54857ec03efa800b00fc15a7"}},{player:"Bobylito",x:61,score:3389,date:1418034922278,_id:{$oid:"54857eea3efa800b00fc15a8"}},{player:"Bobylito",x:254,score:5802,date:1418035005166,_id:{$oid:"54857f3d3efa800b00fc15a9"}},{player:"dfdfb",x:44,score:999,date:1418035023179,_id:{$oid:"54857f4f3efa800b00fc15aa"}},{player:"mand",x:172,score:3395,date:1418035031617,_id:{$oid:"54857f573efa800b00fc15ab"}},{player:"dfdfb",x:263,score:1480,date:1418035042520,_id:{$oid:"54857f623efa800b00fc15ac"}},{player:"Royale",x:29,score:5858,date:1418035063861,_id:{$oid:"54857f773efa800b00fc15ad"}},{player:"des",x:227,score:5857,date:1418035076147,_id:{$oid:"54857f843efa800b00fc15ae"}},{player:"Royale",x:59,score:999,date:1418035084587,_id:{$oid:"54857f8c3efa800b00fc15af"}},{player:"hjk",x:83,score:4361,date:1418035101781,_id:{$oid:"54857f9d3efa800b00fc15b0"}},{player:"Royale",x:222,score:5911,date:1418035131781,_id:{$oid:"54857fbb3efa800b00fc15b1"}},{player:"JEANGUY",x:92,score:1479,date:1418035191669,_id:{$oid:"54857ff73efa800b00fc15b2"}},{player:"Royale",x:120,score:9174,date:1418035202175,_id:{$oid:"548580023efa800b00fc15b3"}},{player:"vico",x:289,score:2440,date:1418035216532,_id:{$oid:"548580103efa800b00fc15b4"}},{player:"JEANGUY",x:303,score:3480,date:1418035221569,_id:{$oid:"548580153efa800b00fc15b5"}},{player:"Royale",x:56,score:999,date:1418035221674,_id:{$oid:"548580153efa800b00fc15b6"}},{player:"gre",x:183,score:1003,date:1418035246662,_id:{$oid:"5485802e3efa800b00fc15b7"}},{player:"vico",x:238,score:3415,date:1418035266272,_id:{$oid:"548580423efa800b00fc15b8"}},{player:"juju",x:100,score:3468,date:1418035300449,_id:{$oid:"548580643efa800b00fc15b9"}},{player:"vico",x:135,score:3429,date:1418035308797,_id:{$oid:"5485806c3efa800b00fc15ba"}},{player:"vico",x:194,score:3455,date:1418035346338,_id:{$oid:"548580923efa800b00fc15bb"}},{player:"fewfwef",x:127,score:1e3,date:1418035408490,_id:{$oid:"548580d03efa800b00fc15bc"}},{player:"fsdfd",x:255,score:5859,date:1418035863081,_id:{$oid:"548582973efa800b00fc15bd"}},{player:"tttt",x:113,score:5801,date:1418035873870,_id:{$oid:"548582a13efa800b00fc15be"}},{player:"ojb",x:70,score:3889,date:1418035875481,_id:{$oid:"548582a33efa800b00fc15bf"}},{player:"kkkk",x:265,score:2027,date:1418036246408,_id:{$oid:"548584163efa800b00fc15c0"}},{player:"kkkk",x:132,score:6748,date:1418036310895,_id:{$oid:"548584563efa800b00fc15c1"}},{player:"gre",x:175,score:5382,date:1418036487493,_id:{$oid:"548585073efa800b00fc15c2"}},{player:"guillaume",x:273,score:1480,date:1418036536844,_id:{$oid:"548585383efa800b00fc15c3"}},{player:"wat",x:142,score:3399,date:1418036704213,_id:{$oid:"548585e03efa800b00fc15c4"}},{player:"ghhgh",x:199,score:1480,date:1418036849246,_id:{$oid:"548586713efa800b00fc15c5"}},{player:"ghhgh",x:137,score:6881,date:1418036919872,_id:{$oid:"548586b73efa800b00fc15c6"}},{player:"ddfdfdf",x:94,score:1479,date:1418037303367,_id:{$oid:"548588373efa800b00fc15c7"}},{player:"ddfdfdf",x:109,score:3409,date:1418037340180,_id:{$oid:"5485885c3efa800b00fc15c8"}},{player:"gre",x:227,score:3484,date:1418038386421,_id:{$oid:"54858c723efa800b00fc15c9"}},{player:"gre",x:189,score:999,date:1418038401192,_id:{$oid:"54858c813efa800b00fc15ca"}},{player:"gre",x:108,score:526,date:1418038412056,_id:{$oid:"54858c8c3efa800b00fc15cb"}},{player:"gre",x:142,score:8701,date:1418038509177,_id:{$oid:"54858ced3efa800b00fc15cc"}},{player:"Boehrsi",x:69,score:4349,date:1418040064956,_id:{$oid:"548593003efa800b00fc15cd"}},{player:"Boehrsi",x:137,score:4354,date:1418040101720,_id:{$oid:"548593253efa800b00fc15ce"}},{player:"jer",x:177,score:1477,date:1418040215202,_id:{$oid:"548593973efa800b00fc15cf"}},{player:"jer",x:217,score:5914,date:1418040276663,_id:{$oid:"548593d43efa800b00fc15d0"}},{player:"Steve",x:206,score:5854,date:1418040384260,_id:{$oid:"548594403efa800b00fc15d1"}},{player:"Steve",x:195,score:7122,date:1418040450860,_id:{$oid:"548594823efa800b00fc15d2"}},{player:"Andrea",x:150,score:1478,date:1418040494090,_id:{$oid:"548594ae3efa800b00fc15d3"}},{player:"Steve",x:184,score:5798,date:1418040502805,_id:{$oid:"548594b63efa800b00fc15d4"}},{player:"Steve",x:255,score:5861,date:1418040551898,_id:{$oid:"548594e73efa800b00fc15d5"}},{player:"Timshel",x:74,score:6832,date:1418040595100,_id:{$oid:"548595133efa800b00fc15d6"}},{player:"Naufr4g0",x:320,score:3907,date:1418040611150,_id:{$oid:"548595233efa800b00fc15d7"}},{player:"Timshel",x:113,score:5859,date:1418040645902,_id:{$oid:"548595453efa800b00fc15d8"}},{player:"Naufr4g0",x:77,score:4920,date:1418040654311,_id:{$oid:"5485954e3efa800b00fc15d9"}},{player:"Timshel",x:123,score:5868,date:1418040699911,_id:{$oid:"5485957b3efa800b00fc15da"}},{player:"Naufr4g0",x:149,score:5784,date:1418040715082,_id:{$oid:"5485958b3efa800b00fc15db"}},{player:"Naufr4g0",x:60,score:999,date:1418040731698,_id:{$oid:"5485959b3efa800b00fc15dc"}},{player:"Timshel",x:83,score:5873,date:1418040754718,_id:{$oid:"548595b23efa800b00fc15dd"}},{player:"durkoslav",x:188,score:6835,date:1418040985455,_id:{$oid:"548596993efa800b00fc15de"}},{player:"durkoslav",x:237,score:3472,date:1418041019698,_id:{$oid:"548596bb3efa800b00fc15df"}},{player:"durkoslav",x:239,score:5370,date:1418041076510,_id:{$oid:"548596f43efa800b00fc15e0"}},{player:"Timshel",x:160,score:3886,date:1418041332608,_id:{$oid:"548597f43efa800b00fc15e2"}},{player:"Timshel",x:156,score:5313,date:1418041381775,_id:{$oid:"548598253efa800b00fc15e3"}},{player:"Timshel",x:173,score:3511,date:1418041659592,_id:{$oid:"5485993b3efa800b00fc15e4"}},{player:"jhguygh",x:97,score:3965,date:1418041672001,_id:{$oid:"548599483efa800b00fc15e5"}},{player:"Timshel",x:141,score:3362,date:1418041719640,_id:{$oid:"548599773efa800b00fc15e6"}},{player:"Timshel",x:75,score:3324,date:1418041790777,_id:{$oid:"548599be3efa800b00fc15e7"}},{player:"Eugene",x:188,score:5889,date:1418041791846,_id:{$oid:"548599bf3efa800b00fc15e8"}},{player:"sre",x:105,score:3400,date:1418042154547,_id:{$oid:"54859b2a3efa800b00fc15e9"}},{player:"sre",x:76,score:1006,date:1418042174427,_id:{$oid:"54859b3e3efa800b00fc15ea"}},{player:"sre",x:188,score:5574,date:1418042222409,_id:{$oid:"54859b6e3efa800b00fc15eb"}},{player:"sre",x:159,score:2027,date:1418042255092,_id:{$oid:"54859b8f3efa800b00fc15ec"}},{player:"Timshel",x:297,score:3833,date:1418042267270,_id:{$oid:"54859b9b3efa800b00fc15ed"}},{player:"sre",x:291,score:3959,date:1418042293507,_id:{$oid:"54859bb53efa800b00fc15ee"}},{player:"hjj",x:240,score:5919,date:1418042907030,_id:{$oid:"54859e1b3efa800b00fc15ef"}},{player:"toto",x:75,score:4917,date:1418042945170,_id:{$oid:"54859e413efa800b00fc15f0"}},{player:"hjj",x:72,score:6319,date:1418042986305,_id:{$oid:"54859e6a3efa800b00fc15f1"}},{player:"mandre",x:139,score:5794,date:1418043177408,_id:{$oid:"54859f293efa800b00fc15f2"}},{player:"mandre",x:145,score:8795,date:1418043250381,_id:{$oid:"54859f723efa800b00fc15f3"}},{player:"mandre",x:191,score:3445,date:1418043305453,_id:{$oid:"54859fa93efa800b00fc15f4"}},{player:"mandre",x:250,score:3447,date:1418043341468,_id:{$oid:"54859fcd3efa800b00fc15f5"}},{player:"mandre",x:277,score:1551,date:1418043359797,_id:{$oid:"54859fdf3efa800b00fc15f6"}},{player:"mandre",x:293,score:8278,date:1418043430938,_id:{$oid:"5485a0263efa800b00fc15f7"}},{player:"mandre",x:287,score:5896,date:1418043476840,_id:{$oid:"5485a0543efa800b00fc15f8"}},{player:"mandre",x:104,score:5908,date:1418043523406,_id:{$oid:"5485a0833efa800b00fc15f9"}},{player:"mandre",x:215,score:5877,date:1418043598657,_id:{$oid:"5485a0ce3efa800b00fc15fa"}},{player:"mandre",x:85,score:5830,date:1418043648553,_id:{$oid:"5485a1003efa800b00fc15fb"}},{player:"mandre",x:127,score:8719,date:1418043728092,_id:{$oid:"5485a1503efa800b00fc15fc"}},{player:"Bobylito",x:159,score:7313,date:1418044050953,_id:{$oid:"5485a2923efa800b00fc15fd"}},{player:"Bobylito",x:136,score:6331,date:1418044158227,_id:{$oid:"5485a2fe3efa800b00fc15fe"}},{player:"ornicar",x:256,score:5801,date:1418044285208,_id:{$oid:"5485a37d3efa800b00fc15ff"}},{player:"ornicar",x:198,score:1475,date:1418044307455,_id:{$oid:"5485a3933efa800b00fc1600"}},{player:"ornicar",x:132,score:6278,date:1418044359443,_id:{$oid:"5485a3c73efa800b00fc1601"}},{player:"Timshel",x:129,score:8813,date:1418044366254,_id:{$oid:"5485a3ce3efa800b00fc1602"}},{player:"ornicar",x:145,score:1476,date:1418044382038,_id:{$oid:"5485a3de3efa800b00fc1603"}},{player:"ornicar",x:160,score:517,date:1418044394709,_id:{$oid:"5485a3ea3efa800b00fc1604"}},{player:"ornicar",x:139,score:5817,date:1418044558843,_id:{$oid:"5485a48e3efa800b00fc1605"}},{player:"ornicar",x:199,score:1036,date:1418044591808,_id:{$oid:"5485a4af3efa800b00fc1606"}},{player:"Timshel",x:143,score:533,date:1418044606293,_id:{$oid:"5485a4be3efa800b00fc1607"}},{player:"gre",x:196,score:3472,date:1418045689904,_id:{$oid:"5485a8f93efa800b00fc1609"}},{player:"gre",x:98,score:3873,date:1418045732155,_id:{$oid:"5485a9243efa800b00fc160a"}},{player:"gre",x:131,score:5887,date:1418046734209,_id:{$oid:"5485ad0e3efa800b00fc160b"}},{player:"mandre",x:193,score:1006,date:1418046922934,_id:{$oid:"5485adca3efa800b00fc160c"}},{player:"mandre",x:188,score:8883,date:1418046981081,_id:{$oid:"5485ae053efa800b00fc160d"}},{player:"mandre",x:236,score:3524,date:1418047012767,_id:{$oid:"5485ae243efa800b00fc160e"}},{player:"mandre",x:188,score:5926,date:1418047060008,_id:{$oid:"5485ae543efa800b00fc160f"}},{player:"ebaka",x:94,score:3458,date:1418047156551,_id:{$oid:"5485aeb43efa800b00fc1610"}},{player:"gre",x:116,score:1e3,date:1418047405487,_id:{$oid:"5485afad3efa800b00fc1611"}},{player:"gre",x:92,score:5856,date:1418047450080,_id:{$oid:"5485afda3efa800b00fc1612"}},{player:"chr",x:92,score:3398,date:1418047689227,_id:{$oid:"5485b0c93efa800b00fc1613"}},{player:"chzo",x:172,score:3393,date:1418047723971,_id:{$oid:"5485b0eb3efa800b00fc1614"}},{player:"Paul",x:99,score:3414,date:1418047865108,_id:{$oid:"5485b1793efa800b00fc1615"}},{player:"Paul",x:40,score:3398,date:1418047924987,_id:{$oid:"5485b1b43efa800b00fc1616"}},{player:"eiueau",x:206,score:3456,date:1418048009644,_id:{$oid:"5485b2093efa800b00fc1617"}},{player:"Paul",x:313,score:2921,date:1418048012575,_id:{$oid:"5485b20c3efa800b00fc1618"}},{player:"Paul",x:211,score:998,date:1418048032436,_id:{$oid:"5485b2203efa800b00fc1619"}},{player:"gre",x:162,score:1477,date:1418048044687,_id:{$oid:"5485b22c3efa800b00fc161a"}},{player:"qwqwqqw",x:59,score:998,date:1418048047210,_id:{$oid:"5485b22f3efa800b00fc161b"}},{player:"eiueau",x:193,score:3473,date:1418048059843,_id:{$oid:"5485b23b3efa800b00fc161c"}},{player:"gre",x:112,score:1e3,date:1418048061562,_id:{$oid:"5485b23d3efa800b00fc161d"}},{player:"eiueau",x:33,score:1009,date:1418048074923,_id:{$oid:"5485b24a3efa800b00fc161e"}},{player:"gre",x:221,score:5867,date:1418048109167,_id:{$oid:"5485b26d3efa800b00fc161f"}},{player:"eiueau",x:258,score:3451,date:1418048119537,_id:{$oid:"5485b2773efa800b00fc1620"}},{player:"eiueau",x:173,score:3398,date:1418048151901,_id:{$oid:"5485b2973efa800b00fc1621"}},{player:"Paul",x:208,score:529,date:1418048234684,_id:{$oid:"5485b2ea3efa800b00fc1622"}},{player:"Paul",x:160,score:559,date:1418048289114,_id:{$oid:"5485b3213efa800b00fc1623"}},{player:"Paul",x:207,score:577,date:1418048387015,_id:{$oid:"5485b3833efa800b00fc1624"}},{player:"chzo",x:235,score:1930,date:1418048559217,_id:{$oid:"5485b42f3efa800b00fc1626"}},{player:"chzo",x:320,score:3324,date:1418048690645,_id:{$oid:"5485b4b23efa800b00fc1627"}},{player:"fla",x:229,score:3391,date:1418048999509,_id:{$oid:"5485b5e73efa800b00fc1628"}},{player:"chzo",x:178,score:2354,date:1418049161248,_id:{$oid:"5485b6893efa800b00fc1629"}},{player:"chzo",x:233,score:5373,date:1418049216572,_id:{$oid:"5485b6c03efa800b00fc162a"}},{player:"fla",x:169,score:5930,date:1418049434521,_id:{$oid:"5485b79a3efa800b00fc162b"}},{player:"fla",x:169,score:3538,date:1418049557230,_id:{$oid:"5485b8153efa800b00fc162c"}},{player:"ibon",x:126,score:3486,date:1418049631269,_id:{$oid:"5485b85f3efa800b00fc162d"}},{player:"ibon",x:183,score:5352,date:1418049683186,_id:{$oid:"5485b8933efa800b00fc162e"}},{player:"mandre",x:77,score:3382,date:1418050011386,_id:{$oid:"5485b9db3efa800b00fc162f"}},{player:"mandre",x:310,score:3449,date:1418050042381,_id:{$oid:"5485b9fa3efa800b00fc1630"}},{player:"mandre",x:214,score:5856,date:1418050089503,_id:{$oid:"5485ba293efa800b00fc1631"}},{player:"mandre",x:204,score:6822,date:1418050139095,_id:{$oid:"5485ba5b3efa800b00fc1632"}},{player:"Tom",x:170,score:1479,date:1418050186825,_id:{$oid:"5485ba8a3efa800b00fc1633"}},{player:"mandre",x:194,score:8690,date:1418050199638,_id:{$oid:"5485ba973efa800b00fc1634"}},{player:"Tom",x:165,score:3402,date:1418050225903,_id:{$oid:"5485bab13efa800b00fc1635"}},{player:"mandre",x:135,score:6821,date:1418050254596,_id:{$oid:"5485bace3efa800b00fc1636"}},{player:"fla",x:178,score:5352,date:1418050392093,_id:{$oid:"5485bb583efa800b00fc1637"}},{player:"dohz",x:113,score:3879,date:1418050409962,_id:{$oid:"5485bb693efa800b00fc1638"}},{player:"dohz",x:129,score:5367,date:1418050467317,_id:{$oid:"5485bba33efa800b00fc1639"}},{player:"dohz",x:191,score:5859,date:1418050517073,_id:{$oid:"5485bbd53efa800b00fc163a"}},{player:"Tom",x:93,score:2438,date:1418050544859,_id:{$oid:"5485bbf03efa800b00fc163b"}},{player:"flowbot",x:250,score:3454,date:1418050552297,_id:{$oid:"5485bbf83efa800b00fc163c"}},{player:"dohz",x:90,score:3396,date:1418050553490,_id:{$oid:"5485bbf93efa800b00fc163d"}},{player:"flowbot",x:60,score:999,date:1418050568395,_id:{$oid:"5485bc083efa800b00fc163e"}},{player:"Tom",x:123,score:3515,date:1418050577465,_id:{$oid:"5485bc113efa800b00fc163f"}},{player:"flowbot",x:79,score:1477,date:1418050589384,_id:{$oid:"5485bc1d3efa800b00fc1640"}},{player:"Tom",x:168,score:3496,date:1418050614094,_id:{$oid:"5485bc363efa800b00fc1641"}},{player:"flowbot",x:126,score:3946,date:1418050641091,_id:{$oid:"5485bc513efa800b00fc1642"}},{player:"flowbot",x:165,score:6821,date:1418050695572,_id:{$oid:"5485bc873efa800b00fc1643"}},{player:"fla",x:141,score:3473,date:1418050709750,_id:{$oid:"5485bc953efa800b00fc1644"}},{player:"fla",x:219,score:3445,date:1418050868049,_id:{$oid:"5485bd343efa800b00fc1645"}},{player:"dan",x:127,score:2446,date:1418050875147,_id:{$oid:"5485bd3b3efa800b00fc1646"}},{player:"dan",x:139,score:3402,date:1418050921817,_id:{$oid:"5485bd693efa800b00fc1647"}},{player:"dan",x:95,score:3453,date:1418050958541,_id:{$oid:"5485bd8e3efa800b00fc1648"}},{player:"fla",x:126,score:5849,date:1418050971358,_id:{$oid:"5485bd9b3efa800b00fc1649"}},{player:"678",x:156,score:2446,date:1418051324737,_id:{$oid:"5485befc3efa800b00fc164a"}},{player:"mandre",x:161,score:7217,date:1418051344458,_id:{$oid:"5485bf103efa800b00fc164b"}},{player:"678",x:183,score:1543,date:1418051345646,_id:{$oid:"5485bf113efa800b00fc164c"}},{player:"mandre",x:49,score:1002,date:1418051359317,_id:{$oid:"5485bf1f3efa800b00fc164d"}},{player:"678",x:160,score:1479,date:1418051369349,_id:{$oid:"5485bf293efa800b00fc164e"}},{player:"mandre",x:91,score:8792,date:1418051427110,_id:{$oid:"5485bf633efa800b00fc164f"}},{player:"mandre",x:195,score:3949,date:1418051459371,_id:{$oid:"5485bf833efa800b00fc1650"}},{player:"mandre",x:180,score:8315,date:1418051523285,_id:{$oid:"5485bfc33efa800b00fc1651"}},{player:"mandre",x:225,score:6820,date:1418051574388,_id:{$oid:"5485bff63efa800b00fc1652"}},{player:"mandre",x:146,score:5900,date:1418051647389,_id:{$oid:"5485c03f3efa800b00fc1653"}},{player:"SnoutUp",x:192,score:5851,date:1418051729945,_id:{$oid:"5485c0913efa800b00fc1654"}},{player:"fla",x:94,score:3447,date:1418051764373,_id:{$oid:"5485c0b43efa800b00fc1655"}},{player:"Jacob",x:233,score:5856,date:1418051926412,_id:{$oid:"5485c1563efa800b00fc1656"}},{player:"fla",x:260,score:3488,date:1418051997151,_id:{$oid:"5485c19d3efa800b00fc1657"}},{player:"MrSpeaker",x:242,score:3778,date:1418052185721,_id:{$oid:"5485c2593efa800b00fc1658"}},{player:"MrSpeaker",x:181,score:5858,date:1418052234264,_id:{$oid:"5485c28a3efa800b00fc1659"}},{player:"foo",x:296,score:2440,date:1418052503360,_id:{$oid:"5485c3973efa800b00fc165a"}},{player:"fla",x:234,score:8244,date:1418052545054,_id:{$oid:"5485c3c13efa800b00fc165b"}},{player:"foo",x:193,score:4427,date:1418052549902,_id:{$oid:"5485c3c53efa800b00fc165c"}},{player:"foo",x:53,score:997,date:1418052565548,_id:{$oid:"5485c3d53efa800b00fc165d"}},{player:"vde",x:111,score:5367,date:1418052714007,_id:{$oid:"5485c46a3efa800b00fc165e"}},{player:"vde",x:168,score:5795,date:1418052770440,_id:{$oid:"5485c4a23efa800b00fc165f"}},{player:"fla",x:272,score:5400,date:1418052803104,_id:{$oid:"5485c4c33efa800b00fc1660"}},{player:"vde",x:208,score:6818,date:1418052824778,_id:{$oid:"5485c4d83efa800b00fc1661"}},{player:"fla",x:205,score:5862,date:1418052857029,_id:{$oid:"5485c4f93efa800b00fc1662"}},{player:"vde",x:23,score:3392,date:1418052872118,_id:{$oid:"5485c5083efa800b00fc1663"}},{player:"vde",x:63,score:578,date:1418052887475,_id:{$oid:"5485c5173efa800b00fc1664"}},{player:"fla",x:169,score:3458,date:1418052890654,_id:{$oid:"5485c51a3efa800b00fc1665"}},{player:"fla",x:166,score:1478,date:1418052908012,_id:{$oid:"5485c52c3efa800b00fc1666"}},{player:"fla",x:164,score:10777,date:1418052997945,_id:{$oid:"5485c5853efa800b00fc1667"}},{player:"mandre",x:189,score:9239,date:1418054083136,_id:{$oid:"5485c9c33efa800b00fc1668"}},{player:"kopplpl",x:199,score:3450,date:1418055323267,_id:{$oid:"5485ce9b3efa800b00fc1669"}},{player:"kopplpl",x:202,score:3437,date:1418055358558,_id:{$oid:"5485cebe3efa800b00fc166a"}},{player:"kopplpl",x:133,score:1063,date:1418055376116,_id:{$oid:"5485ced03efa800b00fc166b"}},{player:"platane",x:47,score:1480,date:1418055415797,_id:{$oid:"5485cef73efa800b00fc166c"}},{player:"platane",x:184,score:3876,date:1418055463396,_id:{$oid:"5485cf273efa800b00fc166d"}},{player:"platane",x:231,score:3447,date:1418055497004,_id:{$oid:"5485cf493efa800b00fc166e"}},{player:"platane",x:120,score:999,date:1418055512987,_id:{$oid:"5485cf583efa800b00fc166f"}},{player:"platane",x:123,score:3376,date:1418055560601,_id:{$oid:"5485cf883efa800b00fc1670"}},{player:"platane",x:165,score:6763,date:1418055616398,_id:{$oid:"5485cfc03efa800b00fc1671"}},{player:"platane",x:156,score:6344,date:1418055675069,_id:{$oid:"5485cffb3efa800b00fc1672"}},{player:"platane",x:149,score:8200,date:1418055762687,_id:{$oid:"5485d0523efa800b00fc1673"}},{player:"platane",x:217,score:5806,date:1418055820603,_id:{$oid:"5485d08c3efa800b00fc1674"}},{player:"platane",x:147,score:8746,date:1418055912761,_id:{$oid:"5485d0e83efa800b00fc1675"}},{player:"ornicar",x:228,score:519,date:1418055919244,_id:{$oid:"5485d0ef3efa800b00fc1676"}},{player:"Timshel",x:141,score:5361,date:1418055953045,_id:{$oid:"5485d1113efa800b00fc1678"}},{player:"vde",x:54,score:3398,date:1418055956317,_id:{$oid:"5485d1143efa800b00fc1679"}},{player:"Napoleon",x:120,score:1e3,date:1418055976455,_id:{$oid:"5485d1283efa800b00fc167a"}},{player:"vde",x:95,score:8743,date:1418056033497,_id:{$oid:"5485d1613efa800b00fc167b"}},{player:"Napoleon",x:228,score:3420,date:1418056047254,_id:{$oid:"5485d16f3efa800b00fc167c"}},{player:"Napoleon",x:133,score:5765,date:1418056125903,_id:{$oid:"5485d1bd3efa800b00fc167d"}},{player:"Timshel",x:67,score:8821,date:1418056172392,_id:{$oid:"5485d1ec3efa800b00fc167e"}},{player:"vde",x:94,score:8765,date:1418056181053,_id:{$oid:"5485d1f53efa800b00fc167f"}},{player:"Napoleon",x:164,score:3488,date:1418056183811,_id:{$oid:"5485d1f73efa800b00fc1680"}},{player:"Napoleon",x:185,score:3482,date:1418056217173,_id:{$oid:"5485d2193efa800b00fc1681"}},{player:"Napoleon",x:279,score:3878,date:1418056269805,_id:{$oid:"5485d24d3efa800b00fc1682"}},{player:"Timshel",x:154,score:6842,date:1418056286539,_id:{$oid:"5485d25e3efa800b00fc1683"}},{player:"natewave",x:139,score:3907,date:1418056344593,_id:{$oid:"5485d2983efa800b00fc1684"}},{player:"natewave",x:160,score:540,date:1418056377987,_id:{$oid:"5485d2b93efa800b00fc1685"}},{player:"natewave",x:160,score:520,date:1418056403673,_id:{$oid:"5485d2d33efa800b00fc1686"}},{player:"natewave",x:160,score:1120,date:1418056435557,_id:{$oid:"5485d2f33efa800b00fc1687"}},{player:"natewave",x:160,score:556,date:1418056445542,_id:{$oid:"5485d2fd3efa800b00fc1688"}},{player:"vde",x:215,score:5928,date:1418056475685,_id:{$oid:"5485d31b3efa800b00fc1689"}},{player:"natewave",x:113,score:5743,date:1418056517864,_id:{$oid:"5485d3453efa800b00fc168a"}},{player:"vde",x:134,score:8303,date:1418056545159,_id:{$oid:"5485d3613efa800b00fc168b"}},{player:"npalcheff",x:67,score:3871,date:1418056817579,_id:{$oid:"5485d4713efa800b00fc168c"}},{player:"npalcheff",x:174,score:5818,date:1418056876838,_id:{$oid:"5485d4ac3efa800b00fc168d"}},{player:"MrSpeaker",x:204,score:5900,date:1418057623317,_id:{$oid:"5485d7973efa800b00fc168e"}},{player:"charles",x:133,score:3898,date:1418057637793,_id:{$oid:"5485d7a53efa800b00fc168f"}},{player:"MrSpeaker",x:134,score:3879,date:1418057661481,_id:{$oid:"5485d7bd3efa800b00fc1690"}},{player:"Michael",x:185,score:3945,date:1418057667095,_id:{$oid:"5485d7c33efa800b00fc1691"}},{player:"charles",x:228,score:3414,date:1418057673420,_id:{$oid:"5485d7c93efa800b00fc1692"}},{player:"Michael",x:212,score:3455,date:1418057695406,_id:{$oid:"5485d7df3efa800b00fc1693"}},{player:"betehess",x:147,score:4350,date:1418057696833,_id:{$oid:"5485d7e03efa800b00fc1694"}},{player:"MrSpeaker",x:99,score:3392,date:1418057716178,_id:{$oid:"5485d7f43efa800b00fc1695"}},{player:"charles",x:147,score:4357,date:1418057718058,_id:{$oid:"5485d7f63efa800b00fc1696"}},{player:"Snortie",x:89,score:1959,date:1418057735860,_id:{$oid:"5485d8073efa800b00fc1697"}},{player:"Michael",x:212,score:5856,date:1418057736043,_id:{$oid:"5485d8083efa800b00fc1698"}},{player:"MrSpeaker",x:98,score:1016,date:1418057736731,_id:{$oid:"5485d8083efa800b00fc1699"}},{player:"Snortie",x:76,score:517,date:1418057748741,_id:{$oid:"5485d8143efa800b00fc169a"}},{player:"ebaka",x:98,score:3938,date:1418057749203,_id:{$oid:"5485d8153efa800b00fc169b"}},{player:"Snortie",x:160,score:1e3,date:1418057768031,_id:{$oid:"5485d8283efa800b00fc169c"}},{player:"charles",x:189,score:8257,date:1418057784450,_id:{$oid:"5485d8383efa800b00fc169d"}},{player:"ebaka",x:134,score:5804,date:1418057793005,_id:{$oid:"5485d8413efa800b00fc169e"}},{player:"MrSpeaker",x:239,score:5315,date:1418057799857,_id:{$oid:"5485d8473efa800b00fc169f"}},{player:"Snortie",x:286,score:3910,date:1418057805384,_id:{$oid:"5485d84d3efa800b00fc16a0"}},{player:"flowbot",x:150,score:5854,date:1418057805645,_id:{$oid:"5485d84d3efa800b00fc16a1"}},{player:"ebaka",x:181,score:1478,date:1418057812617,_id:{$oid:"5485d8543efa800b00fc16a2"}},{player:"MrSpeaker",x:218,score:1480,date:1418057823089,_id:{$oid:"5485d85f3efa800b00fc16a3"}},{player:"Snortie",x:160,score:1e3,date:1418057824858,_id:{$oid:"5485d8603efa800b00fc16a4"}},{player:"Snortie",x:176,score:1478,date:1418057842395,_id:{$oid:"5485d8723efa800b00fc16a5"}},{player:"MrSpeaker",x:110,score:2553,date:1418057849137,_id:{$oid:"5485d8793efa800b00fc16a6"}},{player:"Timshel",x:243,score:5794,date:1418057850334,_id:{$oid:"5485d87a3efa800b00fc16a7"}},{player:"flowbot",x:145,score:6336,date:1418057871863,_id:{$oid:"5485d88f3efa800b00fc16a8"}},{player:"Snortie",x:133,score:3892,date:1418057885099,_id:{$oid:"5485d89d3efa800b00fc16a9"}},{player:"Timshel",x:108,score:3475,date:1418057887850,_id:{$oid:"5485d89f3efa800b00fc16aa"}},{player:"MrSpeaker",x:106,score:6280,date:1418057906034,_id:{$oid:"5485d8b23efa800b00fc16ab"}},{player:"Snortie",x:147,score:3433,date:1418057924742,_id:{$oid:"5485d8c43efa800b00fc16ac"}},{player:"Timshel",x:63,score:5801,date:1418057933506,_id:{$oid:"5485d8cd3efa800b00fc16ad"}},{player:"Snortie",x:130,score:3934,date:1418057972134,_id:{$oid:"5485d8f43efa800b00fc16ae"}},{player:"Snortie",x:267,score:5793,date:1418058021130,_id:{$oid:"5485d9253efa800b00fc16af"}},{player:"MrSpeaker",x:192,score:9161,date:1418058023367,_id:{$oid:"5485d9273efa800b00fc16b0"}},{player:"poop",x:86,score:3464,date:1418058074277,_id:{$oid:"5485d95a3efa800b00fc16b1"}},{player:"Andy",x:112,score:1e3,date:1418058080705,_id:{$oid:"5485d9603efa800b00fc16b2"}},{player:"Snortie",x:118,score:3454,date:1418058087896,_id:{$oid:"5485d9673efa800b00fc16b3"}},{player:"gre",x:227,score:6343,date:1418058090939,_id:{$oid:"5485d96a3efa800b00fc16b4"}},{player:"Andy",x:50,score:997,date:1418058096168,_id:{$oid:"5485d9703efa800b00fc16b5"}},{player:"gre",x:135,score:998,date:1418058106092,_id:{$oid:"5485d97a3efa800b00fc16b6"}},{player:"Andy",x:320,score:1534,date:1418058114429,_id:{$oid:"5485d9823efa800b00fc16b7"}},{player:"Snortie",x:152,score:3485,date:1418058139547,_id:{$oid:"5485d99b3efa800b00fc16b8"}},{player:"Michael",x:241,score:5862,date:1418058142571,_id:{$oid:"5485d99e3efa800b00fc16b9"}},{player:"Andy",x:228,score:3945,date:1418058143763,_id:{$oid:"5485d99f3efa800b00fc16ba"}},{player:"poop",x:157,score:6877,date:1418058147560,_id:{$oid:"5485d9a33efa800b00fc16bb"}},{player:"MrSpeaker",x:269,score:3470,date:1418058165230,_id:{$oid:"5485d9b53efa800b00fc16bc"}},{player:"Snortie",x:193,score:5450,date:1418058200859,_id:{$oid:"5485d9d83efa800b00fc16bd"}},{player:"MrSpeaker",x:155,score:5799,date:1418058205689,_id:{$oid:"5485d9dd3efa800b00fc16be"}},{player:"poop",x:211,score:5859,date:1418058207662,_id:{$oid:"5485d9df3efa800b00fc16bf"}},{player:"Snortie",x:182,score:1479,date:1418058222184,_id:{$oid:"5485d9ee3efa800b00fc16c0"}},{player:"MrSpeaker",x:116,score:999,date:1418058247634,_id:{$oid:"5485da073efa800b00fc16c1"}},{player:"franco",x:232,score:3457,date:1418058252647,_id:{$oid:"5485da0c3efa800b00fc16c2"}},{player:"Snortie",x:192,score:3919,date:1418058267063,_id:{$oid:"5485da1b3efa800b00fc16c3"}},{player:"Timshel",x:218,score:3466,date:1418058274479,_id:{$oid:"5485da223efa800b00fc16c4"}},{player:"franco",x:184,score:3456,date:1418058300268,_id:{$oid:"5485da3c3efa800b00fc16c5"}},{player:"Snortie",x:199,score:5891,date:1418058328378,_id:{$oid:"5485da583efa800b00fc16c6"}},{player:"gre",x:121,score:2433,date:1418058329318,_id:{$oid:"5485da593efa800b00fc16c7"}},{player:"MrSpeaker",x:147,score:123,date:1418058336757,_id:{$oid:"5485da603efa800b00fc16c8"}},{player:"gre",x:228,score:1479,date:1418058358796,_id:{$oid:"5485da763efa800b00fc16c9"}},{player:"gre",x:223,score:1015,date:1418058389366,_id:{$oid:"5485da953efa800b00fc16ca"}},{player:"MrSpeaker",x:320,score:2506,date:1418058432314,_id:{$oid:"5485dac03efa800b00fc16cb"}},{player:"Snortie",x:196,score:5808,date:1418058445450,_id:{$oid:"5485dacd3efa800b00fc16cc"}},{player:"gre",x:137,score:6828,date:1418058457961,_id:{$oid:"5485dad93efa800b00fc16cd"}},{player:"Snortie",x:156,score:4405,date:1418058496122,_id:{$oid:"5485db003efa800b00fc16ce"}},{player:"gre",x:110,score:7280,date:1418058550307,_id:{$oid:"5485db363efa800b00fc16cf"}},{player:"Snortie",x:142,score:5855,date:1418058564636,_id:{$oid:"5485db443efa800b00fc16d0"}},{player:"gre",x:107,score:1e3,date:1418058600565,_id:{$oid:"5485db683efa800b00fc16d1"}},{player:"MrSpeaker",x:222,score:3418,date:1418058635387,_id:{$oid:"5485db8b3efa800b00fc16d2"}},{player:"ebaka",x:139,score:3451,date:1418058659201,_id:{$oid:"5485dba33efa800b00fc16d3"}},{player:"Michael",x:158,score:3457,date:1418058668991,_id:{$oid:"5485dbac3efa800b00fc16d4"}},{player:"ebaka",x:226,score:5864,date:1418058717990,_id:{$oid:"5485dbdd3efa800b00fc16d5"}},{player:"Timshel",x:265,score:2022,date:1418058761638,_id:{$oid:"5485dc093efa800b00fc16d6"}},{player:"Timshel",x:143,score:1494,date:1418058783766,_id:{$oid:"5485dc1f3efa800b00fc16d7"}},{player:"sarah",x:192,score:5314,date:1418058825680,_id:{$oid:"5485dc493efa800b00fc16d8"}},{player:"678",x:132,score:3456,date:1418058887206,_id:{$oid:"5485dc873efa800b00fc16d9"}},{player:"gre",x:261,score:6819,date:1418059013185,_id:{$oid:"5485dd053efa800b00fc16da"}},{player:"Snortie",x:151,score:3439,date:1418060605283,_id:{$oid:"5485e33d3efa800b00fc16db"}},{player:"webravenz",x:153,score:3399,date:1418063941099,_id:{$oid:"5485f0453efa800b00fc16dc"}},{player:"webravenz",x:183,score:3416,date:1418063979285,_id:{$oid:"5485f06b3efa800b00fc16dd"}},{player:"webravenz",x:159,score:8675,date:1418064054782,_id:{$oid:"5485f0b63efa800b00fc16de"}},{player:"webravenz",x:117,score:8859,date:1418064137678,_id:{$oid:"5485f1093efa800b00fc16df"}},{player:"platane",x:85,score:6848,date:1418067910689,_id:{$oid:"5485ffc63efa800b00fc16e0"}},{player:"platane",x:176,score:5925,date:1418067953655,_id:{$oid:"5485fff13efa800b00fc16e1"}},{player:"platane",x:160,score:6760,date:1418068010289,_id:{$oid:"5486002a3efa800b00fc16e2"}},{player:"platane",x:197,score:5794,date:1418068065301,_id:{$oid:"548600613efa800b00fc16e3"}},{player:"platane",x:177,score:8195,date:1418068167613,_id:{$oid:"548600c73efa800b00fc16e4"}},{player:"platane",x:151,score:8804,date:1418068239919,_id:{$oid:"5486010f3efa800b00fc16e5"}},{player:"platane",x:126,score:8245,date:1418068301346,_id:{$oid:"5486014d3efa800b00fc16e6"}},{player:"platane",x:269,score:3536,date:1418068642819,_id:{$oid:"548602a23efa800b00fc16e7"}},{player:"platane",x:132,score:5898,date:1418068694717,_id:{$oid:"548602d63efa800b00fc16e8"}},{player:"platane",x:147,score:5862,date:1418068738117,_id:{$oid:"548603023efa800b00fc16e9"}},{player:"platane",x:69,score:3461,date:1418068773465,_id:{$oid:"548603253efa800b00fc16ea"}},{player:"platane",x:243,score:10178,date:1418068899405,_id:{$oid:"548603a33efa800b00fc16eb"}},{player:"dgd",x:139,score:1957,date:1418069270209,_id:{$oid:"548605163efa800b00fc16ec"}},{player:"dgd",x:225,score:3420,date:1418069313271,_id:{$oid:"548605413efa800b00fc16ed"}},{player:"fuck",x:184,score:2921,date:1418070457543,_id:{$oid:"548609b93efa800b00fc16ee"}},{player:"fuck",x:132,score:2918,date:1418070510117,_id:{$oid:"548609ee3efa800b00fc16ef"}},{player:"abc123",x:225,score:5409,date:1418071931840,_id:{$oid:"54860f7b3efa800b00fc16f0"}},{player:"abc123",x:82,score:3405,date:1418071964911,_id:{$oid:"54860f9c3efa800b00fc16f1"}},{player:"abc123",x:43,score:6338,date:1418072010436,_id:{$oid:"54860fca3efa800b00fc16f2"}},{player:"Boehrsi",x:225,score:3458,date:1418073809415,_id:{$oid:"548616d13efa800b00fc16f3"}},{player:"Boehrsi",x:203,score:5870,date:1418073859509,_id:{$oid:"548617033efa800b00fc16f4"}},{player:"Leon",x:244,score:3436,date:1418080037389,_id:{$oid:"54862f254833f80b000bec7f"}},{player:"Leon",x:269,score:3444,date:1418080077003,_id:{$oid:"54862f4d4833f80b000bec80"}},{player:"Leon",x:89,score:8859,date:1418080164169,_id:{$oid:"54862fa44833f80b000bec81"}},{player:"Leon",x:76,score:7699,date:1418080247555,_id:{$oid:"54862ff74833f80b000bec82"}},{player:"mandre",x:100,score:8800,date:1418083195217,_id:{$oid:"54863b7b4833f80b000bec83"}},{player:"mandre",x:178,score:9675,date:1418083281033,_id:{$oid:"54863bd14833f80b000bec84"}},{player:"mandre",x:158,score:1503,date:1418083300218,_id:{$oid:"54863be44833f80b000bec85"}},{player:"mandre",x:220,score:9809,date:1418083378678,_id:{$oid:"54863c324833f80b000bec86"}},{player:"mandre",x:209,score:7339,date:1418083433947,_id:{$oid:"54863c694833f80b000bec87"}},{player:"mandre",x:78,score:9720,date:1418083510141,_id:{$oid:"54863cb64833f80b000bec88"}},{player:"mandre",x:183,score:7339,date:1418083560206,_id:{$oid:"54863ce84833f80b000bec89"}},{player:"Leon",x:76,score:1479,date:1418084542710,_id:{$oid:"548640be4833f80b000bec8a"}},{player:"Leon",x:248,score:3476,date:1418084574833,_id:{$oid:"548640de4833f80b000bec8b"}},{player:"Leon",x:131,score:5307,date:1418084619366,_id:{$oid:"5486410b4833f80b000bec8c"}},{player:"ad1",x:52,score:1478,date:1418089311540,_id:{$oid:"5486535f0388290b00840356"}},{player:"babecue",x:164,score:7380,date:1418092067693,_id:{$oid:"54865e230388290b00840357"}},{player:"babecue",x:138,score:7341,date:1418092122917,_id:{$oid:"54865e5a0388290b00840358"}},{player:"babecue",x:218,score:7376,date:1418092182955,_id:{$oid:"54865e960388290b00840359"}},{player:"snortie",x:245,score:7192,date:1418093192351,_id:{$oid:"548662880388290b0084035a"}},{player:"snortie",x:160,score:1e3,date:1418093212566,_id:{$oid:"5486629c0388290b0084035b"}},{player:"snortie",x:158,score:6749,date:1418093276134,_id:{$oid:"548662dc0388290b0084035c"}},{player:"snortie",x:139,score:3946,date:1418093326424,_id:{$oid:"5486630e0388290b0084035d"}},{player:"snortie",x:157,score:5793,date:1418093397756,_id:{$oid:"548663550388290b0084035e"}},{player:"42loops",x:163,score:5317,date:1418117218565,_id:{$oid:"5486c06200376b0b00190a9d"}},{player:"42loops",x:204,score:7840,date:1418117306686,_id:{$oid:"5486c0ba00376b0b00190a9e"}},{player:"tsatse",x:155,score:2489,date:1418117312053,_id:{$oid:"5486c0c000376b0b00190a9f"}},{player:"dasqq",x:134,score:3445,date:1418117312201,_id:{$oid:"5486c0c000376b0b00190aa0"}},{player:"tsatse",x:197,score:3399,date:1418117347059,_id:{$oid:"5486c0e300376b0b00190aa1"}},{player:"tsatse",x:118,score:3393,date:1418117382700,_id:{$oid:"5486c10600376b0b00190aa2"}},{player:"crayman",x:226,score:6836,date:1418117390064,_id:{$oid:"5486c10e00376b0b00190aa3"}},{player:"paulo",x:277,score:1569,date:1418117638926,_id:{$oid:"5486c20600376b0b00190aa4"}},{player:"webravenz",x:200,score:7273,date:1418117653857,_id:{$oid:"5486c21500376b0b00190aa5"}},{player:"webravenz",x:139,score:9150,date:1418117733634,_id:{$oid:"5486c26500376b0b00190aa6"}},{player:"aaa",x:106,score:5795,date:1418117778066,_id:{$oid:"5486c29200376b0b00190aa7"}},{player:"test",x:178,score:5332,date:1418117890297,_id:{$oid:"5486c30200376b0b00190aa8"}},{player:"luvurballs",x:216,score:7759,date:1418118018090,_id:{$oid:"5486c38200376b0b00190aa9"}},{player:"Koxx",x:263,score:7259,date:1418118076211,_id:{$oid:"5486c3bc00376b0b00190aaa"}},{player:"Koxx",x:231,score:7198,date:1418118157129,_id:{$oid:"5486c40d00376b0b00190aab"}},{player:"webravenz",x:266,score:7269,date:1418118283720,_id:{$oid:"5486c48b00376b0b00190aac"}},{player:"webravenz",x:203,score:517,date:1418119104004,_id:{$oid:"5486c7c000376b0b00190aad"}},{player:"webravenz",x:153,score:540,date:1418119127722,_id:{$oid:"5486c7d700376b0b00190aae"}},{player:"vde",x:227,score:7221,date:1418119471526,_id:{$oid:"5486c92f00376b0b00190aaf"}},{player:"vde",x:284,score:7219,date:1418119531310,_id:{$oid:"5486c96b00376b0b00190ab0"}},{player:"vde",x:163,score:9241,date:1418119661724,_id:{$oid:"5486c9ed00376b0b00190ab1"}},{player:"dar",x:163,score:1956,date:1418119970429,_id:{$oid:"5486cb2200376b0b00190ab2"}},{player:"dar",x:219,score:1958,date:1418119991640,_id:{$oid:"5486cb3700376b0b00190ab3"}},{player:"dar",x:148,score:7398,date:1418120048060,_id:{$oid:"5486cb7000376b0b00190ab4"}},{player:"dar",x:251,score:7772,date:1418120105069,_id:{$oid:"5486cba900376b0b00190ab5"}},{player:"Napoleon",x:174,score:1958,date:1418123639333,_id:{$oid:"5486d97700376b0b00190ab6"}},{player:"Vivi",x:146,score:7315,date:1418123855502,_id:{$oid:"5486da4f00376b0b00190ab7"}},{player:"vince",x:23,score:550,date:1418126410698,_id:{$oid:"5486e44a00376b0b00190ab8"}},{player:"vince",x:282,score:3876,date:1418126446669,_id:{$oid:"5486e46e00376b0b00190ab9"}},{player:"Giul",x:76,score:3411,date:1418128538560,_id:{$oid:"5486ec9a00376b0b00190aba"}},{player:"Giul",x:293,score:6845,date:1418128605739,_id:{$oid:"5486ecdd00376b0b00190abb"}},{player:"Giul",x:246,score:3472,date:1418128637961,_id:{$oid:"5486ecfd00376b0b00190abc"}},{player:"Giul",x:154,score:5376,date:1418128686764,_id:{$oid:"5486ed2e00376b0b00190abd"}},{player:"webravenz",x:225,score:7202,date:1418128946715,_id:{$oid:"5486ee3200376b0b00190abe"}},{player:"webravenz",x:239,score:7226,date:1418129009447,_id:{$oid:"5486ee7100376b0b00190abf"}},{player:"zzz",x:112,score:1960,date:1418130109555,_id:{$oid:"5486f2bd00376b0b00190ac0"}},{player:"zzz",x:147,score:3470,date:1418130146778,_id:{$oid:"5486f2e200376b0b00190ac1"}},{player:"Bob",x:88,score:1959,date:1418130229304,_id:{$oid:"5486f33500376b0b00190ac2"}},{player:"Bob",x:177,score:5302,date:1418130280533,_id:{$oid:"5486f36800376b0b00190ac3"}},{player:"Bob",x:294,score:7703,date:1418130360781,_id:{$oid:"5486f3b800376b0b00190ac4"}},{player:"platane",x:114,score:1955,date:1418131154697,_id:{$oid:"5486f6d200376b0b00190ac5"}},{player:"platane",x:247,score:7258,date:1418131211062,_id:{$oid:"5486f70b00376b0b00190ac6"}},{player:"jul",x:145,score:3469,date:1418132305757,_id:{$oid:"5486fb5100376b0b00190ac7"}},{player:"jul",x:85,score:5804,date:1418132359115,_id:{$oid:"5486fb8700376b0b00190ac8"}},{player:"joe",x:70,score:520,date:1418133197497,_id:{$oid:"5486fecd00376b0b00190ac9"}},{player:"joe",x:146,score:579,date:1418133214145,_id:{$oid:"5486fede00376b0b00190aca"}},{player:"joe",x:163,score:3442,date:1418133245190,_id:{$oid:"5486fefd00376b0b00190acb"}},{player:"joe",x:164,score:3462,date:1418133279682,_id:{$oid:"5486ff1f00376b0b00190acc"}},{player:"JIG",x:107,score:3403,date:1418138288087,_id:{$oid:"548712b05bd3300b00c99972"}},{player:"JIG",x:135,score:6743,date:1418138372685,_id:{$oid:"548713045bd3300b00c99973"}},{player:"thibalol",x:211,score:7331,date:1418139384533,_id:{$oid:"548716f85bd3300b00c99974"}},{player:"Panko",x:134,score:2012,date:1418139433069,_id:{$oid:"548717295bd3300b00c99975"}},{player:"thibalol",x:206,score:7302,date:1418139448641,_id:{$oid:"548717385bd3300b00c99976"}},{player:"thibalol",x:255,score:7787,date:1418139516461,_id:{$oid:"5487177c5bd3300b00c99977"}},{player:"fred",x:191,score:5402,date:1418140122461,_id:{$oid:"548719da5bd3300b00c99978"}},{player:"Snortie",x:210,score:3876,date:1418141307697,_id:{$oid:"54871e7b5bd3300b00c99979"}},{player:"Snortie",x:192,score:3470,date:1418142118838,_id:{$oid:"548721a65bd3300b00c9997a"}},{player:"plop",x:192,score:3875,date:1418147654239,_id:{$oid:"548737468cca9e0b00e9c888"}},{player:"Snortie",x:163,score:4910,date:1418150247893,_id:{$oid:"548741678cca9e0b00e9c889"}},{player:"Snortie",x:189,score:5795,date:1418151838652,_id:{$oid:"5487479e8cca9e0b00e9c88a"}},{player:"mandre",x:154,score:7219,date:1418155849671,_id:{$oid:"548757498cca9e0b00e9c88b"}},{player:"mandre",x:146,score:7711,date:1418155925684,_id:{$oid:"548757958cca9e0b00e9c88c"}},{player:"mandre",x:161,score:7766,date:1418156029359,_id:{$oid:"548757fd8cca9e0b00e9c88d"}},{player:"mandre",x:220,score:7211,date:1418156085294,_id:{$oid:"548758358cca9e0b00e9c88e"}},{player:"mandre",x:116,score:7214,date:1418156144640,_id:{$oid:"548758708cca9e0b00e9c88f"}},{player:"mandre",x:92,score:9745,date:1418156234723,_id:{$oid:"548758ca8cca9e0b00e9c890"}},{player:"mandre",x:111,score:9712,date:1418156354751,_id:{$oid:"548759428cca9e0b00e9c891"}},{player:"MrSpeaker",x:215,score:7754,date:1418159231828,_id:{$oid:"5487647f8cca9e0b00e9c892"}},{player:"MrSpeaker",x:166,score:98,date:1418159325291,_id:{$oid:"548764dd8cca9e0b00e9c893"}},{player:"MrSpeaker",x:160,score:221,date:1418159404436,_id:{$oid:"5487652c8cca9e0b00e9c894"}},{player:"MrSpeaker",x:160,score:245,date:1418159466382,_id:{$oid:"5487656a8cca9e0b00e9c895"}},{player:"MrSpeaker",x:318,score:6816,date:1418159526213,_id:{$oid:"548765a68cca9e0b00e9c896"}},{player:"Fortyseven",x:240,score:7369,date:1418160204445,_id:{$oid:"5487684c8cca9e0b00e9c897"}},{player:"Snortie",x:163,score:3876,date:1418162499714,_id:{$oid:"548771438cca9e0b00e9c898"}},{player:"Snortie",x:147,score:3456,date:1418162549182,_id:{$oid:"548771758cca9e0b00e9c899"}},{player:"Snortie",x:135,score:5455,date:1418162616800,_id:{$oid:"548771b88cca9e0b00e9c89a"}},{player:"Snortie",x:194,score:7197,date:1418162692942,_id:{$oid:"548772048cca9e0b00e9c89b"}},{player:"Snortie",x:231,score:7203,date:1418162778957,_id:{$oid:"5487725a8cca9e0b00e9c89c"}},{player:"vde",x:109,score:8224,date:1418167680246,_id:{$oid:"54878580c0fd1e0c00967cca"}},{player:"vde",x:136,score:7376,date:1418167733345,_id:{$oid:"548785b5c0fd1e0c00967ccb"}},{player:"vde",x:220,score:4909,date:1418167777937,_id:{$oid:"548785e1c0fd1e0c00967ccc"}},{player:"vde",x:143,score:7807,date:1418167847081,_id:{$oid:"54878627c0fd1e0c00967ccd"}},{player:"vde",x:187,score:7694,date:1418167916630,_id:{$oid:"5487866cc0fd1e0c00967cce"}},{player:"vde",x:138,score:7281,date:1418167978903,_id:{$oid:"548786aac0fd1e0c00967ccf"}},{player:"NOYUO",x:216,score:6270,date:1418171161226,_id:{$oid:"54879319c0fd1e0c00967cd0"}},{player:"Alec",x:173,score:4959,date:1418183306678,_id:{$oid:"5487c28a7c759f0c00b76f95"}},{player:"Alec",x:201,score:9268,date:1418183394936,_id:{$oid:"5487c2e27c759f0c00b76f96"}},{player:"JWOW",x:252,score:2015,date:1418184795198,_id:{$oid:"5487c85b7c759f0c00b76f97"}},{player:"rinick",x:149,score:7271,date:1418191335250,_id:{$oid:"5487e1e747bfb30c003575b5"}},{player:"rinick",x:176,score:6864,date:1418191403427,_id:{$oid:"5487e22b47bfb30c003575b6"}},{player:"rinick",x:191,score:2914,date:1418191437144,_id:{$oid:"5487e24d47bfb30c003575b7"}},{player:"rinick",x:125,score:8318,date:1418191506650,_id:{$oid:"5487e29247bfb30c003575b8"}},{player:"rinick",x:99,score:7282,date:1418191572980,_id:{$oid:"5487e2d447bfb30c003575b9"}},{player:"rinick",x:190,score:6905,date:1418191639642,_id:{$oid:"5487e31747bfb30c003575ba"}},{player:"rinick",x:161,score:5786,date:1418191699914,_id:{$oid:"5487e35347bfb30c003575bb"}},{player:"dunin",x:206,score:3393,date:1418194090745,_id:{$oid:"5487ecaa47bfb30c003575bc"}},{player:"dunin",x:243,score:4899,date:1418194143361,_id:{$oid:"5487ecdf47bfb30c003575bd"}},{player:"dunin",x:214,score:6335,date:1418194220014,_id:{$oid:"5487ed2c47bfb30c003575be"}},{player:"dunin",x:108,score:5862,date:1418194281162,_id:{$oid:"5487ed6947bfb30c003575bf"}},{player:"dunin",x:186,score:4945,date:1418194321382,_id:{$oid:"5487ed9147bfb30c003575c0"}},{player:"Rob",x:235,score:4896,date:1418194790026,_id:{$oid:"5487ef6647bfb30c003575c1"}},{player:"beerman",x:119,score:7279,date:1418197383234,_id:{$oid:"5487f98747bfb30c003575c2"}},{player:"beerman",x:172,score:5312,date:1418197513402,_id:{$oid:"5487fa0947bfb30c003575c3"}},{player:"beerman",x:181,score:5789,date:1418197571935,_id:{$oid:"5487fa4347bfb30c003575c4"}},{player:"mandre",x:135,score:6754,date:1418204090851,_id:{$oid:"548813ba40668b0c005f86b8"}},{player:"mandre",x:72,score:7818,date:1418204156335,_id:{$oid:"548813fc40668b0c005f86b9"}},{player:"gre",x:134,score:7904,date:1418205601590,_id:{$oid:"548819a140668b0c005f86ba"}},{player:"gre",x:220,score:5869,date:1418205936273,_id:{$oid:"54881af040668b0c005f86bb"}},{player:"gre",x:49,score:520,date:1418205995674,_id:{$oid:"54881b2b40668b0c005f86bc"}},{player:"gre",x:44,score:6908,date:1418206073679,_id:{$oid:"54881b7940668b0c005f86bd"}},{player:"gre",x:69,score:1e3,date:1418206240616,_id:{$oid:"54881c2077a5910c002452ae"}},{player:"gre",x:173,score:4932,date:1418206300649,_id:{$oid:"54881c5c77a5910c002452af"}},{player:"gre",x:169,score:4976,date:1418206370245,_id:{$oid:"54881ca277a5910c002452b0"}},{player:"mandre",x:43,score:4964,date:1418206405437,_id:{$oid:"54881cc577a5910c002452b1"}},{player:"gre",x:125,score:4922,date:1418206407295,_id:{$oid:"54881cc777a5910c002452b2"}},{player:"mandre",x:86,score:6762,date:1418206477795,_id:{$oid:"54881d0d77a5910c002452b3"}},{player:"mandre",x:173,score:8293,date:1418206554706,_id:{$oid:"54881d5a77a5910c002452b4"}},{player:"bpo",x:254,score:4898,date:1418208449586,_id:{$oid:"548824c177a5910c002452b5"}},{player:"vde",x:119,score:7760,date:1418208859565,_id:{$oid:"5488265b77a5910c002452b6"}},{player:"ZEZE",x:177,score:1959,date:1418209230282,_id:{$oid:"548827ce77a5910c002452b7"}},{player:"ZEZE",x:183,score:1958,date:1418209257786,_id:{$oid:"548827e977a5910c002452b8"}},{player:"puma",x:137,score:2011,date:1418209450063,_id:{$oid:"548828aa77a5910c002452b9"}},{player:"puma",x:16,score:530,date:1418209463074,_id:{$oid:"548828b777a5910c002452ba"}},{player:"vbnm",x:213,score:2990,date:1418209485678,_id:{$oid:"548828cd77a5910c002452bb"}},{player:"puma",x:262,score:6791,date:1418209527633,_id:{$oid:"548828f777a5910c002452bc"}},{player:"mandre",x:172,score:8228,date:1418211525274,_id:{$oid:"548830c577a5910c002452bd"}},{player:"mandre",x:211,score:4899,date:1418211565807,_id:{$oid:"548830ed77a5910c002452be"}},{player:"mandre",x:61,score:7830,date:1418211628511,_id:{$oid:"5488312c77a5910c002452bf"}},{player:"JJJ",x:159,score:520,date:1418212140131,_id:{$oid:"5488332c77a5910c002452c0"}},{player:"JJJ",x:137,score:4924,date:1418212192933,_id:{$oid:"5488336077a5910c002452c1"}},{player:"Asd",x:87,score:2006,date:1418212595104,_id:{$oid:"548834f377a5910c002452c2"}},{player:"ioio",x:320,score:2022,date:1418213022251,_id:{$oid:"5488369e77a5910c002452c3"}},{player:"ioio",x:211,score:4965,date:1418213084208,_id:{$oid:"548836dc77a5910c002452c4"}},{player:"Ludo",x:207,score:1962,date:1418213394800,_id:{$oid:"5488381277a5910c002452c5"}},{player:"Ludo",x:28,score:2504,date:1418213433545,_id:{$oid:"5488383977a5910c002452c6"}},{player:"Ludo",x:260,score:1480,date:1418213451153,_id:{$oid:"5488384b77a5910c002452c7"}},{player:"Ludo",x:111,score:6760,date:1418213513031,_id:{$oid:"5488388977a5910c002452c8"}},{player:"gre",x:111,score:3388,date:1418213765862,_id:{$oid:"5488398577a5910c002452c9"}},{player:"gre",x:194,score:4900,date:1418214081907,_id:{$oid:"54883ac177a5910c002452ca"}},{player:"gre",x:101,score:6890,date:1418214163511,_id:{$oid:"54883b1377a5910c002452cb"}},{player:"gre",x:91,score:7335,date:1418214242987,_id:{$oid:"54883b6277a5910c002452cc"}},{player:"kchplr",x:169,score:4936,date:1418214635752,_id:{$oid:"54883ceb77a5910c002452cd"}},{player:"kchplr",x:249,score:4912,date:1418214697834,_id:{$oid:"54883d2977a5910c002452ce"}},{player:"kchplr",x:102,score:5971,date:1418214774349,_id:{$oid:"54883d7677a5910c002452cf"}},{player:"bpo",x:186,score:2018,date:1418216232272,_id:{$oid:"5488432877a5910c002452d0"}},{player:"bpo",x:123,score:5317,date:1418216287170,_id:{$oid:"5488435f77a5910c002452d1"}},{player:"tata",x:181,score:1961,date:1418217259964,_id:{$oid:"5488472b77a5910c002452d2"}},{player:"tata",x:144,score:4885,date:1418217309460,_id:{$oid:"5488475d77a5910c002452d3"}},{player:"Khronnuz",x:99,score:1480,date:1418217318297,_id:{$oid:"5488476677a5910c002452d4"}},{player:"Khronnuz",x:95,score:1962,date:1418217342677,_id:{$oid:"5488477e77a5910c002452d5"}},{player:"mandre",x:213,score:7316,date:1418218950535,_id:{$oid:"54884dc677a5910c002452d6"}},{player:"Nox",x:153,score:3875,date:1418219396875,_id:{$oid:"54884f8477a5910c002452d7"}},{player:"Nox",x:246,score:4953,date:1418219446390,_id:{$oid:"54884fb677a5910c002452d8"}},{player:"Nox",x:85,score:2894,date:1418219495129,_id:{$oid:"54884fe777a5910c002452d9"}},{player:"Nox",x:264,score:4356,date:1418219535912,_id:{$oid:"5488500f77a5910c002452da"}},{player:"Perse",x:163,score:3927,date:1418221916237,_id:{$oid:"5488595c77a5910c002452db"}},{player:"Perse",x:142,score:5798,date:1418221971308,_id:{$oid:"5488599377a5910c002452dc"}},{player:"Perse",x:70,score:8182,date:1418222062131,_id:{$oid:"548859ee77a5910c002452dd"}},{player:"val",x:125,score:5849,date:1418222712755,_id:{$oid:"54885c7877a5910c002452de"}},{player:"mat",x:64,score:6340,date:1418228786650,_id:{$oid:"5488743279b0810c002a4816"}},{player:"mandre",x:210,score:4354,date:1418230323908,_id:{$oid:"54887a3379b0810c002a4817"}},{player:"mandre",x:83,score:2484,date:1418230350234,_id:{$oid:"54887a4e79b0810c002a4818"}},{player:"mandre",x:206,score:4844,date:1418230419961,_id:{$oid:"54887a9379b0810c002a4819"}},{player:"mandre",x:102,score:4942,date:1418230483861,_id:{$oid:"54887ad379b0810c002a481a"}},{player:"mandre",x:217,score:7313,date:1418230559450,_id:{$oid:"54887b1f79b0810c002a481b"}},{player:"mandre",x:313,score:2877,date:1418230601004,_id:{$oid:"54887b4979b0810c002a481c"}},{player:"mandre",x:146,score:8298,date:1418230683067,_id:{$oid:"54887b9b79b0810c002a481d"}},{player:"mandre",x:255,score:3338,date:1418230719206,_id:{$oid:"54887bbf79b0810c002a481e"}},{player:"Dave",x:201,score:5794,date:1418232762324,_id:{$oid:"548883ba79b0810c002a481f"}},{player:"gre",x:222,score:3949,date:1418232874183,_id:{$oid:"5488842a79b0810c002a4820"}},{player:"gre",x:32,score:520,date:1418232886277,_id:{$oid:"5488843679b0810c002a4821"}},{player:"gre",x:167,score:4955,date:1418232925780,_id:{$oid:"5488845d79b0810c002a4822"}},{player:"gre",x:0,score:520,date:1418232939583,_id:{$oid:"5488846b79b0810c002a4823"}},{player:"gre",x:222,score:5849,date:1418232984444,_id:{$oid:"5488849879b0810c002a4824"}},{player:"mar",x:147,score:4939,date:1418237750148,_id:{$oid:"5488973679b0810c002a4825"}},{player:"mar",x:149,score:6823,date:1418237827017,_id:{$oid:"5488978379b0810c002a4826"}},{player:"rinick",x:140,score:7830,date:1418245355881,_id:{$oid:"5488b4eb5b6b400c00a1ff27"}},{player:"rinick",x:122,score:5818,date:1418245411481,_id:{$oid:"5488b5235b6b400c00a1ff28"}},{player:"rinick",x:84,score:7836,date:1418245482278,_id:{$oid:"5488b56a5b6b400c00a1ff29"}},{player:"rinick",x:85,score:6887,date:1418245538057,_id:{$oid:"5488b5a25b6b400c00a1ff2a"}},{player:"rinick",x:0,score:7730,date:1418245635847,_id:{$oid:"5488b6035b6b400c00a1ff2b"}},{player:"rinick",x:126,score:5868,date:1418245685119,_id:{$oid:"5488b6355b6b400c00a1ff2c"}},{player:"Snortie",x:166,score:4948,date:1418251796944,_id:{$oid:"5488ce142b500e0c00159627"}},{player:"Snortie",x:141,score:4907,date:1418251847281,_id:{$oid:"5488ce472b500e0c00159628"}},{player:"rinick",x:209,score:8224,date:1418262775365,_id:{$oid:"5488f8f7ef231a0c00b8d598"}},{player:"rinick",x:111,score:6819,date:1418262827099,_id:{$oid:"5488f92bef231a0c00b8d599"}},{player:"gre",x:211,score:2571,date:1418294356128,_id:{$oid:"548974549a60860c00781234"}},{player:"Timshel",x:207,score:5869,date:1418294379445,_id:{$oid:"5489746b9a60860c00781235"}},{player:"gre",x:190,score:2011,date:1418294379565,_id:{$oid:"5489746b9a60860c00781236"}},{player:"gre",x:104,score:9210,date:1418294507349,_id:{$oid:"548974eb9a60860c00781237"}},{player:"Timshel",x:168,score:5858,date:1418294555505,_id:{$oid:"5489751b9a60860c00781238"}},{player:"gre",x:145,score:5317,date:1418294566633,_id:{$oid:"548975269a60860c00781239"}},{player:"Timshel",x:186,score:5320,date:1418294634156,_id:{$oid:"5489756a9a60860c0078123a"}},{player:"gre",x:183,score:7302,date:1418294651461,_id:{$oid:"5489757b9a60860c0078123b"}},{player:"gre",x:190,score:2532,date:1418294680537,_id:{$oid:"548975989a60860c0078123c"}},{player:"gre",x:188,score:5392,date:1418294732564,_id:{$oid:"548975cc9a60860c0078123d"}},{player:"gre",x:206,score:5338,date:1418294790774,_id:{$oid:"548976069a60860c0078123e"}},{player:"Timshel",x:4,score:7667,date:1418294806143,_id:{$oid:"548976169a60860c0078123f"}},{player:"gre",x:139,score:4901,date:1418294894417,_id:{$oid:"5489766e9a60860c00781240"}},{player:"Timshel",x:137,score:5322,date:1418294930488,_id:{$oid:"548976929a60860c00781241"}},{player:"gre",x:108,score:10176,date:1418295048197,_id:{$oid:"548977089a60860c00781242"}},{player:"Timshel",x:105,score:9226,date:1418295566241,_id:{$oid:"5489790e9a60860c00781243"}},{player:"gre",x:320,score:2009,date:1418295633057,_id:{$oid:"548979519a60860c00781244"}},{player:"Solomillo",x:165,score:1998,date:1418296548351,_id:{$oid:"54897ce49a60860c00781245"}},{player:"Solomillo",x:180,score:5310,date:1418296602987,_id:{$oid:"54897d1a9a60860c00781246"}},{player:"jeremy",x:136,score:1989,date:1418296693564,_id:{$oid:"54897d759a60860c00781247"}},{player:"jeremy",x:320,score:6878,date:1418296812844,_id:{$oid:"54897dec9a60860c00781248"}},{player:"gre",x:95,score:9669,date:1418301630146,_id:{$oid:"548990be392c740c00632248"}},{player:"Nico",x:116,score:6749,date:1418302813742,_id:{$oid:"5489955d392c740c00632249"}},{player:"Nico",x:258,score:2506,date:1418302851569,_id:{$oid:"54899583392c740c0063224a"}},{player:"Nico",x:191,score:6373,date:1418302906580,_id:{$oid:"548995ba392c740c0063224b"}},{player:"Napoleon",x:97,score:3411,date:1418313536545,_id:{$oid:"5489bf40f97e280c00caf77b"}},{player:"Napoleon",x:83,score:8346,date:1418313649457,_id:{$oid:"5489bfb1f97e280c00caf77c"}},{player:"Napoleon",x:193,score:4906,date:1418313761522,_id:{$oid:"5489c021f97e280c00caf77d"}},{player:"Napoleon",x:259,score:6393,date:1418313839496,_id:{$oid:"5489c06ff97e280c00caf77e"}},{player:"Napoleon",x:175,score:5246,date:1418313935709,_id:{$oid:"5489c0cff97e280c00caf77f"}},{player:"Napoleon",x:160,score:1019,date:1418313950211,_id:{$oid:"5489c0def97e280c00caf780"}},{player:"Napoleon",x:176,score:4018,date:1418313993509,_id:{$oid:"5489c109f97e280c00caf781"}},{player:"Napoleon",x:136,score:7304,date:1418314074725,_id:{$oid:"5489c15af97e280c00caf782"}},{player:"Napoleon",x:228,score:2502,date:1418314108250,_id:{$oid:"5489c17cf97e280c00caf783"}},{player:"Napoleon",x:220,score:2500,date:1418314135791,_id:{$oid:"5489c197f97e280c00caf784"}},{player:"Napoleon",x:111,score:3401,date:1418314164446,_id:{$oid:"5489c1b4f97e280c00caf785"}},{player:"Napoleon",x:230,score:2964,date:1418314188335,_id:{$oid:"5489c1ccf97e280c00caf786"}},{player:"Napoleon",x:93,score:616,date:1418314200786,_id:{$oid:"5489c1d8f97e280c00caf787"}},{player:"Napoleon",x:196,score:2920,date:1418314224121,_id:{$oid:"5489c1f0f97e280c00caf788"}},{player:"Napoleon",x:209,score:1480,date:1418314240915,_id:{$oid:"5489c200f97e280c00caf789"}},{player:"Napoleon",x:206,score:1503,date:1418314257686,_id:{$oid:"5489c211f97e280c00caf78a"}},{player:"Napoleon",x:126,score:610,date:1418314269734,_id:{$oid:"5489c21df97e280c00caf78b"}},{player:"Napoleon",x:296,score:1e3,date:1418314283512,_id:{$oid:"5489c22bf97e280c00caf78c"}},{player:"Napoleon",x:159,score:1485,date:1418314300128,_id:{$oid:"5489c23cf97e280c00caf78d"}},{player:"Napoleon",x:233,score:1070,date:1418314314902,_id:{$oid:"5489c24af97e280c00caf78e"}},{player:"Napoleon",x:153,score:613,date:1418314329386,_id:{$oid:"5489c259f97e280c00caf78f"}},{player:"Napoleon",x:123,score:623,date:1418314342759,_id:{$oid:"5489c266f97e280c00caf790"}},{player:"Napoleon",x:179,score:1962,date:1418314399339,_id:{$oid:"5489c29ff97e280c00caf791"}},{player:"Napoleon",x:274,score:3940,date:1418314428532,_id:{$oid:"5489c2bcf97e280c00caf792"}},{player:"Napoleon",x:179,score:600,date:1418315872166,_id:{$oid:"5489c860f97e280c00caf793"}},{player:"Napoleon",x:132,score:10198,date:1418315976726,_id:{$oid:"5489c8c8f97e280c00caf794"}},{player:"Timshel",x:104,score:9119,date:1418316730595,_id:{$oid:"5489cbbaf97e280c00caf795"}},{player:"Timshel",x:121,score:8263,date:1418316832442,_id:{$oid:"5489cc20f97e280c00caf796"}},{player:"Timshel",x:172,score:8293,date:1418316931823,_id:{$oid:"5489cc83f97e280c00caf797"}},{player:"xperiments",x:23,score:1001,date:1418318131783,_id:{$oid:"5489d133f97e280c00caf798"}},{player:"Timshel",x:216,score:2029,date:1418318889783,_id:{$oid:"5489d429f97e280c00caf799"}},{player:"Timshel",x:160,score:5791,date:1418318940123,_id:{$oid:"5489d45cf97e280c00caf79a"}},{player:"Snortie",x:160,score:1070,date:1418322468822,_id:{$oid:"5489e224f97e280c00caf79b"}},{player:"Snortie",x:158,score:2500,date:1418322498982,_id:{$oid:"5489e242f97e280c00caf79c"}},{player:"Snortie",x:176,score:4427,date:1418322562951,_id:{$oid:"5489e282f97e280c00caf79d"}},{player:"Snortie",x:181,score:3924,date:1418322598539,_id:{$oid:"5489e2a6f97e280c00caf79e"}},{player:"abc",x:241,score:1481,date:1418324198239,_id:{$oid:"5489e8e6f97e280c00caf79f"}},{player:"abc",x:231,score:6755,date:1418324271889,_id:{$oid:"5489e92ff97e280c00caf7a0"}},{player:"Napoleon",x:273,score:2509,date:1418329985676,_id:{$oid:"5489ff813005b80c00a51256"}},{player:"drnick",x:220,score:3400,date:1418335161555,_id:{$oid:"548a13b940fad50c00d5acdc"}},{player:"drnick",x:160,score:5805,date:1418335243297,_id:{$oid:"548a140b40fad50c00d5acdd"}},{player:"drnick",x:320,score:7326,date:1418335430933,_id:{$oid:"548a14c640fad50c00d5acde"}},{player:"drnick",x:282,score:6345,date:1418335499563,_id:{$oid:"548a150b40fad50c00d5acdf"}},{player:"drnick",x:166,score:5330,date:1418335551335,_id:{$oid:"548a153f40fad50c00d5ace0"}},{player:"drnick",x:172,score:6766,date:1418335639960,_id:{$oid:"548a159740fad50c00d5ace1"}},{player:"drnick",x:96,score:10147,date:1418336199300,_id:{$oid:"548a17c740fad50c00d5ace2"}},{player:"Bob",x:227,score:2924,date:1418362350188,_id:{$oid:"548a7deee1dc700c00be7b68"}},{player:"Bob",x:114,score:1958,date:1418362371627,_id:{$oid:"548a7e03e1dc700c00be7b69"}},{player:"Bob",x:88,score:2920,date:1418362399205,_id:{$oid:"548a7e1fe1dc700c00be7b6a"}},{player:"Bob",x:262,score:4962,date:1418362439373,_id:{$oid:"548a7e47e1dc700c00be7b6b"}},{player:"Timshel",x:65,score:9236,date:1418376472799,_id:{$oid:"548ab518b1bb7c0c0058273e"}},{player:"Napoleon",x:157,score:6398,date:1418380383786,_id:{$oid:"548ac45fb1bb7c0c0058273f"}},{player:"Napoleon",x:68,score:2445,date:1418380408232,_id:{$oid:"548ac478b1bb7c0c00582740"}},{player:"Napoleon",x:42,score:10228,date:1418380532487,_id:{$oid:"548ac4f4b1bb7c0c00582741"}},{player:"Timshel",x:148,score:5800,date:1418380702747,_id:{$oid:"548ac59eb1bb7c0c00582742"}},{player:"Timshel",x:199,score:999,date:1418380727559,_id:{$oid:"548ac5b7b1bb7c0c00582743"}},{player:"Timshel",x:313,score:1066,date:1418380741908,_id:{$oid:"548ac5c5b1bb7c0c00582744"}},{player:"Timshel",x:154,score:1009,date:1418380755963,_id:{$oid:"548ac5d3b1bb7c0c00582745"}},{player:"Napoleon",x:152,score:7229,date:1418380768079,_id:{$oid:"548ac5e0b1bb7c0c00582746"}},{player:"gre",x:52,score:6831,date:1418380871008,_id:{$oid:"548ac647b1bb7c0c00582747"}},{player:"Napoleon",x:42,score:9263,date:1418380901453,_id:{$oid:"548ac665b1bb7c0c00582748"}},{player:"gre",x:134,score:7286,date:1418380936587,_id:{$oid:"548ac688b1bb7c0c00582749"}},{player:"gre",x:60,score:1956,date:1418380956275,_id:{$oid:"548ac69cb1bb7c0c0058274a"}},{player:"Napoleon",x:120,score:9744,date:1418381005509,_id:{$oid:"548ac6cdb1bb7c0c0058274b"}},{player:"gre",x:109,score:7230,date:1418381011350,_id:{$oid:"548ac6d3b1bb7c0c0058274c"}},{player:"Napoleon",x:96,score:2974,date:1418381034339,_id:{$oid:"548ac6eab1bb7c0c0058274d"}},{player:"gre",x:103,score:2915,date:1418381072843,_id:{$oid:"548ac710b1bb7c0c0058274e"}},{player:"gre",x:194,score:7251,date:1418381139949,_id:{$oid:"548ac753b1bb7c0c0058274f"}},{player:"gre",x:82,score:7234,date:1418381206051,_id:{$oid:"548ac796b1bb7c0c00582750"}},{player:"Napoleon",x:141,score:9119,date:1418381217307,_id:{$oid:"548ac7a1b1bb7c0c00582751"}},{player:"gre",x:109,score:6356,date:1418381254593,_id:{$oid:"548ac7c6b1bb7c0c00582752"}},{player:"Napoleon",x:194,score:5790,date:1418381264318,_id:{$oid:"548ac7d0b1bb7c0c00582753"}},{player:"Napoleon",x:118,score:2919,date:1418381292156,_id:{$oid:"548ac7ecb1bb7c0c00582754"}},{player:"gre",x:104,score:7426,date:1418381332022,_id:{$oid:"548ac814b1bb7c0c00582755"}},{player:"gre",x:226,score:9258,date:1418381401331,_id:{$oid:"548ac859b1bb7c0c00582756"}},{player:"Napoleon",x:132,score:7352,date:1418381429787,_id:{$oid:"548ac875b1bb7c0c00582757"}},{player:"gre",x:165,score:5795,date:1418381482902,_id:{$oid:"548ac8aab1bb7c0c00582758"}},{player:"Napoleon",x:171,score:3399,date:1418381483415,_id:{$oid:"548ac8abb1bb7c0c00582759"}},{player:"Napoleon",x:263,score:1e3,date:1418381498616,_id:{$oid:"548ac8bab1bb7c0c0058275a"}},{player:"gre",x:156,score:2507,date:1418381509407,_id:{$oid:"548ac8c5b1bb7c0c0058275b"}},{player:"Napoleon",x:229,score:1538,date:1418381515450,_id:{$oid:"548ac8cbb1bb7c0c0058275c"}},{player:"gre",x:280,score:2978,date:1418381534319,_id:{$oid:"548ac8deb1bb7c0c0058275d"}},{player:"Napoleon",x:181,score:6831,date:1418381623425,_id:{$oid:"548ac937b1bb7c0c0058275e"}},{player:"Napoleon",x:243,score:3009,date:1418381664678,_id:{$oid:"548ac960b1bb7c0c0058275f"}},{player:"gre",x:103,score:8822,date:1418382122653,_id:{$oid:"548acb2ab1bb7c0c00582760"}},{player:"gre",x:75,score:7209,date:1418382656599,_id:{$oid:"548acd40b1bb7c0c00582761"}},{player:"alevidd",x:89,score:4886,date:1418383303075,_id:{$oid:"548acfc7b1bb7c0c00582762"}},{player:"Gwilym",x:115,score:9648,date:1418383503798,_id:{$oid:"548ad08fb1bb7c0c00582763"}},{player:"Gwilym",x:179,score:7240,date:1418383575973,_id:{$oid:"548ad0d7b1bb7c0c00582764"}},{player:"Gwilym",x:120,score:7247,date:1418383667893,_id:{$oid:"548ad133b1bb7c0c00582765"}},{player:"Gwilym",x:151,score:7251,date:1418383781629,_id:{$oid:"548ad1a5b1bb7c0c00582766"}},{player:"Gwilym",x:186,score:7280,date:1418383853449,_id:{$oid:"548ad1edb1bb7c0c00582767"}},{player:"Toni",x:126,score:7236,date:1418384280181,_id:{$oid:"548ad398b1bb7c0c00582768"}},{player:"Toni",x:174,score:7304,date:1418384344523,_id:{$oid:"548ad3d8b1bb7c0c00582769"}},{player:"Egor",x:320,score:1037,date:1418386425751,_id:{$oid:"548adbf9b1bb7c0c0058276a"}},{player:"Egor",x:181,score:1538,date:1418386451800,_id:{$oid:"548adc13b1bb7c0c0058276b"}},{player:"Egor",x:283,score:5872,date:1418386532877,_id:{$oid:"548adc64b1bb7c0c0058276c"}},{player:"Timshel",x:84,score:9765,date:1418387830005,_id:{$oid:"548ae176b1bb7c0c0058276d"}},{player:"Leaden",x:142,score:2915,date:1418387958137,_id:{$oid:"548ae1f6b1bb7c0c0058276e"}},{player:"Leaden",x:77,score:2928,date:1418387986664,_id:{$oid:"548ae212b1bb7c0c0058276f"}},{player:"Leaden",x:51,score:2913,date:1418388017570,_id:{$oid:"548ae231b1bb7c0c00582770"}},{player:"Leaden",x:320,score:1e3,date:1418388031965,_id:{$oid:"548ae23fb1bb7c0c00582771"}},{player:"Leaden",x:202,score:5776,date:1418388090254,_id:{$oid:"548ae27ab1bb7c0c00582772"}},{player:"belvaaaa",x:177,score:1560,date:1418388462677,_id:{$oid:"548ae3eeb1bb7c0c00582773"}},{player:"belvaaaa",x:183,score:3879,date:1418388518073,_id:{$oid:"548ae426b1bb7c0c00582774"}},{player:"belvaaaa",x:153,score:4822,date:1418388791068,_id:{$oid:"548ae537b1bb7c0c00582775"}},{player:"belvaaaa",x:147,score:520,date:1418388811313,_id:{$oid:"548ae54bb1bb7c0c00582776"}},{player:"belvaaaa",x:139,score:5801,date:1418388933063,_id:{$oid:"548ae5c5b1bb7c0c00582777"}},{player:"belvaaaa",x:156,score:556,date:1418388966133,_id:{$oid:"548ae5e6b1bb7c0c00582778"}},{player:"james",x:169,score:2435,date:1418389666502,_id:{$oid:"548ae8a2b1bb7c0c00582779"}},{player:"james",x:103,score:999,date:1418389688888,_id:{$oid:"548ae8b8b1bb7c0c0058277a"}},{player:"james",x:97,score:3916,date:1418389737657,_id:{$oid:"548ae8e9b1bb7c0c0058277b"}},{player:"james",x:131,score:2992,date:1418389782036,_id:{$oid:"548ae916b1bb7c0c0058277c"}},{player:"gre",x:274,score:9198,date:1418389786516,_id:{$oid:"548ae91ab1bb7c0c0058277d"}},{player:"andy",x:146,score:1033,date:1418389863979,_id:{$oid:"548ae967b1bb7c0c0058277e"}},{player:"andy",x:161,score:9142,date:1418389966076,_id:{$oid:"548ae9ceb1bb7c0c0058277f"}},{player:"andy",x:255,score:4535,date:1418390123597,_id:{$oid:"548aea6bb1bb7c0c00582780"}},{player:"andy",x:124,score:4819,date:1418390200937,_id:{$oid:"548aeab8b1bb7c0c00582781"}},{player:"Napoleon",x:134,score:4840,date:1418392335211,_id:{$oid:"548af30fb1bb7c0c00582782"}},{player:"Napoleon",x:170,score:9144,date:1418392421952,_id:{$oid:"548af365b1bb7c0c00582783"}},{player:"gre",x:178,score:6812,date:1418392457439,_id:{$oid:"548af389b1bb7c0c00582784"}},{player:"Napoleon",x:38,score:9276,date:1418392543856,_id:{$oid:"548af3dfb1bb7c0c00582785"}},{player:"Napoleon",x:239,score:8735,date:1418392607812,_id:{$oid:"548af41fb1bb7c0c00582786"}},{player:"Napoleon",x:120,score:7296,date:1418392664164,_id:{$oid:"548af458b1bb7c0c00582787"}},{player:"Yolo",x:122,score:1478,date:1418392665945,_id:{$oid:"548af459b1bb7c0c00582788"}},{player:"Napoleon",x:154,score:1025,date:1418392679070,_id:{$oid:"548af467b1bb7c0c00582789"}},{player:"Yolo",x:160,score:588,date:1418392681183,_id:{$oid:"548af469b1bb7c0c0058278a"}},{player:"Napoleon",x:179,score:2450,date:1418392702006,_id:{$oid:"548af47eb1bb7c0c0058278b"}},{player:"Yolo",x:130,score:1063,date:1418392709579,_id:{$oid:"548af485b1bb7c0c0058278c"}},{player:"Timshel",x:155,score:3898,date:1418392733020,_id:{$oid:"548af49db1bb7c0c0058278d"}},{player:"Yolo",x:182,score:2950,date:1418392750003,_id:{$oid:"548af4aeb1bb7c0c0058278e"}},{player:"TrueYolo",x:160,score:546,date:1418392768687,_id:{$oid:"548af4c0b1bb7c0c0058278f"}},{player:"Napoleon",x:152,score:10699,date:1418392781827,_id:{$oid:"548af4cdb1bb7c0c00582790"}},{player:"Yolo",x:97,score:5361,date:1418392798885,_id:{$oid:"548af4deb1bb7c0c00582791"}},{player:"Timshel",x:113,score:1965,date:1418392810882,_id:{$oid:"548af4eab1bb7c0c00582792"}},{player:"Timshel",x:117,score:7239,date:1418392872619,_id:{$oid:"548af528b1bb7c0c00582793"}},{player:"Timshel",x:141,score:7293,date:1418392937647,_id:{$oid:"548af569b1bb7c0c00582794"}},{player:"Timshel",x:84,score:6527,date:1418392993086,_id:{$oid:"548af5a1b1bb7c0c00582795"}},{player:"SatoshiN",x:134,score:9142,date:1418393005309,_id:{$oid:"548af5adb1bb7c0c00582796"}},{player:"SatoshiN",x:158,score:7264,date:1418393081084,_id:{$oid:"548af5f9b1bb7c0c00582797"}},{player:"Timshel",x:100,score:7273,date:1418393101172,_id:{$oid:"548af60db1bb7c0c00582798"}},{player:"Timshel",x:48,score:7358,date:1418393158314,_id:{$oid:"548af646b1bb7c0c00582799"}},{player:"SatoshiN",x:94,score:7368,date:1418393162711,_id:{$oid:"548af64ab1bb7c0c0058279a"}},{player:"Timshel",x:106,score:534,date:1418393170403,_id:{$oid:"548af652b1bb7c0c0058279b"}},{player:"Timshel",x:118,score:1959,date:1418393189705,_id:{$oid:"548af665b1bb7c0c0058279c"}},{player:"SatoshiN",x:208,score:7301,date:1418393227742,_id:{$oid:"548af68bb1bb7c0c0058279d"}},{player:"Timshel",x:148,score:7306,date:1418393260479,_id:{$oid:"548af6acb1bb7c0c0058279e"}},{player:"Bobylito",x:129,score:7287,date:1418393272110,_id:{$oid:"548af6b8b1bb7c0c0058279f"}},{player:"Timshel",x:193,score:1063,date:1418393292613,_id:{$oid:"548af6ccb1bb7c0c005827a0"}},{player:"SatoshiN",x:217,score:9301,date:1418393293839,_id:{$oid:"548af6cdb1bb7c0c005827a1"}},{player:"Bobylito",x:103,score:7707,date:1418393345635,_id:{$oid:"548af701b1bb7c0c005827a2"}},{player:"SatoshiN",x:35,score:9625,date:1418393378210,_id:{$oid:"548af722b1bb7c0c005827a3"}},{player:"Timshel",x:237,score:9700,date:1418393392191,_id:{$oid:"548af730b1bb7c0c005827a4"}},{player:"SatoshiN",x:107,score:9764,date:1418393459591,_id:{$oid:"548af773b1bb7c0c005827a5"}},{player:"Bobylito",x:149,score:7290,date:1418393528144,_id:{$oid:"548af7b8b1bb7c0c005827a6"}},{player:"SatoshiN",x:221,score:9701,date:1418393567018,_id:{$oid:"548af7dfb1bb7c0c005827a7"}},{player:"Napoleon",x:152,score:7317,date:1418393759706,_id:{$oid:"548af89fb1bb7c0c005827a8"}},{player:"Napoleon",x:175,score:5394,date:1418393797875,_id:{$oid:"548af8c5b1bb7c0c005827a9"}},{player:"Napoleon",x:129,score:1546,date:1418393814426,_id:{$oid:"548af8d6b1bb7c0c005827aa"}},{player:"SatoshiN",x:119,score:9308,date:1418394065299,_id:{$oid:"548af9d1b1bb7c0c005827ab"}},{player:"SatoshiN",x:228,score:1073,date:1418394080284,_id:{$oid:"548af9e0b1bb7c0c005827ac"}},{player:"Timshel",x:95,score:6757,date:1418395018263,_id:{$oid:"548afd8ab1bb7c0c005827ad"}},{player:"Timshel",x:125,score:7258,date:1418395092854,_id:{$oid:"548afdd4b1bb7c0c005827ae"}},{player:"Timshel",x:132,score:7400,date:1418395205562,_id:{$oid:"548afe45b1bb7c0c005827af"}},{player:"Timshel",x:196,score:1959,date:1418395260848,_id:{$oid:"548afe7cb1bb7c0c005827b0"}},{player:"Timshel",x:165,score:2966,date:1418395964889,_id:{$oid:"548b013cb1bb7c0c005827b1"}},{player:"MrSpeaker",x:160,score:33,date:1418400765239,_id:{$oid:"548b13fdb1bb7c0c005827b2"}},{player:"eemmbbeerr",x:113,score:7314,date:1418400825261,_id:{$oid:"548b1439b1bb7c0c005827b3"}},{player:"eemmbbeerr",x:168,score:7264,date:1418400893605,_id:{$oid:"548b147db1bb7c0c005827b4"}},{player:"MrSpeaker",x:235,score:3038,date:1418401037317,_id:{$oid:"548b150db1bb7c0c005827b5"}},{player:"MrSpeaker",x:215,score:2918,date:1418401065201,_id:{$oid:"548b1529b1bb7c0c005827b6"}},{player:"gre",x:113,score:1530,date:1418409566565,_id:{$oid:"548b365e5d6bc10c00eef045"}},{player:"gre",x:115,score:8666,date:1418409639639,_id:{$oid:"548b36a75d6bc10c00eef046"}},{player:"Napoleon",x:132,score:2934,date:1418415453351,_id:{$oid:"548b4d5d7745420c00539a5b"}},{player:"Napoleon",x:155,score:3399,date:1418415482880,_id:{$oid:"548b4d7a7745420c00539a5c"}},{player:"Napoleon",x:161,score:7239,date:1418415552183,_id:{$oid:"548b4dc07745420c00539a5d"}},{player:"Napoleon",x:151,score:3394,date:1418415580878,_id:{$oid:"548b4ddc7745420c00539a5e"}},{player:"asd",x:108,score:2934,date:1418417008756,_id:{$oid:"548b53707745420c00539a5f"}},{player:"asd",x:134,score:7294,date:1418417074358,_id:{$oid:"548b53b27745420c00539a60"}},{player:"asd",x:83,score:7225,date:1418417162332,_id:{$oid:"548b540a7745420c00539a61"}},{player:"twintrite",x:126,score:1053,date:1418419128239,_id:{$oid:"548b5bb87745420c00539a62"}},{player:"twintrite",x:150,score:7219,date:1418419212267,_id:{$oid:"548b5c0c7745420c00539a63"}},{player:"mandre",x:189,score:7371,date:1418421602822,_id:{$oid:"548b65627745420c00539a64"}},{player:"mandre",x:217,score:4457,date:1418421638725,_id:{$oid:"548b65867745420c00539a65"}},{player:"mandre",x:148,score:7358,date:1418421698409,_id:{$oid:"548b65c27745420c00539a66"}},{player:"mandre",x:125,score:4840,date:1418421734957,_id:{$oid:"548b65e67745420c00539a67"}},{player:"mandre",x:56,score:7252,date:1418422113501,_id:{$oid:"548b67617745420c00539a68"}},{player:"mandre",x:222,score:9740,date:1418422228364,_id:{$oid:"548b67d47745420c00539a69"}},{player:"reb",x:189,score:1959,date:1418425342588,_id:{$oid:"548b73fe7745420c00539a6a"}},{player:"jaggedsoft",x:173,score:553,date:1418425493231,_id:{$oid:"548b74957745420c00539a6b"}},{player:"FrozenCow",x:267,score:5865,date:1418426213677,_id:{$oid:"548b77657745420c00539a6c"}},{player:"gre",x:118,score:7702,date:1418427404531,_id:{$oid:"548b7c0c7745420c00539a6d"}},{player:"FrozenCow",x:160,score:7,date:1418427954005,_id:{$oid:"548b7e327745420c00539a6e"}},{player:"FrozenCow",x:0,score:519,date:1418427972856,_id:{$oid:"548b7e447745420c00539a6f"}},{player:"gre",x:150,score:7245,date:1418428004772,_id:{$oid:"548b7e647745420c00539a70"}},{player:"FrozenCow",x:193,score:9689,date:1418428038484,_id:{$oid:"548b7e867745420c00539a71"}},{player:"chrissou",x:159,score:1060,date:1418428071304,_id:{$oid:"548b7ea77745420c00539a72"}},{player:"chrissou",x:127,score:6353,date:1418428130157,_id:{$oid:"548b7ee27745420c00539a73"}},{player:"Tom",x:153,score:3400,date:1418428220588,_id:{$oid:"548b7f3c7745420c00539a74"}},{player:"reb",x:149,score:550,date:1418428454575,_id:{$oid:"548b80267745420c00539a75"}},{player:"reb",x:103,score:566,date:1418428489655,_id:{$oid:"548b80497745420c00539a76"}},{player:"gre",x:156,score:6394,date:1418429271836,_id:{$oid:"548b83577745420c00539a77"}},{player:"Mary",x:216,score:630,date:1418429813140,_id:{$oid:"548b85757745420c00539a78"}},{player:"reb",x:220,score:2916,date:1418429955819,_id:{$oid:"548b86037745420c00539a7a"}},{player:"Giul",x:187,score:3458,date:1418429979457,_id:{$oid:"548b861b7745420c00539a7b"}},{player:"Giul",x:144,score:6319,date:1418430042112,_id:{$oid:"548b865a7745420c00539a7c"}},{player:"val",x:99,score:6757,date:1418430057220,_id:{$oid:"548b86697745420c00539a7d"}},{player:"val",x:219,score:2926,date:1418430088023,_id:{$oid:"548b86887745420c00539a7e"}},{player:"val",x:141,score:5793,date:1418430142010,_id:{$oid:"548b86be7745420c00539a7f"}},{player:"val",x:193,score:2437,date:1418430169456,_id:{$oid:"548b86d97745420c00539a80"}},{player:"val",x:145,score:5761,date:1418430233503,_id:{$oid:"548b87197745420c00539a81"}},{player:"val",x:166,score:5921,date:1418430293240,_id:{$oid:"548b87557745420c00539a82"}},{player:"val",x:313,score:6344,date:1418430358336,_id:{$oid:"548b87967745420c00539a83"}},{player:"val",x:201,score:3458,date:1418430401259,_id:{$oid:"548b87c17745420c00539a84"}},{player:"butt",x:199,score:5886,date:1418431625999,_id:{$oid:"548b8c8a7745420c00539a85"}},{player:"butt",x:121,score:6407,date:1418431683212,_id:{$oid:"548b8cc37745420c00539a86"}},{player:"charles",x:227,score:6358,date:1418436661807,_id:{$oid:"548ba0357745420c00539a87"}},{player:"Paul",x:208,score:6336,date:1418461157806,_id:{$oid:"548bffe5ee294c0c00c9bafa"}},{player:"Paul",x:199,score:6323,date:1418461243241,_id:{$oid:"548c003bee294c0c00c9bafb"}},{player:"Paul",x:103,score:6286,date:1418461318832,_id:{$oid:"548c0086ee294c0c00c9bafc"}},{player:"dio",x:127,score:6890,date:1418466645866,_id:{$oid:"548c1555ee294c0c00c9bafd"}},{player:"Napoleon",x:179,score:566,date:1418468230180,_id:{$oid:"548c1b86ee294c0c00c9bafe"}},{player:"Napoleon",x:160,score:606,date:1418468255230,_id:{$oid:"548c1b9fee294c0c00c9baff"}},{player:"Napoleon",x:160,score:683,date:1418468294959,_id:{$oid:"548c1bc6ee294c0c00c9bb00"}},{player:"poontanfg",x:166,score:1478,date:1418477893088,_id:{$oid:"548c41456041830c00748c31"}},{player:"jvelo",x:245,score:4359,date:1418503315106,_id:{$oid:"548ca493acf5c90c00a359c6"}},{player:"jvelo",x:163,score:6328,date:1418503366760,_id:{$oid:"548ca4c6acf5c90c00a359c7"}},{player:"Slepice1",x:201,score:5942,date:1418514932541,_id:{$oid:"548cd1f4ae72760c00372eb2"}},{player:"Slepice1",x:222,score:6383,date:1418514992516,_id:{$oid:"548cd230ae72760c00372eb3"}},{player:"Slepice1",x:145,score:5785,date:1418515060006,_id:{$oid:"548cd274ae72760c00372eb4"}},{player:"Slepice1",x:158,score:3398,date:1418515099196,_id:{$oid:"548cd29bae72760c00372eb5"}},{player:"skoggy",x:77,score:4360,date:1418583513826,_id:{$oid:"548dddd9be2bbc0c00d46607"}},{player:"kirbytails",x:169,score:586,date:1418601593438,_id:{$oid:"548e2479fd33fe0c005b5b79"}},{player:"kirbytails",x:169,score:3418,date:1418601644988,_id:{$oid:"548e24acfd33fe0c005b5b7a"}},{player:"kirbytails",x:296,score:9691,date:1418601727113,_id:{$oid:"548e24fffd33fe0c005b5b7b"}},{player:"Bob",x:148,score:7324,date:1418606165239,_id:{$oid:"548e3655d88bdd0c008dd84c"}},{player:"Timshel",x:320,score:1547,date:1418635450962,_id:{$oid:"548ea8ba487a580c007b8524"}},{player:"Timshel",x:76,score:10643,date:1418635550963,_id:{$oid:"548ea91e487a580c007b8525"}},{player:"vde",x:172,score:1544,date:1418635632489,_id:{$oid:"548ea970487a580c007b8526"}},{player:"vde",x:94,score:8801,date:1418635718790,_id:{$oid:"548ea9c6487a580c007b8527"}},{player:"Napoleon",x:307,score:8208,date:1418637216005,_id:{$oid:"548eafa0487a580c007b8528"}},{player:"Napoleon",x:112,score:8816,date:1418637288904,_id:{$oid:"548eafe8487a580c007b8529"}},{player:"3615Ula",x:160,score:297,date:1418637409598,_id:{$oid:"548eb061487a580c007b852a"}},{player:"Napoleon",x:261,score:8166,date:1418637410353,_id:{$oid:"548eb062487a580c007b852b"}},{player:"gre",x:178,score:8257,date:1418640763252,_id:{$oid:"548ebd7b487a580c007b852c"}},{player:"kiko",x:250,score:4909,date:1418641902837,_id:{$oid:"548ec1ee487a580c007b852d"}},{player:"bhuemer",x:103,score:591,date:1418646654354,_id:{$oid:"548ed47e487a580c007b852e"}},{player:"gre",x:112,score:4879,date:1418646657778,_id:{$oid:"548ed481487a580c007b852f"}},{player:"bhuemer",x:223,score:3875,date:1418646692554,_id:{$oid:"548ed4a4487a580c007b8530"}},{player:"Napoleon",x:158,score:8316,date:1418648725338,_id:{$oid:"548edc95487a580c007b8531"}},{player:"Napoleon",x:168,score:1510,date:1418648765420,_id:{$oid:"548edcbd487a580c007b8532"}},{player:"Napoleon",x:127,score:9700,date:1418648871157,_id:{$oid:"548edd27487a580c007b8533"}},{player:"Napoleon",x:160,score:520,date:1418649036974,_id:{$oid:"548eddcc487a580c007b8534"}},{player:"Napoleon",x:140,score:9593,date:1418649367809,_id:{$oid:"548edf17487a580c007b8535"}},{player:"Napoleon",x:155,score:7371,date:1418651452542,_id:{$oid:"548ee73c487a580c007b8536"}},{player:"Napoleon",x:172,score:8954,date:1418653550151,_id:{$oid:"548eef6e487a580c007b8537"}},{player:"Napoleon",x:123,score:1e3,date:1418653606483,_id:{$oid:"548eefa6487a580c007b8538"}},{player:"Napoleon",x:90,score:8808,date:1418653694877,_id:{$oid:"548eeffe487a580c007b8539"}},{player:"Napoleon",x:203,score:6273,date:1418656800565,_id:{$oid:"548efc20487a580c007b853a"}},{player:"gre",x:192,score:9731,date:1418660149386,_id:{$oid:"548f0935487a580c007b853b"}},{player:"Napoleon",x:176,score:8263,date:1418660222532,_id:{$oid:"548f097e487a580c007b853c"}},{player:"gre",x:153,score:520,date:1418660236640,_id:{$oid:"548f098c487a580c007b853d"}},{player:"Napoleon",x:197,score:1963,date:1418660241405,_id:{$oid:"548f0991487a580c007b853e"}},{player:"gre",x:236,score:543,date:1418660254803,_id:{$oid:"548f099e487a580c007b853f"}},{player:"gre",x:153,score:573,date:1418660290740,_id:{$oid:"548f09c2487a580c007b8540"}},{player:"Napoleon",x:101,score:8854,date:1418660316573,_id:{$oid:"548f09dc487a580c007b8541"}},{player:"Napoleon",x:148,score:3524,date:1418660344979,_id:{$oid:"548f09f8487a580c007b8542"}},{player:"mandre",x:142,score:3535,date:1418660353825,_id:{$oid:"548f0a01487a580c007b8543"}},{player:"Napoleon",x:196,score:2987,date:1418660374551,_id:{$oid:"548f0a16487a580c007b8544"}},{player:"Napoleon",x:162,score:11140,date:1418660462895,_id:{$oid:"548f0a6e487a580c007b8545"}},{player:"mandre",x:194,score:10181,date:1418660465390,_id:{$oid:"548f0a71487a580c007b8546"}},{player:"mandre",x:160,score:520,date:1418660479794,_id:{$oid:"548f0a7f487a580c007b8547"}},{player:"mandre",x:160,score:997,date:1418660493524,_id:{$oid:"548f0a8d487a580c007b8548"}},{player:"mandre",x:93,score:8266,date:1418660574129,_id:{$oid:"548f0ade487a580c007b8549"}},{player:"gre",x:120,score:8838,date:1418660576626,_id:{$oid:"548f0ae0487a580c007b854a"}},{player:"mandre",x:199,score:1553,date:1418660594382,_id:{$oid:"548f0af2487a580c007b854b"}},{player:"jill",x:187,score:2974,date:1418660601826,_id:{$oid:"548f0af9487a580c007b854c"}},{player:"Napoleon",x:236,score:7310,date:1418660641867,_id:{$oid:"548f0b21487a580c007b854d"}},{player:"mandre",x:131,score:9752,date:1418660688453,_id:{$oid:"548f0b50487a580c007b854e"}},{player:"Napoleon",x:180,score:2917,date:1418660690105,_id:{$oid:"548f0b52487a580c007b854f"}},{player:"jill",x:111,score:2007,date:1418660697707,_id:{$oid:"548f0b59487a580c007b8550"}},{player:"jill",x:169,score:1498,date:1418660724142,_id:{$oid:"548f0b74487a580c007b8551"}},{player:"gre",x:239,score:11075,date:1418660725392,_id:{$oid:"548f0b75487a580c007b8552"}},{player:"jill",x:160,score:566,date:1418660747007,_id:{$oid:"548f0b8b487a580c007b8553"}},{player:"mandre",x:228,score:8257,date:1418660757996,_id:{$oid:"548f0b95487a580c007b8554"}},{player:"jill",x:181,score:1521,date:1418660775233,_id:{$oid:"548f0ba7487a580c007b8555"}},{player:"Napoleon",x:140,score:7291,date:1418660781094,_id:{$oid:"548f0bad487a580c007b8556"}},{player:"gre",x:230,score:7299,date:1418660823118,_id:{$oid:"548f0bd7487a580c007b8557"}},{player:"Napoleon",x:144,score:7723,date:1418660875274,_id:{$oid:"548f0c0b487a580c007b8558"}},{player:"jill",x:205,score:8786,date:1418660888274,_id:{$oid:"548f0c18487a580c007b8559"}},{player:"jill",x:116,score:5854,date:1418660989699,_id:{$oid:"548f0c7d487a580c007b855a"}},{player:"jill",x:123,score:6338,date:1418661066131,_id:{$oid:"548f0cca487a580c007b855b"}},{player:"Napoleon",x:175,score:3400,date:1418661077061,_id:{$oid:"548f0cd5487a580c007b855c"}},{player:"mandre",x:136,score:2477,date:1418661085398,_id:{$oid:"548f0cdd487a580c007b855d"}},{player:"gre",x:142,score:2459,date:1418661095163,_id:{$oid:"548f0ce7487a580c007b855e"}},{player:"Napoleon",x:261,score:1477,date:1418661101369,_id:{$oid:"548f0ced487a580c007b855f"}},{player:"gre",x:166,score:1e3,date:1418661113019,_id:{$oid:"548f0cf9487a580c007b8560"}},{player:"jill",x:115,score:4855,date:1418661129815,_id:{$oid:"548f0d09487a580c007b8561"}},{player:"mandre",x:320,score:7299,date:1418661136380,_id:{$oid:"548f0d10487a580c007b8562"}},{player:"MrSpeaker",x:93,score:4843,date:1418661153462,_id:{$oid:"548f0d21487a580c007b8563"}},{player:"Napoleon",x:187,score:2473,date:1418661189907,_id:{$oid:"548f0d45487a580c007b8564"}},{player:"jill",x:132,score:6308,date:1418661214550,_id:{$oid:"548f0d5e487a580c007b8565"}},{player:"jill",x:57,score:4846,date:1418661281085,_id:{$oid:"548f0da1487a580c007b8566"}},{player:"jill",x:202,score:9708,date:1418661385050,_id:{$oid:"548f0e09487a580c007b8567"}},{player:"jill",x:157,score:3514,date:1418661514776,_id:{$oid:"548f0e8a487a580c007b8568"}},{player:"jill",x:157,score:3387,date:1418661551454,_id:{$oid:"548f0eaf487a580c007b8569"}},{player:"jill",x:124,score:3395,date:1418661605699,_id:{$oid:"548f0ee5487a580c007b856a"}},{player:"jill",x:145,score:8277,date:1418661724805,_id:{$oid:"548f0f5c487a580c007b856b"}},{player:"jill",x:158,score:3521,date:1418661789464,_id:{$oid:"548f0f9d487a580c007b856c"}},{player:"jill",x:176,score:3489,date:1418661843712,_id:{$oid:"548f0fd3487a580c007b856d"}},{player:"Napoleon",x:289,score:1473,date:1418661897730,_id:{$oid:"548f1009487a580c007b856e"}},{player:"sre",x:162,score:7267,date:1418661924540,_id:{$oid:"548f1024487a580c007b856f"}},{player:"jill",x:157,score:7284,date:1418661936699,_id:{$oid:"548f1030487a580c007b8570"}},{player:"jill",x:150,score:4859,date:1418662041827,_id:{$oid:"548f1099487a580c007b8571"}},{player:"sre",x:247,score:3515,date:1418662129346,_id:{$oid:"548f10f1487a580c007b8572"}},{player:"jill",x:168,score:7276,date:1418662160747,_id:{$oid:"548f1110487a580c007b8573"}},{player:"jill",x:131,score:8658,date:1418662288684,_id:{$oid:"548f1190487a580c007b8574"}},{player:"jill",x:165,score:3399,date:1418662328305,_id:{$oid:"548f11b8487a580c007b8575"}},{player:"jill",x:135,score:2488,date:1418662368724,_id:{$oid:"548f11e0487a580c007b8576"}},{player:"jill",x:174,score:3462,date:1418662414318,_id:{$oid:"548f120e487a580c007b8577"}},{player:"jill",x:138,score:5854,date:1418662468137,_id:{$oid:"548f1244487a580c007b8578"}},{player:"jill",x:116,score:2446,date:1418662507920,_id:{$oid:"548f126b487a580c007b8579"}},{player:"jill",x:172,score:3540,date:1418662542906,_id:{$oid:"548f128e487a580c007b857a"}},{player:"jill",x:183,score:3467,date:1418662601001,_id:{$oid:"548f12c9487a580c007b857b"}},{player:"jill",x:150,score:5859,date:1418662694810,_id:{$oid:"548f1326487a580c007b857c"}},{player:"jill",x:139,score:3512,date:1418662737369,_id:{$oid:"548f1351487a580c007b857d"}},{player:"jill",x:235,score:2919,date:1418662770131,_id:{$oid:"548f1372487a580c007b857e"}},{player:"jill",x:186,score:7271,date:1418662847835,_id:{$oid:"548f13bf487a580c007b857f"}},{player:"jill",x:167,score:3535,date:1418662886562,_id:{$oid:"548f13e6487a580c007b8580"}},{player:"jill",x:160,score:570,date:1418662899574,_id:{$oid:"548f13f3487a580c007b8581"}},{player:"Napoleon",x:232,score:9705,date:1418662900759,_id:{$oid:"548f13f4487a580c007b8582"}},{player:"Napoleon",x:175,score:8338,date:1418662964290,_id:{$oid:"548f1434487a580c007b8583"}},{player:"jill",x:235,score:8772,date:1418662998011,_id:{$oid:"548f1456487a580c007b8584"}},{player:"Napoleon",x:182,score:2927,date:1418663015882,_id:{$oid:"548f1467487a580c007b8585"}},{player:"jill",x:153,score:2501,date:1418663073425,_id:{$oid:"548f14a1487a580c007b8586"}},{player:"jill",x:160,score:593,date:1418663391369,_id:{$oid:"548f15df487a580c007b8587"}},{player:"jill",x:200,score:9666,date:1418663464751,_id:{$oid:"548f1628487a580c007b8588"}},{player:"val",x:110,score:7313,date:1418663551209,_id:{$oid:"548f167f487a580c007b8589"}},{player:"jill",x:231,score:1474,date:1418663719319,_id:{$oid:"548f1727487a580c007b858a"}},{player:"jill",x:160,score:589,date:1418663732689,_id:{$oid:"548f1734487a580c007b858b"}},{player:"jill",x:165,score:7240,date:1418663801854,_id:{$oid:"548f1779487a580c007b858c"}},{player:"jill",x:164,score:3391,date:1418663867644,_id:{$oid:"548f17bb487a580c007b858d"}},{player:"jill",x:180,score:4002,date:1418663905732,_id:{$oid:"548f17e1487a580c007b858e"}},{player:"jill",x:146,score:7319,date:1418663979440,_id:{$oid:"548f182b487a580c007b858f"}},{player:"jill",x:120,score:8255,date:1418664051386,_id:{$oid:"548f1873487a580c007b8590"}},{player:"jill",x:159,score:2487,date:1418664077072,_id:{$oid:"548f188d487a580c007b8591"}},{player:"jill",x:160,score:579,date:1418664089941,_id:{$oid:"548f1899487a580c007b8592"}},{player:"jill",x:150,score:2503,date:1418664114367,_id:{$oid:"548f18b2487a580c007b8593"}},{player:"jill",x:170,score:3499,date:1418664361903,_id:{$oid:"548f19a9487a580c007b8594"}},{player:"jill",x:150,score:5869,date:1418664426920,_id:{$oid:"548f19ea487a580c007b8595"}},{player:"jill",x:178,score:7250,date:1418664732259,_id:{$oid:"548f1b1c487a580c007b8596"}},{player:"jill",x:181,score:3528,date:1418664770352,_id:{$oid:"548f1b42487a580c007b8597"}},{player:"jill",x:191,score:1540,date:1418664874115,_id:{$oid:"548f1baa487a580c007b8598"}},{player:"jill",x:180,score:3452,date:1418664919892,_id:{$oid:"548f1bd7487a580c007b8599"}},{player:"jill",x:171,score:2517,date:1418664972912,_id:{$oid:"548f1c0c487a580c007b859a"}},{player:"jill",x:201,score:1484,date:1418665127003,_id:{$oid:"548f1ca7487a580c007b859b"}},{player:"jill",x:192,score:7359,date:1418665198515,_id:{$oid:"548f1cee487a580c007b859c"}},{player:"Napoleon",x:177,score:1960,date:1418670075357,_id:{$oid:"548f2ffb8186840c00ea4f63"}},{player:"jill",x:160,score:566,date:1418670104937,_id:{$oid:"548f30188186840c00ea4f64"}},{player:"Napoleon",x:158,score:2967,date:1418670128094,_id:{$oid:"548f30308186840c00ea4f65"}},{player:"Napoleon",x:226,score:1053,date:1418670142646,_id:{$oid:"548f303e8186840c00ea4f66"}},{player:"Napoleon",x:193,score:2440,date:1418670164186,_id:{$oid:"548f30548186840c00ea4f67"}},{player:"Napoleon",x:47,score:3447,date:1418670193750,_id:{$oid:"548f30718186840c00ea4f68"}},{player:"Napoleon",x:197,score:8786,date:1418670279213,_id:{$oid:"548f30c78186840c00ea4f69"}},{player:"Napoleon",x:183,score:3e3,date:1418670314355,_id:{$oid:"548f30ea8186840c00ea4f6a"}},{player:"Napoleon",x:205,score:1957,date:1418670336385,_id:{$oid:"548f31008186840c00ea4f6b"}},{player:"Napoleon",x:206,score:526,date:1418670347945,_id:{$oid:"548f310b8186840c00ea4f6c"}},{player:"Napoleon",x:265,score:1475,date:1418670386214,_id:{$oid:"548f31328186840c00ea4f6d"}},{player:"Napoleon",x:230,score:7296,date:1418670443122,_id:{$oid:"548f316b8186840c00ea4f6e"}},{player:"Napoleon",x:165,score:8250,date:1418670507172,_id:{$oid:"548f31ab8186840c00ea4f6f"}},{player:"Napoleon",x:110,score:9748,date:1418670581082,_id:{$oid:"548f31f58186840c00ea4f70"}},{player:"Napoleon",x:209,score:1551,date:1418670618621,_id:{$oid:"548f321a8186840c00ea4f71"}},{player:"Napoleon",x:179,score:8794,date:1418685455164,_id:{$oid:"548f6c0fa6f43d0c00478844"}},{player:"Napoleon",x:173,score:8205,date:1418685538468,_id:{$oid:"548f6c62a6f43d0c00478845"}},{player:"Napoleon",x:160,score:1e3,date:1418685552565,_id:{$oid:"548f6c70a6f43d0c00478846"}},{player:"Napoleon",x:109,score:1953,date:1418685611534,_id:{$oid:"548f6caba6f43d0c00478847"}},{player:"sre",x:126,score:6306,date:1418714351621,_id:{$oid:"548fdceff09d440c00e12d64"}},{player:"sre",x:202,score:1954,date:1418714460420,_id:{$oid:"548fdd5cf09d440c00e12d65"}},{player:"steven",x:271,score:1478,date:1418714679942,_id:{$oid:"548fde37f09d440c00e12d66"}},{player:"steven",x:218,score:6354,date:1418714744506,_id:{$oid:"548fde78f09d440c00e12d67"}},{player:"steven",x:305,score:2022,date:1418714769181,_id:{$oid:"548fde91f09d440c00e12d68"}},{player:"steven",x:135,score:7780,date:1418714837709,_id:{$oid:"548fded5f09d440c00e12d69"}},{player:"sre",x:125,score:5802,date:1418717270066,_id:{$oid:"548fe856f09d440c00e12d6a"}},{player:"sre",x:210,score:4414,date:1418721536241,_id:{$oid:"548ff9001c04f40c0004af32"}},{player:"sre",x:177,score:1486,date:1418721641297,_id:{$oid:"548ff9691c04f40c0004af33"}},{player:"sre",x:186,score:7809,date:1418721705812,_id:{$oid:"548ff9a91c04f40c0004af34"}},{player:"sre",x:320,score:2019,date:1418722869592,_id:{$oid:"548ffe351c04f40c0004af35"}},{player:"sre",x:205,score:9211,date:1418723903724,_id:{$oid:"5490023f1c04f40c0004af36"}},{player:"sre",x:187,score:6765,date:1418724683970,_id:{$oid:"5490054b1c04f40c0004af37"}},{player:"sre",x:173,score:3399,date:1418724815279,_id:{$oid:"549005cf1c04f40c0004af38"}},{player:"sre",x:243,score:5856,date:1418725045474,_id:{$oid:"549006b51c04f40c0004af39"}},{player:"jill",x:143,score:2493,date:1418725263915,_id:{$oid:"5490078f1c04f40c0004af3a"}},{player:"jill",x:181,score:3406,date:1418725349798,_id:{$oid:"549007e51c04f40c0004af3b"}},{player:"mandre",x:206,score:8257,date:1418726045705,_id:{$oid:"54900a9d1c04f40c0004af3c"}},{player:"mandre",x:76,score:3390,date:1418726073562,_id:{$oid:"54900ab91c04f40c0004af3d"}},{player:"mandre",x:263,score:1060,date:1418726087866,_id:{$oid:"54900ac71c04f40c0004af3e"}},{player:"mandre",x:125,score:9348,date:1418726176919,_id:{$oid:"54900b201c04f40c0004af3f"}},{player:"vde",x:123,score:9263,date:1418726180441,_id:{$oid:"54900b241c04f40c0004af40"}},{player:"sre",x:159,score:9153,date:1418726213506,_id:{$oid:"54900b451c04f40c0004af41"}},{player:"mandre",x:56,score:8810,date:1418726258459,_id:{$oid:"54900b721c04f40c0004af42"}},{player:"sre",x:153,score:4371,date:1418726388438,_id:{$oid:"54900bf41c04f40c0004af43"}},{player:"sre",x:192,score:4387,date:1418726440617,_id:{$oid:"54900c281c04f40c0004af44"}},{player:"sre",x:65,score:4888,date:1418726487377,_id:{$oid:"54900c571c04f40c0004af45"}},{player:"Timshel",x:117,score:8838,date:1418727258921,_id:{$oid:"54900f5a1c04f40c0004af46"}},{player:"vde",x:139,score:10556,date:1418727816346,_id:{$oid:"549011881c04f40c0004af47"}},{player:"Timshel",x:160,score:3392,date:1418727917785,_id:{$oid:"549011ed1c04f40c0004af48"}},{player:"Timshel",x:162,score:7708,date:1418727985872,_id:{$oid:"549012311c04f40c0004af49"}},{player:"Timshel",x:189,score:598,date:1418727999589,_id:{$oid:"5490123f1c04f40c0004af4a"}},{player:"Timshel",x:250,score:4892,date:1418728038102,_id:{$oid:"549012661c04f40c0004af4b"}},{player:"Timshel",x:123,score:5877,date:1418728094526,_id:{$oid:"5490129e1c04f40c0004af4c"}},{player:"Timshel",x:142,score:8868,date:1418728169793,_id:{$oid:"549012e91c04f40c0004af4d"}},{player:"Timshel",x:78,score:8788,date:1418728243175,_id:{$oid:"549013331c04f40c0004af4e"}},{player:"Timshel",x:83,score:8797,date:1418728346156,_id:{$oid:"5490139a1c04f40c0004af4f"}},{player:"Timshel",x:163,score:7771,date:1418728423082,_id:{$oid:"549013e71c04f40c0004af50"}},{player:"Timshel",x:143,score:589,date:1418728435281,_id:{$oid:"549013f31c04f40c0004af51"}},{player:"Timshel",x:227,score:581,date:1418728448321,_id:{$oid:"549014001c04f40c0004af52"}},{player:"Timshel",x:163,score:7237,date:1418728506832,_id:{$oid:"5490143a1c04f40c0004af53"}},{player:"Timshel",x:214,score:2016,date:1418728529516,_id:{$oid:"549014511c04f40c0004af54"}},{player:"Timshel",x:54,score:9144,date:1418728677821,_id:{$oid:"549014e51c04f40c0004af55"}},{player:"gre",x:189,score:5798,date:1418728678919,_id:{$oid:"549014e61c04f40c0004af56"}},{player:"gre",x:249,score:2033,date:1418728702340,_id:{$oid:"549014fe1c04f40c0004af57"}},{player:"Timshel",x:162,score:8862,date:1418728770404,_id:{$oid:"549015421c04f40c0004af58"}},{player:"Timshel",x:109,score:9261,date:1418728855202,_id:{$oid:"549015971c04f40c0004af59"}},{player:"gre",x:143,score:3405,date:1418728938505,_id:{$oid:"549015ea1c04f40c0004af5a"}},{player:"Timshel",x:172,score:8163,date:1418728952062,_id:{$oid:"549015f81c04f40c0004af5b"}},{player:"gre",x:169,score:1961,date:1418728962326,_id:{$oid:"549016021c04f40c0004af5c"}},{player:"Timshel",x:273,score:3943,date:1418732155602,_id:{$oid:"5490227b1c04f40c0004af5d"}},{player:"Timshel",x:133,score:4410,date:1418732192043,_id:{$oid:"549022a01c04f40c0004af5e"}},{player:"Timshel",x:189,score:9037,date:1418732291803,_id:{$oid:"549023031c04f40c0004af5f"}},{player:"Timshel",x:140,score:577,date:1418732304241,_id:{$oid:"549023101c04f40c0004af60"}},{player:"Timshel",x:182,score:8183,date:1418732370987,_id:{$oid:"549023521c04f40c0004af61"}},{player:"Timshel",x:118,score:9267,date:1418732465739,_id:{$oid:"549023b11c04f40c0004af62"}},{player:"gre",x:117,score:8838,date:1418732831421,_id:{$oid:"5490251f1c04f40c0004af63"}},{player:"gre",x:127,score:9199,date:1418732899048,_id:{$oid:"549025631c04f40c0004af64"}},{player:"gre",x:137,score:8793,date:1418732961920,_id:{$oid:"549025a11c04f40c0004af65"}},{player:"jill",x:211,score:5417,date:1418733613748,_id:{$oid:"5490282d1c04f40c0004af66"}},{player:"jill",x:173,score:2513,date:1418733663574,_id:{$oid:"5490285f1c04f40c0004af67"}},{player:"sre",x:199,score:4834,date:1418733704249,_id:{$oid:"549028881c04f40c0004af68"}},{player:"jill",x:168,score:4405,date:1418733787889,_id:{$oid:"549028db1c04f40c0004af69"}},{player:"sre",x:149,score:8872,date:1418733797677,_id:{$oid:"549028e51c04f40c0004af6a"}},{player:"jill",x:76,score:2970,date:1418733816556,_id:{$oid:"549028f81c04f40c0004af6b"}},{player:"jill",x:221,score:7876,date:1418733908302,_id:{$oid:"549029541c04f40c0004af6c"}},{player:"sre",x:161,score:5379,date:1418733938901,_id:{$oid:"549029721c04f40c0004af6d"}},{player:"jill",x:177,score:7814,date:1418733987028,_id:{$oid:"549029a31c04f40c0004af6e"}},{player:"jill",x:89,score:8656,date:1418734086277,_id:{$oid:"54902a061c04f40c0004af6f"}},{player:"jill",x:93,score:9243,date:1418734169009,_id:{$oid:"54902a591c04f40c0004af70"}},{player:"jill",x:190,score:3395,date:1418734212935,_id:{$oid:"54902a841c04f40c0004af71"}},{player:"jill",x:222,score:8808,date:1418734543362,_id:{$oid:"54902bcf1c04f40c0004af72"}},{player:"jill",x:213,score:8798,date:1418734691819,_id:{$oid:"54902c631c04f40c0004af73"}},{player:"jill",x:268,score:4419,date:1418735205099,_id:{$oid:"54902e651c04f40c0004af74"}},{player:"jill",x:0,score:9148,date:1418735379993,_id:{$oid:"54902f131c04f40c0004af75"}},{player:"jill",x:137,score:5780,date:1418735512081,_id:{$oid:"54902f981c04f40c0004af76"}},{player:"sre",x:119,score:8166,date:1418735577438,_id:{$oid:"54902fd91c04f40c0004af77"}},{player:"jill",x:148,score:7717,date:1418735668832,_id:{$oid:"549030341c04f40c0004af78"}},{player:"jill",x:179,score:5306,date:1418735802586,_id:{$oid:"549030ba1c04f40c0004af79"}},{player:"jill",x:225,score:2017,date:1418735995379,_id:{$oid:"5490317b1c04f40c0004af7a"}},{player:"jill",x:308,score:2970,date:1418736026149,_id:{$oid:"5490319a1c04f40c0004af7b"}},{player:"jill",x:202,score:6837,date:1418736141545,_id:{$oid:"5490320d1c04f40c0004af7c"}},{player:"jill",x:162,score:7714,date:1418736239372,_id:{$oid:"5490326f1c04f40c0004af7d"}},{player:"jill",x:175,score:2070,date:1418736263782,_id:{$oid:"549032871c04f40c0004af7e"}},{player:"jill",x:133,score:7233,date:1418736316439,_id:{$oid:"549032bc1c04f40c0004af7f"}},{player:"jill",x:151,score:8801,date:1418736383848,_id:{$oid:"549032ff1c04f40c0004af80"}},{player:"jill",x:277,score:2021,date:1418736414192,_id:{$oid:"5490331e1c04f40c0004af81"}},{player:"jill",x:226,score:580,date:1418736428620,_id:{$oid:"5490332c1c04f40c0004af82"}},{player:"jill",x:273,score:576,date:1418736440849,_id:{$oid:"549033381c04f40c0004af83"}},{player:"jill",x:231,score:8740,date:1418736518096,_id:{$oid:"549033861c04f40c0004af84"}},{player:"jill",x:278,score:9214,date:1418736597182,_id:{$oid:"549033d51c04f40c0004af85"}},{player:"jill",x:226,score:9237,date:1418736706754,_id:{$oid:"549034421c04f40c0004af86"}},{player:"mandre",x:90,score:3391,date:1418736711406,_id:{$oid:"549034471c04f40c0004af87"}},{player:"jill",x:199,score:4395,date:1418736807223,_id:{$oid:"549034a71c04f40c0004af88"}},{player:"mandre",x:87,score:8695,date:1418736807330,_id:{$oid:"549034a71c04f40c0004af89"}},{player:"jill",x:226,score:9213,date:1418736871362,_id:{$oid:"549034e71c04f40c0004af8a"}},{player:"mandre",x:79,score:9274,date:1418736889937,_id:{$oid:"549034f91c04f40c0004af8b"}},{player:"jill",x:122,score:6753,date:1418736925750,_id:{$oid:"5490351d1c04f40c0004af8c"}},{player:"jill",x:167,score:6202,date:1418736985094,_id:{$oid:"549035591c04f40c0004af8d"}},{player:"mandre",x:54,score:7807,date:1418737140410,_id:{$oid:"549035f41c04f40c0004af8e"}},{player:"mandre",x:133,score:9246,date:1418737230693,_id:{$oid:"5490364e1c04f40c0004af8f"}},{player:"jill",x:168,score:4422,date:1418737239482,_id:{$oid:"549036571c04f40c0004af90"}},{player:"jill",x:224,score:2010,date:1418737265964,_id:{$oid:"549036711c04f40c0004af91"}},{player:"jill",x:86,score:6752,date:1418737321937,_id:{$oid:"549036a91c04f40c0004af92"}},{player:"jill",x:110,score:3951,date:1418737361592,_id:{$oid:"549036d11c04f40c0004af93"}},{player:"jill",x:291,score:8245,date:1418737427986,_id:{$oid:"549037131c04f40c0004af94"}},{player:"sre",x:185,score:6302,date:1418737974907,_id:{$oid:"549039361c04f40c0004af95"}},{player:"john",x:286,score:2664,date:1418740226647,_id:{$oid:"549042021c04f40c0004af96"}},{player:"sre",x:73,score:520,date:1418740771644,_id:{$oid:"549044231c04f40c0004af97"}},{player:"sre",x:267,score:7782,date:1418740837552,_id:{$oid:"549044651c04f40c0004af98"}},{player:"sre",x:148,score:3400,date:1418741201245,_id:{$oid:"549045d11c04f40c0004af99"}},{player:"Napoleon",x:54,score:6335,date:1418741211557,_id:{$oid:"549045db1c04f40c0004af9a"}},{player:"Napoleon",x:233,score:4424,date:1418741261424,_id:{$oid:"5490460d1c04f40c0004af9b"}},{player:"sre",x:320,score:6346,date:1418741261816,_id:{$oid:"5490460d1c04f40c0004af9c"}},{player:"Napoleon",x:202,score:9157,date:1418741343159,_id:{$oid:"5490465f1c04f40c0004af9d"}},{player:"Napoleon",x:187,score:4438,date:1418741381185,_id:{$oid:"549046851c04f40c0004af9e"}},{player:"Napoleon",x:252,score:4418,date:1418741422399,_id:{$oid:"549046ae1c04f40c0004af9f"}},{player:"Napoleon",x:187,score:9267,date:1418741496542,_id:{$oid:"549046f81c04f40c0004afa0"}},{player:"Napoleon",x:170,score:8699,date:1418741558826,_id:{$oid:"549047361c04f40c0004afa1"}},{player:"Napoleon",x:215,score:5384,date:1418741606328,_id:{$oid:"549047661c04f40c0004afa2"}},{player:"Napoleon",x:208,score:9248,date:1418741680253,_id:{$oid:"549047b01c04f40c0004afa3"}},{player:"Napoleon",x:190,score:8674,date:1418741748486,_id:{$oid:"549047f41c04f40c0004afa4"}},{player:"Napoleon",x:240,score:10204,date:1418741856272,_id:{$oid:"549048601c04f40c0004afa5"}},{player:"Napoleon",x:236,score:9303,date:1418741945030,_id:{$oid:"549048b91c04f40c0004afa6"}},{player:"Napoleon",x:296,score:4374,date:1418741982616,_id:{$oid:"549048de1c04f40c0004afa7"}},{player:"jill",x:203,score:1478,date:1418742211925,_id:{$oid:"549049c31c04f40c0004afa8"}},{player:"sre",x:131,score:8868,date:1418742367535,_id:{$oid:"54904a5f1c04f40c0004afa9"}},{player:"jill",x:237,score:5910,date:1418742381716,_id:{$oid:"54904a6d1c04f40c0004afaa"}},{player:"sre",x:173,score:7857,date:1418742554143,_id:{$oid:"54904b1a1c04f40c0004afab"}},{player:"jill",x:149,score:4360,date:1418742840681,_id:{$oid:"54904c381c04f40c0004afac"}},{player:"jill",x:209,score:2070,date:1418742948979,_id:{$oid:"54904ca41c04f40c0004afad"}},{player:"sre",x:269,score:4389,date:1418742992078,_id:{$oid:"54904cd01c04f40c0004afae"}},{player:"sre",x:267,score:8278,date:1418743063364,_id:{$oid:"54904d171c04f40c0004afaf"}},{player:"sre",x:143,score:1e3,date:1418743271838,_id:{$oid:"54904de71c04f40c0004afb0"}},{player:"sre",x:168,score:9241,date:1418743381628,_id:{$oid:"54904e551c04f40c0004afb1"}},{player:"sre",x:114,score:4360,date:1418743639701,_id:{$oid:"54904f571c04f40c0004afb2"}},{player:"jill",x:138,score:6761,date:1418743938835,_id:{$oid:"549050821c04f40c0004afb3"}},{player:"jill",x:180,score:3398,date:1418744273137,_id:{$oid:"549051d11c04f40c0004afb4"}},{player:"jill",x:197,score:4424,date:1418744309722,_id:{$oid:"549051f51c04f40c0004afb5"}},{player:"jill",x:255,score:4890,date:1418744352851,_id:{$oid:"549052201c04f40c0004afb6"}},{player:"Napoleon",x:136,score:5993,date:1418744501119,_id:{$oid:"549052b51c04f40c0004afb7"}},{player:"gre",x:282,score:9240,date:1418744535627,_id:{$oid:"549052d71c04f40c0004afb8"}},{player:"gre",x:142,score:5318,date:1418744576472,_id:{$oid:"549053001c04f40c0004afb9"}},{player:"Napoleon",x:184,score:9357,date:1418744585214,_id:{$oid:"549053091c04f40c0004afba"}},{player:"gre",x:260,score:520,date:1418744588100,_id:{$oid:"5490530c1c04f40c0004afbb"}},{player:"Napoleon",x:245,score:9346,date:1418744664364,_id:{$oid:"549053581c04f40c0004afbc"}},{player:"gre",x:126,score:8821,date:1418744672409,_id:{$oid:"549053601c04f40c0004afbd"}},{player:"gre",x:137,score:2044,date:1418744697600,_id:{$oid:"549053791c04f40c0004afbe"}},{player:"gre",x:202,score:3402,date:1418744730158,_id:{$oid:"5490539a1c04f40c0004afbf"}},{player:"Napoleon",x:202,score:9242,date:1418744745256,_id:{$oid:"549053a91c04f40c0004afc0"}},{player:"Napoleon",x:206,score:593,date:1418744759903,_id:{$oid:"549053b71c04f40c0004afc1"}},{player:"gre",x:150,score:5868,date:1418744785769,_id:{$oid:"549053d11c04f40c0004afc2"}},{player:"Napoleon",x:131,score:8875,date:1418744826216,_id:{$oid:"549053fa1c04f40c0004afc3"}},{player:"jill",x:183,score:580,date:1418744827803,_id:{$oid:"549053fb1c04f40c0004afc4"}},{player:"gre",x:158,score:8268,date:1418744867443,_id:{$oid:"549054231c04f40c0004afc5"}},{player:"jill",x:281,score:5407,date:1418744881625,_id:{$oid:"549054311c04f40c0004afc6"}},{player:"Napoleon",x:305,score:8246,date:1418744893414,_id:{$oid:"5490543d1c04f40c0004afc7"}},{player:"Napoleon",x:163,score:7314,date:1418744947884,_id:{$oid:"549054731c04f40c0004afc8"}},{player:"jill",x:219,score:579,date:1418744978240,_id:{$oid:"549054921c04f40c0004afc9"}},{player:"jill",x:238,score:2995,date:1418745009864,_id:{$oid:"549054b11c04f40c0004afca"}},{player:"Napoleon",x:170,score:9267,date:1418745024203,_id:{$oid:"549054c01c04f40c0004afcb"}},{player:"abc",x:167,score:4367,date:1418745039475,_id:{$oid:"549054cf1c04f40c0004afcc"}},{player:"Napoleon",x:89,score:1487,date:1418745041050,_id:{$oid:"549054d11c04f40c0004afcd"}},{player:"jill",x:169,score:1959,date:1418745051327,_id:{$oid:"549054db1c04f40c0004afce"}},{player:"jill",x:203,score:999,date:1418745070576,_id:{$oid:"549054ee1c04f40c0004afcf"}},{player:"jill",x:165,score:5867,date:1418745119193,_id:{$oid:"5490551f1c04f40c0004afd0"}},{player:"Napoleon",x:193,score:9224,date:1418745136855,_id:{$oid:"549055301c04f40c0004afd1"}},{player:"Napoleon",x:153,score:8244,date:1418745204470,_id:{$oid:"549055741c04f40c0004afd2"}},{player:"jill",x:161,score:8256,date:1418745262290,_id:{$oid:"549055ae1c04f40c0004afd3"}},{player:"Napoleon",x:212,score:8185,date:1418745300012,_id:{$oid:"549055d41c04f40c0004afd4"}},{player:"Napoleon",x:183,score:2016,date:1418745321211,_id:{$oid:"549055e91c04f40c0004afd5"}},{player:"Napoleon",x:133,score:527,date:1418745329073,_id:{$oid:"549055f11c04f40c0004afd6"}},{player:"Napoleon",x:152,score:9228,date:1418745392428,_id:{$oid:"549056301c04f40c0004afd7"}},{player:"Napoleon",x:189,score:8256,date:1418745460618,_id:{$oid:"549056741c04f40c0004afd8"}},{player:"Napoleon",x:189,score:3429,date:1418745487058,_id:{$oid:"5490568f1c04f40c0004afd9"}},{player:"Napoleon",x:244,score:9244,date:1418745663866,_id:{$oid:"5490573f1c04f40c0004afda"}},{player:"Napoleon",x:219,score:583,date:1418745677291,_id:{$oid:"5490574d1c04f40c0004afdb"}},{player:"sre",x:282,score:8861,date:1418745713385,_id:{$oid:"549057711c04f40c0004afdc"}},{player:"Napoleon",x:161,score:8658,date:1418745932443,_id:{$oid:"5490584c1c04f40c0004afdd"}},{player:"Napoleon",x:156,score:579,date:1418745949121,_id:{$oid:"5490585d1c04f40c0004afde"}},{player:"Napoleon",x:156,score:10879,date:1418745985313,_id:{$oid:"549058811c04f40c0004afdf"}},{player:"Napoleon",x:133,score:560,date:1418746001651,_id:{$oid:"549058911c04f40c0004afe0"}},{player:"jill",x:176,score:5384,date:1418747457846,_id:{$oid:"54905e411c04f40c0004afe1"}},{player:"jill",x:180,score:1477,date:1418747477873,_id:{$oid:"54905e551c04f40c0004afe2"}},{player:"jill",x:199,score:5873,date:1418747543921,_id:{$oid:"54905e971c04f40c0004afe3"}},{player:"jill",x:181,score:7697,date:1418747610119,_id:{$oid:"54905eda1c04f40c0004afe4"}},{player:"jill",x:193,score:4426,date:1418747712708,_id:{$oid:"54905f401c04f40c0004afe5"}},{player:"sre",x:95,score:8790,date:1418748999156,_id:{$oid:"549064471c04f40c0004afe6"}},{player:"jill",x:132,score:4361,date:1418764204601,_id:{$oid:"54909facb9bc370c00cedb6b"}},{player:"jill",x:241,score:5380,date:1418764256076,_id:{$oid:"54909fe0b9bc370c00cedb6c"}},{player:"sre",x:210,score:5860,date:1418764298645,_id:{$oid:"5490a00ab9bc370c00cedb6d"}},{player:"jill",x:115,score:6280,date:1418764327278,_id:{$oid:"5490a027b9bc370c00cedb6e"}},{player:"jill",x:73,score:8800,date:1418764490316,_id:{$oid:"5490a0cab9bc370c00cedb6f"}},{player:"jill",x:216,score:6283,date:1418764573814,_id:{$oid:"5490a11db9bc370c00cedb70"}},{player:"jill",x:306,score:580,date:1418764600424,_id:{$oid:"5490a138b9bc370c00cedb71"}},{player:"jill",x:263,score:8239,date:1418764681771,_id:{$oid:"5490a189b9bc370c00cedb72"}},{player:"jill",x:150,score:8270,date:1418764759520,_id:{$oid:"5490a1d7b9bc370c00cedb73"}},{player:"jill",x:203,score:8264,date:1418764834519,_id:{$oid:"5490a222b9bc370c00cedb74"}},{player:"jill",x:259,score:4433,date:1418764877941,_id:{$oid:"5490a24db9bc370c00cedb75"}},{player:"jill",x:282,score:4425,date:1418764991404,_id:{$oid:"5490a2bfb9bc370c00cedb76"}},{player:"jill",x:150,score:9258,date:1418765098796,_id:{$oid:"5490a32ab9bc370c00cedb77"}},{player:"jill",x:287,score:6342,date:1418765166771,_id:{$oid:"5490a36eb9bc370c00cedb78"}},{player:"jill",x:254,score:5336,date:1418765214329,_id:{$oid:"5490a39eb9bc370c00cedb79"}},{player:"jill",x:159,score:4421,date:1418765255662,_id:{$oid:"5490a3c7b9bc370c00cedb7a"}},{player:"jill",x:224,score:8806,date:1418765320982,_id:{$oid:"5490a408b9bc370c00cedb7b"}},{player:"jill",x:246,score:9213,date:1418765412681,_id:{$oid:"5490a464b9bc370c00cedb7c"}},{player:"jill",x:172,score:3395,date:1418765635714,_id:{$oid:"5490a543b9bc370c00cedb7d"}},{player:"jill",x:253,score:4359,date:1418765687612,_id:{$oid:"5490a577b9bc370c00cedb7e"}},{player:"jill",x:146,score:1016,date:1418765705433,_id:{$oid:"5490a589b9bc370c00cedb7f"}},{player:"jill",x:92,score:8795,date:1418765777974,_id:{$oid:"5490a5d1b9bc370c00cedb80"}},{player:"jill",x:103,score:8194,date:1418765840669,_id:{$oid:"5490a610b9bc370c00cedb81"}},{player:"jill",x:152,score:5855,date:1418765904934,_id:{$oid:"5490a650b9bc370c00cedb82"}},{player:"jill",x:143,score:5854,date:1418765974884,_id:{$oid:"5490a696b9bc370c00cedb83"}},{player:"jill",x:109,score:5804,date:1418766029166,_id:{$oid:"5490a6cdb9bc370c00cedb84"}},{player:"jill",x:193,score:5924,date:1418766081711,_id:{$oid:"5490a701b9bc370c00cedb85"}},{player:"jill",x:151,score:2494,date:1418766108799,_id:{$oid:"5490a71cb9bc370c00cedb86"}},{player:"jill",x:283,score:3941,date:1418766140540,_id:{$oid:"5490a73cb9bc370c00cedb87"}},{player:"jill",x:111,score:5811,date:1418766193020,_id:{$oid:"5490a771b9bc370c00cedb88"}},{player:"jill",x:272,score:7241,date:1418766254299,_id:{$oid:"5490a7aeb9bc370c00cedb89"}},{player:"jill",x:94,score:9177,date:1418766345669,_id:{$oid:"5490a809b9bc370c00cedb8a"}},{player:"jill",x:170,score:7840,date:1418766437521,_id:{$oid:"5490a865b9bc370c00cedb8b"}},{player:"jill",x:183,score:3431,date:1418766470604,_id:{$oid:"5490a886b9bc370c00cedb8c"}},{player:"jill",x:156,score:1990,date:1418766497133,_id:{$oid:"5490a8a1b9bc370c00cedb8d"}},{player:"jill",x:211,score:3395,date:1418766530920,_id:{$oid:"5490a8c2b9bc370c00cedb8e"}},{player:"jill",x:140,score:4377,date:1418766578064,_id:{$oid:"5490a8f2b9bc370c00cedb8f"}},{player:"jill",x:163,score:5571,date:1418766647697,_id:{$oid:"5490a937b9bc370c00cedb90"}},{player:"jill",x:149,score:5393,date:1418766698187,_id:{$oid:"5490a96ab9bc370c00cedb91"}},{player:"jill",x:244,score:4389,date:1418766744032,_id:{$oid:"5490a998b9bc370c00cedb92"}},{player:"jill",x:74,score:8677,date:1418766844949,_id:{$oid:"5490a9fcb9bc370c00cedb93"}},{player:"jill",x:141,score:3391,date:1418766889784,_id:{$oid:"5490aa29b9bc370c00cedb94"}},{player:"jill",x:155,score:4402,date:1418766930648,_id:{$oid:"5490aa52b9bc370c00cedb95"}},{player:"jill",x:270,score:4426,date:1418766974017,_id:{$oid:"5490aa7eb9bc370c00cedb96"}},{player:"jill",x:193,score:8249,date:1418767118078,_id:{$oid:"5490ab0eb9bc370c00cedb97"}},{player:"jill",x:121,score:2078,date:1418767143503,_id:{$oid:"5490ab27b9bc370c00cedb98"}},{player:"jill",x:197,score:8254,date:1418767214721,_id:{$oid:"5490ab6eb9bc370c00cedb99"}},{player:"jill",x:139,score:8840,date:1418767295677,_id:{$oid:"5490abbfb9bc370c00cedb9a"}},{player:"jill",x:170,score:4390,date:1418767379193,_id:{$oid:"5490ac13b9bc370c00cedb9b"}},{player:"jill",x:159,score:4442,date:1418767422898,_id:{$oid:"5490ac3eb9bc370c00cedb9c"}},{player:"jill",x:194,score:3405,date:1418767453813,_id:{$oid:"5490ac5db9bc370c00cedb9d"}},{player:"jill",x:221,score:8247,date:1418767524496,_id:{$oid:"5490aca4b9bc370c00cedb9e"}},{player:"jill",x:84,score:7777,date:1418767621773,_id:{$oid:"5490ad05b9bc370c00cedb9f"}},{player:"jill",x:67,score:5816,date:1418767674095,_id:{$oid:"5490ad3ab9bc370c00cedba0"}},{player:"jill",x:284,score:6335,date:1418767745562,_id:{$oid:"5490ad81b9bc370c00cedba1"}},{player:"jill",x:151,score:5283,date:1418767803618,_id:{$oid:"5490adbbb9bc370c00cedba2"}},{player:"jill",x:81,score:4921,date:1418767853255,_id:{$oid:"5490adedb9bc370c00cedba3"}},{player:"jill",x:100,score:8204,date:1418767923297,_id:{$oid:"5490ae33b9bc370c00cedba4"}},{player:"jill",x:139,score:6349,date:1418767988294,_id:{$oid:"5490ae74b9bc370c00cedba5"}},{player:"jill",x:237,score:5863,date:1418768040092,_id:{$oid:"5490aea8b9bc370c00cedba6"}},{player:"jill",x:140,score:8849,date:1418768108874,_id:{$oid:"5490aeecb9bc370c00cedba7"}},{player:"jill",x:320,score:9210,date:1418768199765,_id:{$oid:"5490af47b9bc370c00cedba8"}},{player:"jill",x:162,score:8795,date:1418768273784,_id:{$oid:"5490af91b9bc370c00cedba9"}},{player:"jill",x:144,score:8805,date:1418768353093,_id:{$oid:"5490afe1b9bc370c00cedbaa"}},{player:"jill",x:186,score:8190,date:1418768421381,_id:{$oid:"5490b025b9bc370c00cedbab"}},{player:"jill",x:112,score:3887,date:1418768459387,_id:{$oid:"5490b04bb9bc370c00cedbac"}},{player:"jill",x:86,score:1022,date:1418768478519,_id:{$oid:"5490b05eb9bc370c00cedbad"}},{player:"jill",x:136,score:1066,date:1418768503231,_id:{$oid:"5490b077b9bc370c00cedbae"}},{player:"jill",x:121,score:8267,date:1418768579540,_id:{$oid:"5490b0c3b9bc370c00cedbaf"}},{player:"jill",x:154,score:2489,date:1418768617297,_id:{$oid:"5490b0e9b9bc370c00cedbb0"}},{player:"jill",x:169,score:2434,date:1418768736345,_id:{$oid:"5490b160b9bc370c00cedbb1"}},{player:"jill",x:245,score:7802,date:1418768856874,_id:{$oid:"5490b1d8b9bc370c00cedbb2"}},{player:"jill",x:160,score:556,date:1418768875882,_id:{$oid:"5490b1ebb9bc370c00cedbb3"}},{player:"jill",x:166,score:3395,date:1418768909033,_id:{$oid:"5490b20db9bc370c00cedbb4"}},{player:"jill",x:210,score:1955,date:1418768946690,_id:{$oid:"5490b232b9bc370c00cedbb5"}},{player:"jill",x:189,score:6334,date:1418769017371,_id:{$oid:"5490b279b9bc370c00cedbb6"}},{player:"jill",x:153,score:8795,date:1418769102483,_id:{$oid:"5490b2ceb9bc370c00cedbb7"}},{player:"jill",x:164,score:1477,date:1418769171575,_id:{$oid:"5490b313b9bc370c00cedbb8"}},{player:"jill",x:266,score:8274,date:1418769247606,_id:{$oid:"5490b35fb9bc370c00cedbb9"}},{player:"jill",x:119,score:586,date:1418769269001,_id:{$oid:"5490b375b9bc370c00cedbba"}},{player:"jill",x:91,score:3396,date:1418769302870,_id:{$oid:"5490b396b9bc370c00cedbbb"}},{player:"jill",x:138,score:4407,date:1418770852312,_id:{$oid:"5490b9a4b9bc370c00cedbbc"}},{player:"MrSpeaker",x:151,score:9277,date:1418771155816,_id:{$oid:"5490bad3b9bc370c00cedbbd"}},{player:"MrSpeaker",x:148,score:2435,date:1418771183303,_id:{$oid:"5490baefb9bc370c00cedbbe"}},{player:"AlbertoSM",x:163,score:3883,date:1418771561258,_id:{$oid:"5490bc69b9bc370c00cedbbf"}},{player:"AlbertoSM",x:106,score:8728,date:1418771641913,_id:{$oid:"5490bcb9b9bc370c00cedbc0"}},{player:"rinick",x:221,score:9346,date:1418796769181,_id:{$oid:"54911ee10b5cfd0c00d00948"}},{player:"gre",x:95,score:7720,date:1418809419310,_id:{$oid:"5491504b058a600c00d6343c"}},{player:"gre",x:135,score:7693,date:1418809508787,_id:{$oid:"549150a4058a600c00d6343d"}},{player:"mandre",x:128,score:7721,date:1418809771098,_id:{$oid:"549151ab058a600c00d6343e"}},{player:"Paul",x:320,score:3941,date:1418809865072,_id:{$oid:"54915209058a600c00d6343f"}},{player:"mandre",x:225,score:7723,date:1418809867650,_id:{$oid:"5491520b058a600c00d63440"}},{player:"mandre",x:120,score:4833,date:1418809927466,_id:{$oid:"54915247058a600c00d63441"}},{player:"mandre",x:159,score:7682,date:1418809992584,_id:{$oid:"54915288058a600c00d63442"}},{player:"badger",x:92,score:2432,date:1418810059028,_id:{$oid:"549152cb058a600c00d63443"}},{player:"mandre",x:242,score:5376,date:1418810066453,_id:{$oid:"549152d2058a600c00d63444"}},{player:"mandre",x:317,score:6829,date:1418810120603,_id:{$oid:"54915308058a600c00d63445"}},{player:"vde",x:72,score:7747,date:1418810380400,_id:{$oid:"5491540c058a600c00d63446"}},{player:"brah",x:243,score:1957,date:1418811138795,_id:{$oid:"54915702058a600c00d63447"}},{player:"brah",x:206,score:6723,date:1418811204623,_id:{$oid:"54915744058a600c00d63448"}},{player:"jose",x:238,score:4425,date:1418811257568,_id:{$oid:"54915779058a600c00d63449"}},{player:"jill",x:84,score:7727,date:1418811271846,_id:{$oid:"54915787058a600c00d6344a"}},{player:"jose",x:241,score:5305,date:1418811312111,_id:{$oid:"549157b0058a600c00d6344b"}},{player:"jose",x:146,score:7762,date:1418811395553,_id:{$oid:"54915803058a600c00d6344c"}},{player:"jill",x:147,score:3426,date:1418811440008,_id:{$oid:"54915830058a600c00d6344d"}},{player:"jill",x:113,score:1009,date:1418811479285,_id:{$oid:"54915857058a600c00d6344e"}},{player:"Napoleon",x:73,score:7711,date:1418811521052,_id:{$oid:"54915881058a600c00d6344f"}},{player:"jill",x:177,score:7701,date:1418811553727,_id:{$oid:"549158a1058a600c00d63450"}},{player:"Napoleon",x:210,score:5419,date:1418811575750,_id:{$oid:"549158b7058a600c00d63451"}},{player:"Napoleon",x:203,score:7744,date:1418811650884,_id:{$oid:"54915902058a600c00d63452"}},{player:"jill",x:133,score:7724,date:1418811654562,_id:{$oid:"54915906058a600c00d63453"}},{player:"jill",x:190,score:2907,date:1418811697189,_id:{$oid:"54915931058a600c00d63454"}},{player:"mandre",x:163,score:7721,date:1418811707651,_id:{$oid:"5491593b058a600c00d63455"}},{player:"Napoleon",x:131,score:7729,date:1418811723600,_id:{$oid:"5491594b058a600c00d63456"}},{player:"Napoleon",x:216,score:4990,date:1418811762294,_id:{$oid:"54915972058a600c00d63457"}},{player:"jill",x:182,score:7711,date:1418811768586,_id:{$oid:"54915978058a600c00d63458"}},{player:"mandre",x:204,score:7790,date:1418811776801,_id:{$oid:"54915980058a600c00d63459"}},{player:"Napoleon",x:293,score:2480,date:1418811784559,_id:{$oid:"54915988058a600c00d6345a"}},{player:"mandre",x:282,score:3942,date:1418811812743,_id:{$oid:"549159a4058a600c00d6345b"}},{player:"mandre",x:220,score:5799,date:1418811859844,_id:{$oid:"549159d3058a600c00d6345c"}},{player:"Napoleon",x:112,score:7728,date:1418811868338,_id:{$oid:"549159dc058a600c00d6345d"}},{player:"mandre",x:238,score:6784,date:1418811917629,_id:{$oid:"54915a0d058a600c00d6345e"}},{player:"mandre",x:266,score:7894,date:1418811985643,_id:{$oid:"54915a51058a600c00d6345f"}},{player:"Napoleon",x:174,score:7782,date:1418812002505,_id:{$oid:"54915a62058a600c00d63460"}},{player:"jill",x:193,score:6743,date:1418812015572,_id:{$oid:"54915a6f058a600c00d63461"}},{player:"mandre",x:187,score:5401,date:1418812032193,_id:{$oid:"54915a80058a600c00d63462"}},{player:"jill",x:118,score:3997,date:1418812116604,_id:{$oid:"54915ad4058a600c00d63463"}},{player:"jill",x:128,score:2438,date:1418812142491,_id:{$oid:"54915aee058a600c00d63464"}},{player:"Napoleon",x:173,score:7737,date:1418812159408,_id:{$oid:"54915aff058a600c00d63465"}},{player:"mandre",x:165,score:7724,date:1418812162119,_id:{$oid:"54915b02058a600c00d63466"}},{player:"jill",x:188,score:5364,date:1418812189243,_id:{$oid:"54915b1d058a600c00d63467"}},{player:"Napoleon",x:136,score:3388,date:1418812189998,_id:{$oid:"54915b1d058a600c00d63468"}},{player:"jill",x:282,score:2993,date:1418812219138,_id:{$oid:"54915b3b058a600c00d63469"}},{player:"mandre",x:107,score:7793,date:1418812242838,_id:{$oid:"54915b52058a600c00d6346a"}},{player:"jill",x:110,score:5460,date:1418812268127,_id:{$oid:"54915b6c058a600c00d6346b"}},{player:"Napoleon",x:211,score:4980,date:1418812270825,_id:{$oid:"54915b6e058a600c00d6346c"}},{player:"Napoleon",x:224,score:7703,date:1418812360904,_id:{$oid:"54915bc8058a600c00d6346d"}},{player:"jill",x:195,score:7693,date:1418812642226,_id:{$oid:"54915ce2058a600c00d6346e"}},{player:"gre",x:201,score:5466,date:1418812760754,_id:{$oid:"54915d58058a600c00d6346f"}},{player:"gre",x:208,score:2911,date:1418815114580,_id:{$oid:"5491668a058a600c00d63470"}},{player:"Timshel",x:170,score:7716,date:1418815236758,_id:{$oid:"54916704058a600c00d63471"}},{player:"gre",x:69,score:7773,date:1418815244670,_id:{$oid:"5491670c058a600c00d63472"}},{player:"Timshel",x:208,score:5310,date:1418815315891,_id:{$oid:"54916753058a600c00d63473"}},{player:"Timshel",x:163,score:6746,date:1418815385474,_id:{$oid:"54916799058a600c00d63474"}},{player:"Timshel",x:148,score:7689,date:1418815478835,_id:{$oid:"549167f6058a600c00d63475"}},{player:"Timshel",x:92,score:7728,date:1418815547566,_id:{$oid:"5491683b058a600c00d63476"}},{player:"Timshel",x:320,score:7672,date:1418815608953,_id:{$oid:"54916878058a600c00d63477"}},{player:"Timshel",x:89,score:1046,date:1418815629051,_id:{$oid:"5491688d058a600c00d63478"}},{player:"jill",x:127,score:3954,date:1418815745718,_id:{$oid:"54916901058a600c00d63479"}},{player:"jill",x:119,score:7233,date:1418815805461,_id:{$oid:"5491693d058a600c00d6347a"}},{player:"jill",x:151,score:6258,date:1418815858197,_id:{$oid:"54916972058a600c00d6347b"}},{player:"jill",x:52,score:5393,date:1418815899500,_id:{$oid:"5491699b058a600c00d6347c"}},{player:"jill",x:180,score:3869,date:1418815932446,_id:{$oid:"549169bc058a600c00d6347d"}},{player:"jill",x:146,score:7670,date:1418816022702,_id:{$oid:"54916a16058a600c00d6347e"}},{player:"asdf",x:162,score:2930,date:1418816135974,_id:{$oid:"54916a87058a600c00d6347f"}},{player:"mortus",x:214,score:7808,date:1418818985997,_id:{$oid:"549175a9058a600c00d63480"}},{player:"rdc",x:79,score:3859,date:1418818998159,_id:{$oid:"549175b6058a600c00d63481"}},{player:"rdc",x:172,score:3354,date:1418819036554,_id:{$oid:"549175dc058a600c00d63482"}},{player:"rdc",x:52,score:1964,date:1418819057011,_id:{$oid:"549175f1058a600c00d63483"}},{player:"mortus",x:72,score:6290,date:1418819076872,_id:{$oid:"54917604058a600c00d63484"}},{player:"rdc",x:32,score:5410,date:1418819107246,_id:{$oid:"54917623058a600c00d63485"}},{player:"Junber",x:212,score:3697,date:1418819169025,_id:{$oid:"54917661058a600c00d63486"}},{player:"rdc",x:170,score:6401,date:1418819171215,_id:{$oid:"54917663058a600c00d63487"}},{player:"mortus",x:147,score:7756,date:1418819204215,_id:{$oid:"54917684058a600c00d63488"}},{player:"mortus",x:118,score:7719,date:1418819342760,_id:{$oid:"5491770e058a600c00d63489"}},{player:"mortus",x:234,score:9254,date:1418819471688,_id:{$oid:"5491778f058a600c00d6348a"}},{player:"jill",x:61,score:6274,date:1418819659558,_id:{$oid:"5491784b058a600c00d6348b"}},{player:"Aerael",x:119,score:3373,date:1418819664549,_id:{$oid:"54917850058a600c00d6348c"}},{player:"jill",x:182,score:2908,date:1418819722113,_id:{$oid:"5491788a058a600c00d6348d"}},{player:"Aerael",x:225,score:5384,date:1418819737214,_id:{$oid:"54917899058a600c00d6348e"}},{player:"jill",x:139,score:7786,date:1418819794119,_id:{$oid:"549178d2058a600c00d6348f"}},{player:"Aerael",x:28,score:7920,date:1418819839835,_id:{$oid:"549178ff058a600c00d63490"}},{player:"jill",x:71,score:7732,date:1418819862868,_id:{$oid:"54917916058a600c00d63491"}},{player:"jill",x:219,score:7283,date:1418819925399,_id:{$oid:"54917955058a600c00d63492"}},{player:"jill",x:166,score:6723,date:1418820049666,_id:{$oid:"549179d1058a600c00d63493"}},{player:"jill",x:182,score:4930,date:1418820092318,_id:{$oid:"549179fc058a600c00d63494"}},{player:"joppiesaus",x:63,score:2470,date:1418820141474,_id:{$oid:"54917a2d058a600c00d63495"}},{player:"joppiesaus",x:116,score:4916,date:1418820182617,_id:{$oid:"54917a56058a600c00d63496"}},{player:"jill",x:83,score:7717,date:1418820200238,_id:{$oid:"54917a68058a600c00d63497"}},{player:"jill",x:67,score:7717,date:1418820270394,_id:{$oid:"54917aae058a600c00d63498"}},{player:"joppiesaus",x:81,score:7701,date:1418820290951,_id:{$oid:"54917ac2058a600c00d63499"}},{player:"jill",x:190,score:4986,date:1418820331290,_id:{$oid:"54917aeb058a600c00d6349a"}},{player:"jill",x:167,score:2909,date:1418820366855,_id:{$oid:"54917b0e058a600c00d6349b"}},{player:"jill",x:49,score:7784,date:1418820448257,_id:{$oid:"54917b60058a600c00d6349c"}},{player:"jill",x:261,score:7776,date:1418820537469,_id:{$oid:"54917bb9058a600c00d6349d"}},{player:"jill",x:199,score:6249,date:1418820666727,_id:{$oid:"54917c3a058a600c00d6349e"}},{player:"jill",x:187,score:5358,date:1418820717463,_id:{$oid:"54917c6d058a600c00d6349f"}},{player:"jill",x:129,score:7696,date:1418820796709,_id:{$oid:"54917cbc058a600c00d634a0"}},{player:"jill",x:246,score:6830,date:1418820865078,_id:{$oid:"54917d01058a600c00d634a1"}},{player:"jill",x:218,score:5439,date:1418820924936,_id:{$oid:"54917d3c058a600c00d634a2"}},{player:"jill",x:254,score:5391,date:1418820990224,_id:{$oid:"54917d7e058a600c00d634a3"}},{player:"jill",x:235,score:6343,date:1418821063113,_id:{$oid:"54917dc7058a600c00d634a4"}},{player:"jill",x:245,score:5379,date:1418821135335,_id:{$oid:"54917e0f058a600c00d634a5"}},{player:"sparker",x:109,score:6276,date:1418821174297,_id:{$oid:"54917e36058a600c00d634a6"}},{player:"jill",x:173,score:4350,date:1418821180565,_id:{$oid:"54917e3c058a600c00d634a7"}},{player:"arpha",x:142,score:1073,date:1418821226993,_id:{$oid:"54917e6a058a600c00d634a8"}},{player:"sparker",x:75,score:5382,date:1418821247959,_id:{$oid:"54917e7f058a600c00d634a9"}},{player:"jill",x:194,score:5431,date:1418821274524,_id:{$oid:"54917e9a058a600c00d634aa"}},{player:"arpha",x:267,score:4357,date:1418821275859,_id:{$oid:"54917e9b058a600c00d634ab"}},{player:"jill",x:78,score:6264,date:1418821339738,_id:{$oid:"54917edb058a600c00d634ac"}},{player:"jill",x:151,score:7711,date:1418821435551,_id:{$oid:"54917f3b058a600c00d634ad"}},{player:"budda",x:226,score:5365,date:1418821605748,_id:{$oid:"54917fe5058a600c00d634ae"}},{player:"jill",x:318,score:6323,date:1418821607693,_id:{$oid:"54917fe7058a600c00d634af"}},{player:"alex",x:143,score:2998,date:1418821631096,_id:{$oid:"54917fff058a600c00d634b0"}},{player:"alex",x:158,score:5449,date:1418821680282,_id:{$oid:"54918030058a600c00d634b1"}},{player:"mandre",x:10,score:2436,date:1418821832823,_id:{$oid:"549180c8058a600c00d634b2"}},{player:"mandre",x:163,score:2425,date:1418821859621,_id:{$oid:"549180e3058a600c00d634b3"}},{player:"mandre",x:25,score:2436,date:1418821882649,_id:{$oid:"549180fa058a600c00d634b4"}},{player:"jill",x:14,score:6272,date:1418822004234,_id:{$oid:"54918174058a600c00d634b5"}},{player:"jill",x:175,score:7728,date:1418822211530,_id:{$oid:"54918243058a600c00d634b6"}},{player:"Ovidios",x:124,score:5339,date:1418823021199,_id:{$oid:"5491856d058a600c00d634b7"}},{player:"Ovidios",x:162,score:2431,date:1418823067353,_id:{$oid:"5491859b058a600c00d634b8"}},{player:"Ovidios",x:270,score:3998,date:1418823107122,_id:{$oid:"549185c3058a600c00d634b9"}},{player:"JJEVIL",x:94,score:1957,date:1418823200950,_id:{$oid:"54918620058a600c00d634ba"}},{player:"JJEVIL",x:93,score:2435,date:1418823225632,_id:{$oid:"54918639058a600c00d634bb"}},{player:"JJEVIL",x:266,score:5430,date:1418823264674,_id:{$oid:"54918660058a600c00d634bc"}},{player:"JJEVIL",x:224,score:4413,date:1418823309702,_id:{$oid:"5491868d058a600c00d634bd"}},{player:"JJEVIL",x:190,score:6319,date:1418823360086,_id:{$oid:"549186c0058a600c00d634be"}},{player:"JJEVIL",x:320,score:4934,date:1418823517992,_id:{$oid:"5491875d058a600c00d634bf"}},{player:"JJEVIL",x:161,score:2908,date:1418823543087,_id:{$oid:"54918777058a600c00d634c0"}},{player:"OkkoLOBR",x:248,score:1479,date:1418823698296,_id:{$oid:"54918812058a600c00d634c1"}},{player:"OkkoLOBR",x:244,score:3963,date:1418823735998,_id:{$oid:"54918837058a600c00d634c2"}},{player:"jill",x:196,score:4947,date:1418823794816,_id:{$oid:"54918872058a600c00d634c3"}},{player:"jill",x:230,score:5366,date:1418823876280,_id:{$oid:"549188c4058a600c00d634c4"}},{player:"Saturnyn",x:264,score:3857,date:1418825749887,_id:{$oid:"54919015058a600c00d634c5"}},{player:"Saturnyn",x:305,score:3923,date:1418825802792,_id:{$oid:"5491904a058a600c00d634c6"}},{player:"Saturnyn",x:224,score:5385,date:1418825899024,_id:{$oid:"549190ab058a600c00d634c7"}},{player:"Saturnyn",x:273,score:3991,date:1418825950442,_id:{$oid:"549190de058a600c00d634c8"}},{player:"Saturnyn",x:190,score:6326,date:1418826011317,_id:{$oid:"5491911b058a600c00d634c9"}},{player:"joppiesaus",x:249,score:5450,date:1418826029003,_id:{$oid:"5491912d058a600c00d634ca"}},{player:"mandre",x:77,score:7237,date:1418826293317,_id:{$oid:"54919235058a600c00d634cb"}},{player:"mandre",x:174,score:4015,date:1418826331915,_id:{$oid:"5491925b058a600c00d634cc"}},{player:"mandre",x:103,score:7705,date:1418826478031,_id:{$oid:"549192ee058a600c00d634cd"}},{player:"POOP",x:240,score:1959,date:1418826546662,_id:{$oid:"54919332058a600c00d634ce"}},{player:"POOP",x:224,score:3950,date:1418826583481,_id:{$oid:"54919357058a600c00d634cf"}},{player:"mandre",x:130,score:1964,date:1418826598427,_id:{$oid:"54919366058a600c00d634d0"}},{player:"mandre",x:177,score:6345,date:1418826648339,_id:{$oid:"54919398058a600c00d634d1"}},{player:"mandre",x:17,score:1e3,date:1418826663577,_id:{$oid:"549193a7058a600c00d634d2"}},{player:"mandre",x:206,score:6836,date:1418826761958,_id:{$oid:"54919409058a600c00d634d3"}},{player:"mandre",x:160,score:1003,date:1418826777699,_id:{$oid:"54919419058a600c00d634d4"}},{player:"mandre",x:138,score:6337,date:1418826830083,_id:{$oid:"5491944e058a600c00d634d5"}},{player:"mandre",x:43,score:7248,date:1418826889102,_id:{$oid:"54919489058a600c00d634d6"}},{player:"mandre",x:157,score:7713,date:1418826960317,_id:{$oid:"549194d0058a600c00d634d7"}},{player:"mandre",x:98,score:7317,date:1418827024816,_id:{$oid:"54919510058a600c00d634d8"}},{player:"mandre",x:157,score:7309,date:1418827075362,_id:{$oid:"54919543058a600c00d634d9"}},{player:"mandre",x:173,score:7766,date:1418827132229,_id:{$oid:"5491957c058a600c00d634da"}},{player:"mandre",x:274,score:3928,date:1418827165306,_id:{$oid:"5491959d058a600c00d634db"}},{player:"mandre",x:40,score:7886,date:1418827231567,_id:{$oid:"549195df058a600c00d634dc"}},{player:"MadOwl",x:160,score:5390,date:1418827301710,_id:{$oid:"54919625058a600c00d634dd"}},{player:"mandre",x:230,score:7802,date:1418827334112,_id:{$oid:"54919646058a600c00d634de"}},{player:"MadOwl",x:199,score:3388,date:1418827350655,_id:{$oid:"54919656058a600c00d634df"}},{player:"mandre",x:151,score:1479,date:1418827352179,_id:{$oid:"54919658058a600c00d634e0"}},{player:"JJEVIL",x:320,score:3919,date:1418827409329,_id:{$oid:"54919691058a600c00d634e1"}},{player:"JJEVIL",x:225,score:2910,date:1418827435367,_id:{$oid:"549196ab058a600c00d634e2"}},{player:"mandre",x:218,score:7755,date:1418827451119,_id:{$oid:"549196bb058a600c00d634e3"}},{player:"JJEVIL",x:19,score:999,date:1418827451844,_id:{$oid:"549196bb058a600c00d634e4"}},{player:"mandre",x:188,score:6739,date:1418827518192,_id:{$oid:"549196fe058a600c00d634e5"}},{player:"mandre",x:255,score:6823,date:1418827573532,_id:{$oid:"54919735058a600c00d634e6"}},{player:"mandre",x:145,score:3869,date:1418827603564,_id:{$oid:"54919753058a600c00d634e7"}},{player:"mandre",x:194,score:1478,date:1418827635124,_id:{$oid:"54919773058a600c00d634e8"}},{player:"mandre",x:160,score:999,date:1418827650075,_id:{$oid:"54919782058a600c00d634e9"}},{player:"mandre",x:54,score:7753,date:1418827734380,_id:{$oid:"549197d6058a600c00d634ea"}},{player:"mandre",x:111,score:5063,date:1418827780322,_id:{$oid:"54919804058a600c00d634eb"}},{player:"mandre",x:181,score:7863,date:1418827849225,_id:{$oid:"54919849058a600c00d634ec"}},{player:"mandre",x:213,score:7781,date:1418827923606,_id:{$oid:"54919893058a600c00d634ed"}},{player:"mandre",x:152,score:4880,date:1418827965493,_id:{$oid:"549198bd058a600c00d634ee"}},{player:"mandre",x:126,score:7793,date:1418828034920,_id:{$oid:"54919902058a600c00d634ef"}},{player:"mandre",x:237,score:7898,date:1418828131454,_id:{$oid:"54919963058a600c00d634f0"}},{player:"kill0u",x:148,score:3872,date:1418828153302,_id:{$oid:"54919979058a600c00d634f1"}},{player:"mandre",x:87,score:3383,date:1418828163429,_id:{$oid:"54919983058a600c00d634f2"}},{player:"kill0u",x:256,score:2846,date:1418828189549,_id:{$oid:"5491999d058a600c00d634f3"}},{player:"mandre",x:203,score:9369,date:1418828264768,_id:{$oid:"549199e8058a600c00d634f4"}},{player:"gre",x:255,score:3925,date:1418828267036,_id:{$oid:"549199eb058a600c00d634f5"}},{player:"kill0u",x:165,score:6842,date:1418828299780,_id:{$oid:"54919a0b058a600c00d634f6"}},{player:"mandre",x:211,score:3962,date:1418828320467,_id:{$oid:"54919a20058a600c00d634f7"}},{player:"kill0u",x:114,score:7791,date:1418828398646,_id:{$oid:"54919a6e058a600c00d634f8"}},{player:"mandre",x:66,score:9267,date:1418828409502,_id:{$oid:"54919a79058a600c00d634f9"}},{player:"gre",x:301,score:6783,date:1418828410120,_id:{$oid:"54919a7a058a600c00d634fa"}},{player:"kill0u",x:146,score:4911,date:1418828456537,_id:{$oid:"54919aa8058a600c00d634fb"}},{player:"mandre",x:114,score:7727,date:1418828470942,_id:{$oid:"54919ab6058a600c00d634fc"}},{player:"kill0u",x:111,score:6781,date:1418828556625,_id:{$oid:"54919b0c058a600c00d634fd"}},{player:"mandre",x:252,score:7840,date:1418828578375,_id:{$oid:"54919b22058a600c00d634fe"}},{player:"toto",x:159,score:2441,date:1418828621199,_id:{$oid:"54919b4d058a600c00d634ff"}},{player:"toto",x:160,score:524,date:1418828671677,_id:{$oid:"54919b7f058a600c00d63500"}},{player:"kill0u",x:166,score:7781,date:1418828696989,_id:{$oid:"54919b98058a600c00d63501"}},{player:"mandre",x:274,score:9731,date:1418828699677,_id:{$oid:"54919b9b058a600c00d63502"}},{player:"toto",x:137,score:3940,date:1418828751347,_id:{$oid:"54919bcf058a600c00d63503"}},{player:"kill0u",x:173,score:7754,date:1418828781692,_id:{$oid:"54919bed058a600c00d63504"}},{player:"toto",x:208,score:532,date:1418828783481,_id:{$oid:"54919bef058a600c00d63505"}},{player:"kill0u",x:136,score:7725,date:1418828861061,_id:{$oid:"54919c3d058a600c00d63506"}},{player:"Romain",x:39,score:2435,date:1418828898725,_id:{$oid:"54919c62058a600c00d63507"}},{player:"mandre",x:153,score:6426,date:1418828938332,_id:{$oid:"54919c8a058a600c00d63508"}},{player:"mandre",x:58,score:2910,date:1418828961989,_id:{$oid:"54919ca1058a600c00d63509"}},{player:"kill0u",x:133,score:7799,date:1418829040585,_id:{$oid:"54919cf0058a600c00d6350a"}},{player:"mandre",x:159,score:7765,date:1418829055203,_id:{$oid:"54919cff058a600c00d6350b"}},{player:"jill",x:205,score:5423,date:1418829057771,_id:{$oid:"54919d01058a600c00d6350c"}},{player:"mandre",x:272,score:7780,date:1418829126046,_id:{$oid:"54919d46058a600c00d6350d"}},{player:"kill0u",x:192,score:7843,date:1418829148405,_id:{$oid:"54919d5c058a600c00d6350e"}},{player:"mandre",x:249,score:7774,date:1418829232110,_id:{$oid:"54919db0058a600c00d6350f"}},{player:"kill0u",x:252,score:7795,date:1418829233044,_id:{$oid:"54919db1058a600c00d63510"}},{player:"mandre",x:199,score:7815,date:1418829303595,_id:{$oid:"54919df7058a600c00d63511"}},{player:"kill0u",x:102,score:5816,date:1418829321454,_id:{$oid:"54919e09058a600c00d63512"}},{player:"mandre",x:146,score:3950,date:1418829336923,_id:{$oid:"54919e18058a600c00d63513"}},{player:"kill0u",x:60,score:7706,date:1418829430685,_id:{$oid:"54919e76058a600c00d63514"}},{player:"kill0u",x:132,score:5815,date:1418829484451,_id:{$oid:"54919eac058a600c00d63515"}},{player:"TTAK",x:296,score:2469,date:1418829538427,_id:{$oid:"54919ee2058a600c00d63516"}},{player:"TTAK",x:258,score:7728,date:1418829641985,_id:{$oid:"54919f49058a600c00d63517"}},{player:"TTAK",x:165,score:6825,date:1418829732953,_id:{$oid:"54919fa4058a600c00d63518"}},{player:"TTAK",x:120,score:4413,date:1418829777811,_id:{$oid:"54919fd1058a600c00d63519"}},{player:"TTAK",x:139,score:7731,date:1418829865481,_id:{$oid:"5491a029058a600c00d6351a"}},{player:"Sumgato",x:192,score:5298,date:1418831229896,_id:{$oid:"5491a57d058a600c00d6351b"}},{player:"Sumgato",x:142,score:4359,date:1418831270521,_id:{$oid:"5491a5a6058a600c00d6351c"}},{player:"Jonathan",x:289,score:1975,date:1418831668809,_id:{$oid:"5491a734058a600c00d6351d"}},{player:"Bobylito",x:178,score:4940,date:1418831756612,_id:{$oid:"5491a78c058a600c00d6351e"}},{player:"Jonathan",x:3,score:7716,date:1418831765498,_id:{$oid:"5491a795058a600c00d6351f"}},{player:"Timshel",x:122,score:5795,date:1418831821427,_id:{$oid:"5491a7cd058a600c00d63520"}},{player:"Bobylito",x:320,score:5341,date:1418831844891,_id:{$oid:"5491a7e4058a600c00d63521"}},{player:"Timshel",x:173,score:7762,date:1418831897e3,_id:{$oid:"5491a819058a600c00d63522"}},{player:"Bobylito",x:94,score:4374,date:1418831907948,_id:{$oid:"5491a823058a600c00d63523"}},{player:"Timshel",x:167,score:7717,date:1418831975288,_id:{$oid:"5491a867058a600c00d63524"}},{player:"Bobylito",x:186,score:7734,date:1418831980508,_id:{$oid:"5491a86c058a600c00d63525"}},{player:"Bobylito",x:15,score:2434,date:1418832003238,_id:{$oid:"5491a883058a600c00d63526"}},{player:"Timshel",x:193,score:7760,date:1418832044336,_id:{$oid:"5491a8ac058a600c00d63527"}},{player:"Timshel",x:133,score:4914,date:1418832087367,_id:{$oid:"5491a8d7058a600c00d63528"}},{player:"asdf",x:313,score:1068,date:1418832463211,_id:{$oid:"5491aa4f058a600c00d63529"}},{player:"asdf",x:128,score:6247,date:1418833128305,_id:{$oid:"5491ace8058a600c00d6352a"}},{player:"Timshel",x:139,score:5330,date:1418834500276,_id:{$oid:"5491b244058a600c00d6352b"}},{player:"Timshel",x:37,score:2438,date:1418834525380,_id:{$oid:"5491b25d058a600c00d6352c"}},{player:"jill",x:100,score:6736,date:1418835448888,_id:{$oid:"5491b5f8058a600c00d6352d"}},{player:"xy2",x:123,score:1966,date:1418836111478,_id:{$oid:"5491b88f058a600c00d6352e"}},{player:"xy2",x:126,score:544,date:1418836127462,_id:{$oid:"5491b89f058a600c00d6352f"}},{player:"xy2",x:186,score:3993,date:1418836175544,_id:{$oid:"5491b8cf058a600c00d63530"}},{player:"xy2",x:174,score:4893,date:1418836248934,_id:{$oid:"5491b918058a600c00d63531"}},{player:"xy2",x:54,score:4831,date:1418836310863,_id:{$oid:"5491b956058a600c00d63532"}},{player:"xy2",x:171,score:7765,date:1418836453935,_id:{$oid:"5491b9e5058a600c00d63533"}},{player:"xy2",x:31,score:1547,date:1418836499470,_id:{$oid:"5491ba13058a600c00d63534"}},{player:"xy2",x:122,score:4358,date:1418836566358,_id:{$oid:"5491ba56058a600c00d63535"}},{player:"jill",x:173,score:5431,date:1418837540533,_id:{$oid:"5491be24058a600c00d63536"}},{player:"jill",x:257,score:4447,date:1418837586597,_id:{$oid:"5491be52058a600c00d63537"}},{player:"caca",x:232,score:5458,date:1418837896435,_id:{$oid:"5491bf88058a600c00d63538"}},{player:"caca",x:225,score:4387,date:1418837943190,_id:{$oid:"5491bfb7058a600c00d63539"}},{player:"caca",x:120,score:1958,date:1418837966264,_id:{$oid:"5491bfce058a600c00d6353a"}},{player:"caca",x:315,score:7748,date:1418838079477,_id:{$oid:"5491c03f058a600c00d6353b"}},{player:"Larzan",x:136,score:4874,date:1418839136508,_id:{$oid:"5491c460058a600c00d6353c"}},{player:"Larzan",x:95,score:5398,date:1418839337455,_id:{$oid:"5491c529058a600c00d6353d"}},{player:"Larzan",x:187,score:6270,date:1418839405201,_id:{$oid:"5491c56d058a600c00d6353e"}},{player:"Larzan",x:268,score:3484,date:1418839458598,_id:{$oid:"5491c5a2058a600c00d6353f"}},{player:"Larzan",x:194,score:3365,date:1418839509141,_id:{$oid:"5491c5d5058a600c00d63540"}},{player:"Toni",x:165,score:7741,date:1418840649102,_id:{$oid:"5491ca49058a600c00d63541"}},{player:"Toni",x:199,score:7771,date:1418840744372,_id:{$oid:"5491caa8058a600c00d63542"}},{player:"Toni",x:265,score:7786,date:1418840822604,_id:{$oid:"5491caf6058a600c00d63543"}},{player:"abbod",x:171,score:3876,date:1418859324543,_id:{$oid:"5492133c375d400c00718e50"}},{player:"abbod",x:240,score:1958,date:1418859359719,_id:{$oid:"5492135f375d400c00718e51"}},{player:"abbod",x:101,score:7795,date:1418859452930,_id:{$oid:"549213bc375d400c00718e52"}},{player:"abbod",x:191,score:7719,date:1418859953461,_id:{$oid:"549215b1375d400c00718e53"}},{player:"abbod",x:113,score:2436,date:1418859984147,_id:{$oid:"549215d0375d400c00718e54"}},{player:"Dingus",x:150,score:4898,date:1418869520047,_id:{$oid:"54923b1096df620c0036449c"}},{player:"charles",x:161,score:2943,date:1418873176712,_id:{$oid:"5492495896df620c0036449d"}},{player:"charles",x:245,score:6816,date:1418873236129,_id:{$oid:"5492499496df620c0036449e"}},{player:"gre",x:210,score:6835,date:1418891298063,_id:{$oid:"54929022a5195a0c00cee77c"}},{player:"Bobylito",x:40,score:5926,date:1418892638118,_id:{$oid:"5492955ea5195a0c00cee77d"}},{player:"Bobylito",x:91,score:6749,date:1418892708459,_id:{$oid:"549295a4a5195a0c00cee77e"}},{player:"Bobylito",x:145,score:5922,date:1418892794241,_id:{$oid:"549295faa5195a0c00cee77f"}},{player:"Timshel",x:161,score:8202,date:1418896413051,_id:{$oid:"5492a41da5195a0c00cee780"}},{player:"vde",x:155,score:9400,date:1418896425634,_id:{$oid:"5492a429a5195a0c00cee781"}},{player:"TTAK",x:114,score:7834,date:1418898030181,_id:{$oid:"5492aa6ea5195a0c00cee782"}},{player:"TTAK",x:70,score:536,date:1418898051312,_id:{$oid:"5492aa83a5195a0c00cee783"}},{player:"TTAK",x:147,score:9161,date:1418898158604,_id:{$oid:"5492aaeea5195a0c00cee784"}},{player:"TTAK",x:160,score:1116,date:1418898187815,_id:{$oid:"5492ab0ba5195a0c00cee785"}},{player:"Napoleon",x:94,score:7836,date:1418899011312,_id:{$oid:"5492ae43a5195a0c00cee786"}},{player:"Napoleon",x:168,score:5798,date:1418899063738,_id:{$oid:"5492ae77a5195a0c00cee787"}},{player:"Napoleon",x:187,score:7796,date:1418899134567,_id:{$oid:"5492aebea5195a0c00cee788"}},{player:"Napoleon",x:267,score:5855,date:1418899187912,_id:{$oid:"5492aef3a5195a0c00cee789"}},{player:"Napoleon",x:216,score:5865,date:1418899240002,_id:{$oid:"5492af28a5195a0c00cee78a"}},{player:"Napoleon",x:235,score:2481,date:1418899262599,_id:{$oid:"5492af3ea5195a0c00cee78b"}},{player:"Napoleon",x:208,score:10183,date:1418899345917,_id:{$oid:"5492af91a5195a0c00cee78c"}},{player:"Napoleon",x:159,score:6833,date:1418899443003,_id:{$oid:"5492aff3a5195a0c00cee78d"}},{player:"jill",x:194,score:5877,date:1418899647109,_id:{$oid:"5492b0bfa5195a0c00cee78e"}},{player:"jill",x:230,score:6832,date:1418899719517,_id:{$oid:"5492b107a5195a0c00cee78f"}},{player:"jill",x:54,score:2455,date:1418899742030,_id:{$oid:"5492b11ea5195a0c00cee790"}},{player:"jill",x:228,score:8255,date:1418899824334,_id:{$oid:"5492b170a5195a0c00cee791"}},{player:"jill",x:208,score:4356,date:1418899877563,_id:{$oid:"5492b1a5a5195a0c00cee792"}},{player:"jill",x:237,score:5904,date:1418899944217,_id:{$oid:"5492b1e8a5195a0c00cee793"}},{player:"jill",x:275,score:6769,date:1418900048436,_id:{$oid:"5492b250a5195a0c00cee794"}},{player:"jill",x:320,score:2974,date:1418900078993,_id:{$oid:"5492b26ea5195a0c00cee795"}},{player:"jill",x:320,score:5880,date:1418900153192,_id:{$oid:"5492b2b9a5195a0c00cee796"}},{player:"jill",x:250,score:5870,date:1418900216809,_id:{$oid:"5492b2f8a5195a0c00cee797"}},{player:"jill",x:143,score:7837,date:1418900347671,_id:{$oid:"5492b37ba5195a0c00cee798"}},{player:"jill",x:250,score:9212,date:1418900737440,_id:{$oid:"5492b501a5195a0c00cee799"}},{player:"jill",x:228,score:5857,date:1418900881892,_id:{$oid:"5492b591a5195a0c00cee79a"}},{player:"jill",x:158,score:6795,date:1418901094565,_id:{$oid:"5492b666a5195a0c00cee79b"}},{player:"chzo",x:73,score:6753,date:1418906071791,_id:{$oid:"5492c9d77aeb270c00ff7378"}},{player:"chzo",x:169,score:9226,date:1418906152168,_id:{$oid:"5492ca287aeb270c00ff7379"}},{player:"chzo",x:78,score:8214,date:1418906225720,_id:{$oid:"5492ca717aeb270c00ff737a"}},{player:"vde",x:43,score:2452,date:1418908040163,_id:{$oid:"5492d1887aeb270c00ff737b"}},{player:"Timshel",x:200,score:2928,date:1418908044740,_id:{$oid:"5492d18c7aeb270c00ff737c"}},{player:"vde",x:137,score:2980,date:1418908069655,_id:{$oid:"5492d1a57aeb270c00ff737d"}},{player:"gre",x:177,score:5872,date:1418908107508,_id:{$oid:"5492d1cb7aeb270c00ff737e"}},{player:"vde",x:189,score:5854,date:1418908122270,_id:{$oid:"5492d1da7aeb270c00ff737f"}},{player:"Timshel",x:158,score:6808,date:1418908123505,_id:{$oid:"5492d1db7aeb270c00ff7380"}},{player:"Timshel",x:221,score:2985,date:1418908150898,_id:{$oid:"5492d1f67aeb270c00ff7381"}},{player:"gre",x:246,score:5843,date:1418908153696,_id:{$oid:"5492d1f97aeb270c00ff7382"}},{player:"vde",x:117,score:6876,date:1418908184013,_id:{$oid:"5492d2187aeb270c00ff7383"}},{player:"gre",x:170,score:9225,date:1418908248805,_id:{$oid:"5492d2587aeb270c00ff7384"}},{player:"mandre",x:84,score:7834,date:1418908515045,_id:{$oid:"5492d3637aeb270c00ff7385"}},{player:"mandre",x:49,score:2448,date:1418908542424,_id:{$oid:"5492d37e7aeb270c00ff7386"}},{player:"mandre",x:37,score:2435,date:1418908567346,_id:{$oid:"5492d3977aeb270c00ff7387"}},{player:"mandre",x:250,score:8300,date:1418908636025,_id:{$oid:"5492d3dc7aeb270c00ff7388"}},{player:"mandre",x:106,score:7838,date:1418908734830,_id:{$oid:"5492d43e7aeb270c00ff7389"}},{player:"Timshel",x:145,score:6283,date:1418908771880,_id:{$oid:"5492d4637aeb270c00ff738a"}},{player:"vde",x:154,score:2927,date:1418908809322,_id:{$oid:"5492d4897aeb270c00ff738b"}},{player:"mandre",x:84,score:8264,date:1418908817553,_id:{$oid:"5492d4917aeb270c00ff738c"}},{player:"Timshel",x:158,score:4867,date:1418908825016,_id:{$oid:"5492d4997aeb270c00ff738d"}},{player:"vde",x:85,score:6893,date:1418908871510,_id:{$oid:"5492d4c77aeb270c00ff738e"}},{player:"Timshel",x:148,score:6287,date:1418908884074,_id:{$oid:"5492d4d47aeb270c00ff738f"}},{player:"mandre",x:157,score:9132,date:1418908922749,_id:{$oid:"5492d4fa7aeb270c00ff7390"}},{player:"Timshel",x:155,score:6274,date:1418908934719,_id:{$oid:"5492d5067aeb270c00ff7391"}},{player:"mandre",x:102,score:6885,date:1418908994187,_id:{$oid:"5492d5427aeb270c00ff7392"}},{player:"Timshel",x:149,score:7787,date:1418909015053,_id:{$oid:"5492d5577aeb270c00ff7393"}},{player:"mandre",x:132,score:6811,date:1418909058207,_id:{$oid:"5492d5827aeb270c00ff7394"}},{player:"Timshel",x:99,score:7843,date:1418909095781,_id:{$oid:"5492d5a77aeb270c00ff7395"}},{player:"TTAK",x:160,score:1048,date:1418909228845,_id:{$oid:"5492d62c7aeb270c00ff7396"}},{player:"TTAK",x:113,score:567,date:1418909257813,_id:{$oid:"5492d6497aeb270c00ff7397"}},{player:"TTAK",x:160,score:999,date:1418909283251,_id:{$oid:"5492d6637aeb270c00ff7398"}},{player:"TTAK",x:119,score:569,date:1418909329282,_id:{$oid:"5492d6917aeb270c00ff7399"}},{player:"mandre",x:48,score:11203,date:1418909329930,_id:{$oid:"5492d6917aeb270c00ff739a"}},{player:"mandre",x:139,score:4363,date:1418909500971,_id:{$oid:"5492d73c7aeb270c00ff739b"}},{player:"TTAK",x:165,score:1488,date:1418909583516,_id:{$oid:"5492d78f7aeb270c00ff739c"}},{player:"mandre",x:120,score:9244,date:1418909603820,_id:{$oid:"5492d7a37aeb270c00ff739d"}},{player:"mandre",x:47,score:2439,date:1418909628176,_id:{$oid:"5492d7bc7aeb270c00ff739e"}},{player:"mandre",x:121,score:9219,date:1418909694831,_id:{$oid:"5492d7fe7aeb270c00ff739f"}},{player:"TTAK",x:160,score:564,date:1418909758469,_id:{$oid:"5492d83e7aeb270c00ff73a0"}},{player:"mandre",x:51,score:7839,date:1418909768888,_id:{$oid:"5492d8487aeb270c00ff73a1"}},{player:"mandre",x:123,score:6787,date:1418909828191,_id:{$oid:"5492d8847aeb270c00ff73a2"}},{player:"mandre",x:239,score:2994,date:1418909852219,_id:{$oid:"5492d89c7aeb270c00ff73a3"}},{player:"mandre",x:104,score:5314,date:1418909902277,_id:{$oid:"5492d8ce7aeb270c00ff73a4"}},{player:"mandre",x:95,score:7873,date:1418909962390,_id:{$oid:"5492d90a7aeb270c00ff73a5"}},{player:"mandre",x:27,score:7836,date:1418910037635,_id:{$oid:"5492d9557aeb270c00ff73a6"}},{player:"Napoleon",x:187,score:5904,date:1418910728066,_id:{$oid:"5492dc087aeb270c00ff73a7"}},{player:"Napoleon",x:161,score:2448,date:1418910857215,_id:{$oid:"5492dc897aeb270c00ff73a8"}},{player:"Napoleon",x:154,score:9205,date:1418910942600,_id:{$oid:"5492dcde7aeb270c00ff73a9"}},{player:"TTAK",x:160,score:530,date:1418910950954,_id:{$oid:"5492dce67aeb270c00ff73aa"}},{player:"Napoleon",x:164,score:5852,date:1418911018032,_id:{$oid:"5492dd2a7aeb270c00ff73ab"}},{player:"Napoleon",x:209,score:5847,date:1418911086933,_id:{$oid:"5492dd6e7aeb270c00ff73ac"}},{player:"Napoleon",x:258,score:6669,date:1418911152013,_id:{$oid:"5492ddb07aeb270c00ff73ad"}},{player:"Napoleon",x:160,score:1050,date:1418911164263,_id:{$oid:"5492ddbc7aeb270c00ff73ae"}},{player:"Napoleon",x:162,score:1479,date:1418911177510,_id:{$oid:"5492ddc97aeb270c00ff73af"}},{player:"TTAK",x:187,score:1048,date:1418911300334,_id:{$oid:"5492de447aeb270c00ff73b0"}},{player:"TTAK",x:160,score:550,date:1418911393341,_id:{$oid:"5492dea17aeb270c00ff73b1"}},{player:"TTAK",x:160,score:11204,date:1418911839037,_id:{$oid:"5492e05f7aeb270c00ff73b2"}}]
},{}],167:[function(e,t,r){var i=e("pixi.js");var a=e("../../src/World");var n=e("../../src/Map");var o=e("../../src/SpawnerCollection");var s=e("../../src/DeadCarrot");var d=e("../../src/conf");var c=e("../../src/font");var h=e("./data.json");var l=e("lodash");var f=24*3600*1e3;var u=l(h).map(function(e){return Math.floor(e.date/f)}).uniq().map(function(e){var t=e*f;return{day:e,timestamp:t,str:new Date(t).toISOString().substring(0,10)}}).value();var p=500;var b=Math.ceil(l(h).pluck("score").max().value()/p+1)*p;var y=Math.ceil(b/480);var v=d.WIDTH;var g=b*v/d.WIDTH;var m=1;var x=new i.CanvasRenderer(v,g);var _=document.createElement("canvas");_.width=v*u.length*m;_.height=g*m;_.style.width=~~(_.width/2)+"px";_.style.height=~~(_.height/2)+"px";var w=_.getContext("2d");document.body.appendChild(_);var T=l.map(u,function(e,t){var r=l.filter(h,function(t){return e.timestamp<=t.date&&t.date<e.timestamp+f});var d=l.max(r,function(e){return e.score});var u="grewebisawesome"+e.day;var p=new o;var _=new o;var T=new n(u,p,_);var S=new i.DisplayObjectContainer;var A=new i.DisplayObjectContainer;var C=new a;C.addChild(T);C.addChild(_);C.addChild(p);C.addChild(S);C.addChild(A);C.position.y=b;var E=new i.Text(e.str,{font:"bold 40px "+c.name,fill:"#EB0"});E.position.x=(v-E.width)/2;var M=i.Sprite.fromImage("./img/scoreIcon1.png");M.position.y=50;M.position.x=120;M.scale.x=3;M.scale.y=3;var R=new i.Text(d.player,{font:"bold 30px "+c.name,fill:"#FA0",dropShadowColor:"#C90",dropShadow:true,dropShadowAngle:0,dropShadowDistance:2});R.position.y=120;R.position.x=(v-R.width)/2;var $=new i.Stage(16777215);$.addChild(C);$.addChild(E);$.addChild(M);$.addChild(R);r.forEach(function(e){var t=new i.Graphics;t.endFill();t.beginFill(16763989);t.drawCircle(0,0,50);t.endFill();t.position.x=e.x;t.position.y=-e.score;S.addChild(t);var r=new s(e,false,false,20);A.addChild(r)});for(var B=1;B<=y;++B){T.allocChunk(0,B)}var L=50;for(var I=0;I<5e3;I+=L){C.update(I,L)}return function(){x.render($);w.drawImage(x.view,t*v*m,0,v*m,g*m)}});setInterval(function(){T.forEach(function(e){e()})},1e3)},{"../../src/DeadCarrot":143,"../../src/Map":148,"../../src/SpawnerCollection":154,"../../src/World":155,"../../src/conf":159,"../../src/font":160,"./data.json":166,lodash:168,"pixi.js":169}],168:[function(e,t,r){t.exports=e(136)},{"/Volumes/Case Sensitive/perso/ld31/node_modules/lodash/dist/lodash.js":136}],169:[function(e,t,r){(function(){var e=this,i=i||{};i.WEBGL_RENDERER=0,i.CANVAS_RENDERER=1,i.VERSION="v2.2.0",i.blendModes={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},i.scaleModes={DEFAULT:0,LINEAR:0,NEAREST:1},i._UID=0,"undefined"!=typeof Float32Array?(i.Float32Array=Float32Array,i.Uint16Array=Uint16Array,i.Uint32Array=Uint32Array,i.ArrayBuffer=ArrayBuffer):(i.Float32Array=Array,i.Uint16Array=Array),i.INTERACTION_FREQUENCY=30,i.AUTO_PREVENT_DEFAULT=!0,i.PI_2=2*Math.PI,i.RAD_TO_DEG=180/Math.PI,i.DEG_TO_RAD=Math.PI/180,i.RETINA_PREFIX="@2x",i.dontSayHello=!1,i.defaultRenderOptions={view:null,transparent:!1,antialias:!1,preserveDrawingBuffer:!1,resolution:1,clearBeforeRender:!0,autoResize:!1},i.sayHello=function(e){if(!i.dontSayHello){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var t=["%c %c %c Pixi.js "+i.VERSION+" - "+e+"  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ ","background: #ff66a5","background: #ff66a5","color: #ff66a5; background: #030307;","background: #ff66a5","background: #ffc3dc","background: #ff66a5","color: #ff2424; background: #fff","color: #ff2424; background: #fff","color: #ff2424; background: #fff"];console.log.apply(console,t)}else window.console&&console.log("Pixi.js "+i.VERSION+" - http://www.pixijs.com/");i.dontSayHello=!0}},i.Point=function(e,t){this.x=e||0,this.y=t||0},i.Point.prototype.clone=function(){return new i.Point(this.x,this.y)},i.Point.prototype.set=function(e,t){this.x=e||0,this.y=t||(0!==t?this.x:0)},i.Point.prototype.constructor=i.Point,i.Rectangle=function(e,t,r,i){this.x=e||0,this.y=t||0,this.width=r||0,this.height=i||0},i.Rectangle.prototype.clone=function(){return new i.Rectangle(this.x,this.y,this.width,this.height)},i.Rectangle.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;var r=this.x;if(e>=r&&e<=r+this.width){var i=this.y;if(t>=i&&t<=i+this.height)return!0}return!1},i.Rectangle.prototype.constructor=i.Rectangle,i.EmptyRectangle=new i.Rectangle(0,0,0,0),i.Polygon=function(e){if(e instanceof Array||(e=Array.prototype.slice.call(arguments)),e[0]instanceof i.Point){for(var t=[],r=0,a=e.length;a>r;r++)t.push(e[r].x,e[r].y);e=t}this.closed=!0,this.points=e},i.Polygon.prototype.clone=function(){var e=this.points.slice();return new i.Polygon(e)},i.Polygon.prototype.contains=function(e,t){for(var r=!1,i=this.points.length/2,a=0,n=i-1;i>a;n=a++){var o=this.points[2*a],s=this.points[2*a+1],d=this.points[2*n],c=this.points[2*n+1],h=s>t!=c>t&&(d-o)*(t-s)/(c-s)+o>e;h&&(r=!r)}return r},i.Polygon.prototype.constructor=i.Polygon,i.Circle=function(e,t,r){this.x=e||0,this.y=t||0,this.radius=r||0},i.Circle.prototype.clone=function(){return new i.Circle(this.x,this.y,this.radius)},i.Circle.prototype.contains=function(e,t){if(this.radius<=0)return!1;var r=this.x-e,i=this.y-t,a=this.radius*this.radius;return r*=r,i*=i,a>=r+i},i.Circle.prototype.getBounds=function(){return new i.Rectangle(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},i.Circle.prototype.constructor=i.Circle,i.Ellipse=function(e,t,r,i){this.x=e||0,this.y=t||0,this.width=r||0,this.height=i||0},i.Ellipse.prototype.clone=function(){return new i.Ellipse(this.x,this.y,this.width,this.height)},i.Ellipse.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;var r=(e-this.x)/this.width,i=(t-this.y)/this.height;return r*=r,i*=i,1>=r+i},i.Ellipse.prototype.getBounds=function(){return new i.Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)},i.Ellipse.prototype.constructor=i.Ellipse,i.RoundedRectangle=function(e,t,r,i,a){this.x=e||0,this.y=t||0,this.width=r||0,this.height=i||0,this.radius=a||20},i.RoundedRectangle.prototype.clone=function(){return new i.RoundedRectangle(this.x,this.y,this.width,this.height,this.radius)},i.RoundedRectangle.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;var r=this.x;if(e>=r&&e<=r+this.width){var i=this.y;if(t>=i&&t<=i+this.height)return!0}return!1},i.RoundedRectangle.prototype.constructor=i.RoundedRectangle,i.Matrix=function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0},i.Matrix.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},i.Matrix.prototype.toArray=function(e){this.array||(this.array=new i.Float32Array(9));var t=this.array;return e?(t[0]=this.a,t[1]=this.b,t[2]=0,t[3]=this.c,t[4]=this.d,t[5]=0,t[6]=this.tx,t[7]=this.ty,t[8]=1):(t[0]=this.a,t[1]=this.c,t[2]=this.tx,t[3]=this.b,t[4]=this.d,t[5]=this.ty,t[6]=0,t[7]=0,t[8]=1),t},i.Matrix.prototype.apply=function(e,t){return t=t||new i.Point,t.x=this.a*e.x+this.c*e.y+this.tx,t.y=this.b*e.x+this.d*e.y+this.ty,t},i.Matrix.prototype.applyInverse=function(e,t){t=t||new i.Point;var r=1/(this.a*this.d+this.c*-this.b);return t.x=this.d*r*e.x+-this.c*r*e.y+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*e.y+-this.b*r*e.x+(-this.ty*this.a+this.tx*this.b)*r,t},i.Matrix.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},i.Matrix.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},i.Matrix.prototype.rotate=function(e){var t=Math.cos(e),r=Math.sin(e),i=this.a,a=this.c,n=this.tx;return this.a=i*t-this.b*r,this.b=i*r+this.b*t,this.c=a*t-this.d*r,this.d=a*r+this.d*t,this.tx=n*t-this.ty*r,this.ty=n*r+this.ty*t,this},i.Matrix.prototype.append=function(e){var t=this.a,r=this.b,i=this.c,a=this.d;return this.a=e.a*t+e.b*i,this.b=e.a*r+e.b*a,this.c=e.c*t+e.d*i,this.d=e.c*r+e.d*a,this.tx=e.tx*t+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*a+this.ty,this},i.Matrix.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},i.identityMatrix=new i.Matrix,i.DisplayObject=function(){this.position=new i.Point,this.scale=new i.Point(1,1),this.pivot=new i.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.hitArea=null,this.buttonMode=!1,this.renderable=!1,this.parent=null,this.stage=null,this.worldAlpha=1,this._interactive=!1,this.defaultCursor="pointer",this.worldTransform=new i.Matrix,this._sr=0,this._cr=1,this.filterArea=null,this._bounds=new i.Rectangle(0,0,1,1),this._currentBounds=null,this._mask=null,this._cacheAsBitmap=!1,this._cacheIsDirty=!1},i.DisplayObject.prototype.constructor=i.DisplayObject,Object.defineProperty(i.DisplayObject.prototype,"interactive",{get:function(){return this._interactive},set:function(e){this._interactive=e,this.stage&&(this.stage.dirty=!0)}}),Object.defineProperty(i.DisplayObject.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}}),Object.defineProperty(i.DisplayObject.prototype,"mask",{get:function(){return this._mask},set:function(e){this._mask&&(this._mask.isMask=!1),this._mask=e,this._mask&&(this._mask.isMask=!0)}}),Object.defineProperty(i.DisplayObject.prototype,"filters",{get:function(){return this._filters},set:function(e){if(e){for(var t=[],r=0;r<e.length;r++)for(var i=e[r].passes,a=0;a<i.length;a++)t.push(i[a]);this._filterBlock={target:this,filterPasses:t}}this._filters=e}}),Object.defineProperty(i.DisplayObject.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(e){this._cacheAsBitmap!==e&&(e?this._generateCachedSprite():this._destroyCachedSprite(),this._cacheAsBitmap=e)}}),i.DisplayObject.prototype.updateTransform=function(){var e,t,r,a,n,o,s=this.parent.worldTransform,d=this.worldTransform;this.rotation%i.PI_2?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),e=this._cr*this.scale.x,t=this._sr*this.scale.x,r=-this._sr*this.scale.y,a=this._cr*this.scale.y,n=this.position.x,o=this.position.y,(this.pivot.x||this.pivot.y)&&(n-=this.pivot.x*e+this.pivot.y*r,o-=this.pivot.x*t+this.pivot.y*a),d.a=e*s.a+t*s.c,d.b=e*s.b+t*s.d,d.c=r*s.a+a*s.c,d.d=r*s.b+a*s.d,d.tx=n*s.a+o*s.c+s.tx,d.ty=n*s.b+o*s.d+s.ty):(e=this.scale.x,a=this.scale.y,n=this.position.x-this.pivot.x*e,o=this.position.y-this.pivot.y*a,d.a=e*s.a,d.b=e*s.b,d.c=a*s.c,d.d=a*s.d,d.tx=n*s.a+o*s.c+s.tx,d.ty=n*s.b+o*s.d+s.ty),this.worldAlpha=this.alpha*this.parent.worldAlpha},i.DisplayObject.prototype.displayObjectUpdateTransform=i.DisplayObject.prototype.updateTransform,i.DisplayObject.prototype.getBounds=function(e){return e=e,i.EmptyRectangle},i.DisplayObject.prototype.getLocalBounds=function(){return this.getBounds(i.identityMatrix)},i.DisplayObject.prototype.setStageReference=function(e){this.stage=e,this._interactive&&(this.stage.dirty=!0)},i.DisplayObject.prototype.generateTexture=function(e,t,r){var a=this.getLocalBounds(),n=new i.RenderTexture(0|a.width,0|a.height,r,t,e);return i.DisplayObject._tempMatrix.tx=-a.x,i.DisplayObject._tempMatrix.ty=-a.y,n.render(this,i.DisplayObject._tempMatrix),n},i.DisplayObject.prototype.updateCache=function(){this._generateCachedSprite()},i.DisplayObject.prototype.toGlobal=function(e){return this.displayObjectUpdateTransform(),this.worldTransform.apply(e)},i.DisplayObject.prototype.toLocal=function(e,t){return t&&(e=t.toGlobal(e)),this.displayObjectUpdateTransform(),this.worldTransform.applyInverse(e)},i.DisplayObject.prototype._renderCachedSprite=function(e){this._cachedSprite.worldAlpha=this.worldAlpha,e.gl?i.Sprite.prototype._renderWebGL.call(this._cachedSprite,e):i.Sprite.prototype._renderCanvas.call(this._cachedSprite,e)},i.DisplayObject.prototype._generateCachedSprite=function(){this._cacheAsBitmap=!1;var e=this.getLocalBounds();if(this._cachedSprite)this._cachedSprite.texture.resize(0|e.width,0|e.height);else{var t=new i.RenderTexture(0|e.width,0|e.height);this._cachedSprite=new i.Sprite(t),this._cachedSprite.worldTransform=this.worldTransform}var r=this._filters;this._filters=null,this._cachedSprite.filters=r,i.DisplayObject._tempMatrix.tx=-e.x,i.DisplayObject._tempMatrix.ty=-e.y,this._cachedSprite.texture.render(this,i.DisplayObject._tempMatrix,!0),this._cachedSprite.anchor.x=-(e.x/e.width),this._cachedSprite.anchor.y=-(e.y/e.height),this._filters=r,this._cacheAsBitmap=!0},i.DisplayObject.prototype._destroyCachedSprite=function(){this._cachedSprite&&(this._cachedSprite.texture.destroy(!0),this._cachedSprite=null)},i.DisplayObject.prototype._renderWebGL=function(e){e=e},i.DisplayObject.prototype._renderCanvas=function(e){e=e},i.DisplayObject._tempMatrix=new i.Matrix,Object.defineProperty(i.DisplayObject.prototype,"x",{get:function(){return this.position.x},set:function(e){this.position.x=e}}),Object.defineProperty(i.DisplayObject.prototype,"y",{get:function(){return this.position.y},set:function(e){this.position.y=e}}),i.DisplayObjectContainer=function(){i.DisplayObject.call(this),this.children=[]},i.DisplayObjectContainer.prototype=Object.create(i.DisplayObject.prototype),i.DisplayObjectContainer.prototype.constructor=i.DisplayObjectContainer,Object.defineProperty(i.DisplayObjectContainer.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e}}),Object.defineProperty(i.DisplayObjectContainer.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e}}),i.DisplayObjectContainer.prototype.addChild=function(e){return this.addChildAt(e,this.children.length)},i.DisplayObjectContainer.prototype.addChildAt=function(e,t){if(t>=0&&t<=this.children.length)return e.parent&&e.parent.removeChild(e),e.parent=this,this.children.splice(t,0,e),this.stage&&e.setStageReference(this.stage),e;throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length)},i.DisplayObjectContainer.prototype.swapChildren=function(e,t){if(e!==t){var r=this.getChildIndex(e),i=this.getChildIndex(t);if(0>r||0>i)throw new Error("swapChildren: Both the supplied DisplayObjects must be a child of the caller.");this.children[r]=t,this.children[i]=e}},i.DisplayObjectContainer.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},i.DisplayObjectContainer.prototype.setChildIndex=function(e,t){if(0>t||t>=this.children.length)throw new Error("The supplied index is out of bounds");var r=this.getChildIndex(e);this.children.splice(r,1),this.children.splice(t,0,e)},i.DisplayObjectContainer.prototype.getChildAt=function(e){if(0>e||e>=this.children.length)throw new Error("getChildAt: Supplied index "+e+" does not exist in the child list, or the supplied DisplayObject must be a child of the caller");return this.children[e]},i.DisplayObjectContainer.prototype.removeChild=function(e){var t=this.children.indexOf(e);if(-1!==t)return this.removeChildAt(t)},i.DisplayObjectContainer.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return this.stage&&t.removeStageReference(),t.parent=void 0,this.children.splice(e,1),t},i.DisplayObjectContainer.prototype.removeChildren=function(e,t){var r=e||0,i="number"==typeof t?t:this.children.length,a=i-r;if(a>0&&i>=a){for(var n=this.children.splice(r,a),o=0;o<n.length;o++){var s=n[o];this.stage&&s.removeStageReference(),s.parent=void 0}return n}if(0===a&&0===this.children.length)return[];throw new Error("removeChildren: Range Error, numeric values are outside the acceptable range")},i.DisplayObjectContainer.prototype.updateTransform=function(){if(this.visible&&(this.displayObjectUpdateTransform(),!this._cacheAsBitmap))for(var e=0,t=this.children.length;t>e;e++)this.children[e].updateTransform()},i.DisplayObjectContainer.prototype.displayObjectContainerUpdateTransform=i.DisplayObjectContainer.prototype.updateTransform,i.DisplayObjectContainer.prototype.getBounds=function(){if(0===this.children.length)return i.EmptyRectangle;for(var e,t,r,a=1/0,n=1/0,o=-1/0,s=-1/0,d=!1,c=0,h=this.children.length;h>c;c++){var l=this.children[c];l.visible&&(d=!0,e=this.children[c].getBounds(),a=a<e.x?a:e.x,n=n<e.y?n:e.y,t=e.width+e.x,r=e.height+e.y,o=o>t?o:t,s=s>r?s:r)}if(!d)return i.EmptyRectangle;var f=this._bounds;return f.x=a,f.y=n,f.width=o-a,f.height=s-n,f},i.DisplayObjectContainer.prototype.getLocalBounds=function(){var e=this.worldTransform;this.worldTransform=i.identityMatrix;for(var t=0,r=this.children.length;r>t;t++)this.children[t].updateTransform();var a=this.getBounds();return this.worldTransform=e,a},i.DisplayObjectContainer.prototype.setStageReference=function(e){this.stage=e,this._interactive&&(this.stage.dirty=!0);for(var t=0,r=this.children.length;r>t;t++){var i=this.children[t];i.setStageReference(e)}},i.DisplayObjectContainer.prototype.removeStageReference=function(){for(var e=0,t=this.children.length;t>e;e++){var r=this.children[e];r.removeStageReference()}this._interactive&&(this.stage.dirty=!0),this.stage=null},i.DisplayObjectContainer.prototype._renderWebGL=function(e){if(this.visible&&!(this.alpha<=0)){if(this._cacheAsBitmap)return this._renderCachedSprite(e),void 0;var t,r;if(this._mask||this._filters){for(this._filters&&(e.spriteBatch.flush(),e.filterManager.pushFilter(this._filterBlock)),this._mask&&(e.spriteBatch.stop(),e.maskManager.pushMask(this.mask,e),e.spriteBatch.start()),t=0,r=this.children.length;r>t;t++)this.children[t]._renderWebGL(e);e.spriteBatch.stop(),this._mask&&e.maskManager.popMask(this._mask,e),this._filters&&e.filterManager.popFilter(),e.spriteBatch.start()}else for(t=0,r=this.children.length;r>t;t++)this.children[t]._renderWebGL(e)}},i.DisplayObjectContainer.prototype._renderCanvas=function(e){if(this.visible!==!1&&0!==this.alpha){if(this._cacheAsBitmap)return this._renderCachedSprite(e),void 0;this._mask&&e.maskManager.pushMask(this._mask,e);for(var t=0,r=this.children.length;r>t;t++){var i=this.children[t];i._renderCanvas(e)}this._mask&&e.maskManager.popMask(e)}},i.Sprite=function(e){i.DisplayObjectContainer.call(this),this.anchor=new i.Point,this.texture=e||i.Texture.emptyTexture,this._width=0,this._height=0,this.tint=16777215,this.blendMode=i.blendModes.NORMAL,this.shader=null,this.texture.baseTexture.hasLoaded?this.onTextureUpdate():this.texture.on("update",this.onTextureUpdate.bind(this)),this.renderable=!0},i.Sprite.prototype=Object.create(i.DisplayObjectContainer.prototype),i.Sprite.prototype.constructor=i.Sprite,Object.defineProperty(i.Sprite.prototype,"width",{get:function(){return this.scale.x*this.texture.frame.width},set:function(e){this.scale.x=e/this.texture.frame.width,this._width=e}}),Object.defineProperty(i.Sprite.prototype,"height",{get:function(){return this.scale.y*this.texture.frame.height},set:function(e){this.scale.y=e/this.texture.frame.height,this._height=e}}),i.Sprite.prototype.setTexture=function(e){this.texture=e,this.cachedTint=16777215},i.Sprite.prototype.onTextureUpdate=function(){this._width&&(this.scale.x=this._width/this.texture.frame.width),this._height&&(this.scale.y=this._height/this.texture.frame.height)},i.Sprite.prototype.getBounds=function(e){var t=this.texture.frame.width,r=this.texture.frame.height,i=t*(1-this.anchor.x),a=t*-this.anchor.x,n=r*(1-this.anchor.y),o=r*-this.anchor.y,s=e||this.worldTransform,d=s.a,c=s.b,h=s.c,l=s.d,f=s.tx,u=s.ty,p=-1/0,b=-1/0,y=1/0,v=1/0;if(0===c&&0===h)0>d&&(d*=-1),0>l&&(l*=-1),y=d*a+f,p=d*i+f,v=l*o+u,b=l*n+u;else{var g=d*a+h*o+f,m=l*o+c*a+u,x=d*i+h*o+f,_=l*o+c*i+u,w=d*i+h*n+f,T=l*n+c*i+u,S=d*a+h*n+f,A=l*n+c*a+u;y=y>g?g:y,y=y>x?x:y,y=y>w?w:y,y=y>S?S:y,v=v>m?m:v,v=v>_?_:v,v=v>T?T:v,v=v>A?A:v,p=g>p?g:p,p=x>p?x:p,p=w>p?w:p,p=S>p?S:p,b=m>b?m:b,b=_>b?_:b,b=T>b?T:b,b=A>b?A:b}var C=this._bounds;return C.x=y,C.width=p-y,C.y=v,C.height=b-v,this._currentBounds=C,C},i.Sprite.prototype._renderWebGL=function(e){if(this.visible&&!(this.alpha<=0)){var t,r;if(this._mask||this._filters){var i=e.spriteBatch;for(this._filters&&(i.flush(),e.filterManager.pushFilter(this._filterBlock)),this._mask&&(i.stop(),e.maskManager.pushMask(this.mask,e),i.start()),i.render(this),t=0,r=this.children.length;r>t;t++)this.children[t]._renderWebGL(e);i.stop(),this._mask&&e.maskManager.popMask(this._mask,e),this._filters&&e.filterManager.popFilter(),i.start()}else for(e.spriteBatch.render(this),t=0,r=this.children.length;r>t;t++)this.children[t]._renderWebGL(e)}},i.Sprite.prototype._renderCanvas=function(e){if(!(this.visible===!1||0===this.alpha||this.texture.crop.width<=0||this.texture.crop.height<=0)){if(this.blendMode!==e.currentBlendMode&&(e.currentBlendMode=this.blendMode,e.context.globalCompositeOperation=i.blendModesCanvas[e.currentBlendMode]),this._mask&&e.maskManager.pushMask(this._mask,e),this.texture.valid){var t=this.texture.baseTexture.resolution/e.resolution;e.context.globalAlpha=this.worldAlpha,e.smoothProperty&&e.scaleMode!==this.texture.baseTexture.scaleMode&&(e.scaleMode=this.texture.baseTexture.scaleMode,e.context[e.smoothProperty]=e.scaleMode===i.scaleModes.LINEAR);var r=this.texture.trim?this.texture.trim.x-this.anchor.x*this.texture.trim.width:this.anchor.x*-this.texture.frame.width,a=this.texture.trim?this.texture.trim.y-this.anchor.y*this.texture.trim.height:this.anchor.y*-this.texture.frame.height;e.roundPixels?(e.context.setTransform(this.worldTransform.a,this.worldTransform.b,this.worldTransform.c,this.worldTransform.d,this.worldTransform.tx*e.resolution|0,this.worldTransform.ty*e.resolution|0),r=0|r,a=0|a):e.context.setTransform(this.worldTransform.a,this.worldTransform.b,this.worldTransform.c,this.worldTransform.d,this.worldTransform.tx*e.resolution,this.worldTransform.ty*e.resolution),16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=i.CanvasTinter.getTintedTexture(this,this.tint)),e.context.drawImage(this.tintedTexture,0,0,this.texture.crop.width,this.texture.crop.height,r/t,a/t,this.texture.crop.width/t,this.texture.crop.height/t)):e.context.drawImage(this.texture.baseTexture.source,this.texture.crop.x,this.texture.crop.y,this.texture.crop.width,this.texture.crop.height,r/t,a/t,this.texture.crop.width/t,this.texture.crop.height/t)}for(var n=0,o=this.children.length;o>n;n++)this.children[n]._renderCanvas(e);this._mask&&e.maskManager.popMask(e)}},i.Sprite.fromFrame=function(e){var t=i.TextureCache[e];if(!t)throw new Error('The frameId "'+e+'" does not exist in the texture cache'+this);return new i.Sprite(t)},i.Sprite.fromImage=function(e,t,r){var a=i.Texture.fromImage(e,t,r);return new i.Sprite(a)},i.SpriteBatch=function(e){i.DisplayObjectContainer.call(this),this.textureThing=e,this.ready=!1},i.SpriteBatch.prototype=Object.create(i.DisplayObjectContainer.prototype),i.SpriteBatch.prototype.constructor=i.SpriteBatch,i.SpriteBatch.prototype.initWebGL=function(e){this.fastSpriteBatch=new i.WebGLFastSpriteBatch(e),this.ready=!0},i.SpriteBatch.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},i.SpriteBatch.prototype._renderWebGL=function(e){!this.visible||this.alpha<=0||!this.children.length||(this.ready||this.initWebGL(e.gl),e.spriteBatch.stop(),e.shaderManager.setShader(e.shaderManager.fastShader),this.fastSpriteBatch.begin(this,e),this.fastSpriteBatch.render(this),e.spriteBatch.start())},i.SpriteBatch.prototype._renderCanvas=function(e){if(this.visible&&!(this.alpha<=0)&&this.children.length){var t=e.context;t.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var r=this.worldTransform,i=!0,a=0;a<this.children.length;a++){var n=this.children[a];if(n.visible){var o=n.texture,s=o.frame;if(t.globalAlpha=this.worldAlpha*n.alpha,n.rotation%(2*Math.PI)===0)i&&(t.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),i=!1),t.drawImage(o.baseTexture.source,s.x,s.y,s.width,s.height,n.anchor.x*-s.width*n.scale.x+n.position.x+.5|0,n.anchor.y*-s.height*n.scale.y+n.position.y+.5|0,s.width*n.scale.x,s.height*n.scale.y);else{i||(i=!0),n.displayObjectUpdateTransform();var d=n.worldTransform;e.roundPixels?t.setTransform(d.a,d.b,d.c,d.d,0|d.tx,0|d.ty):t.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty),t.drawImage(o.baseTexture.source,s.x,s.y,s.width,s.height,n.anchor.x*-s.width+.5|0,n.anchor.y*-s.height+.5|0,s.width,s.height)}}}}},i.MovieClip=function(e){i.Sprite.call(this,e[0]),this.textures=e,this.animationSpeed=1,this.loop=!0,this.onComplete=null,this.currentFrame=0,this.playing=!1},i.MovieClip.prototype=Object.create(i.Sprite.prototype),i.MovieClip.prototype.constructor=i.MovieClip,Object.defineProperty(i.MovieClip.prototype,"totalFrames",{get:function(){return this.textures.length}}),i.MovieClip.prototype.stop=function(){this.playing=!1},i.MovieClip.prototype.play=function(){this.playing=!0},i.MovieClip.prototype.gotoAndStop=function(e){this.playing=!1,this.currentFrame=e;var t=this.currentFrame+.5|0;this.setTexture(this.textures[t%this.textures.length])},i.MovieClip.prototype.gotoAndPlay=function(e){this.currentFrame=e,this.playing=!0},i.MovieClip.prototype.updateTransform=function(){if(this.displayObjectContainerUpdateTransform(),this.playing){this.currentFrame+=this.animationSpeed;var e=this.currentFrame+.5|0;this.currentFrame=this.currentFrame%this.textures.length,this.loop||e<this.textures.length?this.setTexture(this.textures[e%this.textures.length]):e>=this.textures.length&&(this.gotoAndStop(this.textures.length-1),this.onComplete&&this.onComplete())}},i.MovieClip.fromFrames=function(e){for(var t=[],r=0;r<e.length;r++)t.push(new i.Texture.fromFrame(e[r]));return new i.MovieClip(t)},i.MovieClip.fromImages=function(e){for(var t=[],r=0;r<e.length;r++)t.push(new i.Texture.fromImage(e[r]));return new i.MovieClip(t)},i.FilterBlock=function(){this.visible=!0,this.renderable=!0},i.FilterBlock.prototype.constructor=i.FilterBlock,i.Text=function(e,t){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=1,i.Sprite.call(this,i.Texture.fromCanvas(this.canvas)),this.setText(e),this.setStyle(t)},i.Text.prototype=Object.create(i.Sprite.prototype),i.Text.prototype.constructor=i.Text,Object.defineProperty(i.Text.prototype,"width",{get:function(){return this.dirty&&(this.updateText(),this.dirty=!1),this.scale.x*this.texture.frame.width},set:function(e){this.scale.x=e/this.texture.frame.width,this._width=e}}),Object.defineProperty(i.Text.prototype,"height",{get:function(){return this.dirty&&(this.updateText(),this.dirty=!1),this.scale.y*this.texture.frame.height},set:function(e){this.scale.y=e/this.texture.frame.height,this._height=e}}),i.Text.prototype.setStyle=function(e){e=e||{},e.font=e.font||"bold 20pt Arial",e.fill=e.fill||"black",e.align=e.align||"left",e.stroke=e.stroke||"black",e.strokeThickness=e.strokeThickness||0,e.wordWrap=e.wordWrap||!1,e.wordWrapWidth=e.wordWrapWidth||100,e.dropShadow=e.dropShadow||!1,e.dropShadowAngle=e.dropShadowAngle||Math.PI/6,e.dropShadowDistance=e.dropShadowDistance||4,e.dropShadowColor=e.dropShadowColor||"black",this.style=e,this.dirty=!0},i.Text.prototype.setText=function(e){this.text=e.toString()||" ",this.dirty=!0},i.Text.prototype.updateText=function(){this.texture.baseTexture.resolution=this.resolution,this.context.font=this.style.font;var e=this.text;this.style.wordWrap&&(e=this.wordWrap(this.text));for(var t=e.split(/(?:\r\n|\r|\n)/),r=[],i=0,a=this.determineFontProperties(this.style.font),n=0;n<t.length;n++){var o=this.context.measureText(t[n]).width;r[n]=o,i=Math.max(i,o)}var s=i+this.style.strokeThickness;this.style.dropShadow&&(s+=this.style.dropShadowDistance),this.canvas.width=(s+this.context.lineWidth)*this.resolution;var d=a.fontSize+this.style.strokeThickness,c=d*t.length;this.style.dropShadow&&(c+=this.style.dropShadowDistance),this.canvas.height=c*this.resolution,this.context.scale(this.resolution,this.resolution),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=this.style.font,this.context.strokeStyle=this.style.stroke,this.context.lineWidth=this.style.strokeThickness,this.context.textBaseline="alphabetic";var h,l;if(this.style.dropShadow){this.context.fillStyle=this.style.dropShadowColor;var f=Math.sin(this.style.dropShadowAngle)*this.style.dropShadowDistance,u=Math.cos(this.style.dropShadowAngle)*this.style.dropShadowDistance;for(n=0;n<t.length;n++)h=this.style.strokeThickness/2,l=this.style.strokeThickness/2+n*d+a.ascent,"right"===this.style.align?h+=i-r[n]:"center"===this.style.align&&(h+=(i-r[n])/2),this.style.fill&&this.context.fillText(t[n],h+f,l+u)}for(this.context.fillStyle=this.style.fill,n=0;n<t.length;n++)h=this.style.strokeThickness/2,l=this.style.strokeThickness/2+n*d+a.ascent,"right"===this.style.align?h+=i-r[n]:"center"===this.style.align&&(h+=(i-r[n])/2),this.style.stroke&&this.style.strokeThickness&&this.context.strokeText(t[n],h,l),this.style.fill&&this.context.fillText(t[n],h,l);this.updateTexture()},i.Text.prototype.updateTexture=function(){this.texture.baseTexture.width=this.canvas.width,this.texture.baseTexture.height=this.canvas.height,this.texture.crop.width=this.texture.frame.width=this.canvas.width,this.texture.crop.height=this.texture.frame.height=this.canvas.height,this._width=this.canvas.width,this._height=this.canvas.height,this.texture.baseTexture.dirty()},i.Text.prototype._renderWebGL=function(e){this.dirty&&(this.resolution=e.resolution,this.updateText(),this.dirty=!1),i.Sprite.prototype._renderWebGL.call(this,e)},i.Text.prototype._renderCanvas=function(e){this.dirty&&(this.resolution=e.resolution,this.updateText(),this.dirty=!1),i.Sprite.prototype._renderCanvas.call(this,e)},i.Text.prototype.determineFontProperties=function(e){var t=i.Text.fontPropertiesCache[e];if(!t){t={};var r=i.Text.fontPropertiesCanvas,a=i.Text.fontPropertiesContext;a.font=e;var n=Math.ceil(a.measureText("|Mq").width),o=Math.ceil(a.measureText("M").width),s=2*o;o=1.4*o|0,r.width=n,r.height=s,a.fillStyle="#f00",a.fillRect(0,0,n,s),a.font=e,a.textBaseline="alphabetic",a.fillStyle="#000",a.fillText("|MÉq",0,o);var d,c,h=a.getImageData(0,0,n,s).data,l=h.length,f=4*n,u=0,p=!1;for(d=0;o>d;d++){for(c=0;f>c;c+=4)if(255!==h[u+c]){p=!0;break}if(p)break;u+=f}for(t.ascent=o-d,u=l-f,p=!1,d=s;d>o;d--){for(c=0;f>c;c+=4)if(255!==h[u+c]){p=!0;break}if(p)break;u-=f}t.descent=d-o,t.descent+=6,t.fontSize=t.ascent+t.descent,i.Text.fontPropertiesCache[e]=t}return t},i.Text.prototype.wordWrap=function(e){for(var t="",r=e.split("\n"),i=0;i<r.length;i++){for(var a=this.style.wordWrapWidth,n=r[i].split(" "),o=0;o<n.length;o++){var s=this.context.measureText(n[o]).width,d=s+this.context.measureText(" ").width;0===o||d>a?(o>0&&(t+="\n"),t+=n[o],a=this.style.wordWrapWidth-s):(a-=d,t+=" "+n[o])}i<r.length-1&&(t+="\n")}return t},i.Text.prototype.getBounds=function(e){return this.dirty&&(this.updateText(),this.dirty=!1),i.Sprite.prototype.getBounds.call(this,e)},i.Text.prototype.destroy=function(e){this.context=null,this.canvas=null,this.texture.destroy(void 0===e?!0:e)},i.Text.fontPropertiesCache={},i.Text.fontPropertiesCanvas=document.createElement("canvas"),i.Text.fontPropertiesContext=i.Text.fontPropertiesCanvas.getContext("2d"),i.BitmapText=function(e,t){i.DisplayObjectContainer.call(this),this.textWidth=0,this.textHeight=0,this._pool=[],this.setText(e),this.setStyle(t),this.updateText(),this.dirty=!1},i.BitmapText.prototype=Object.create(i.DisplayObjectContainer.prototype),i.BitmapText.prototype.constructor=i.BitmapText,i.BitmapText.prototype.setText=function(e){this.text=e||" ",this.dirty=!0},i.BitmapText.prototype.setStyle=function(e){e=e||{},e.align=e.align||"left",this.style=e;var t=e.font.split(" ");this.fontName=t[t.length-1],this.fontSize=t.length>=2?parseInt(t[t.length-2],10):i.BitmapText.fonts[this.fontName].size,this.dirty=!0,this.tint=e.tint
},i.BitmapText.prototype.updateText=function(){for(var e=i.BitmapText.fonts[this.fontName],t=new i.Point,r=null,a=[],n=0,o=[],s=0,d=this.fontSize/e.size,c=0;c<this.text.length;c++){var h=this.text.charCodeAt(c);if(/(?:\r\n|\r|\n)/.test(this.text.charAt(c)))o.push(t.x),n=Math.max(n,t.x),s++,t.x=0,t.y+=e.lineHeight,r=null;else{var l=e.chars[h];l&&(r&&l.kerning[r]&&(t.x+=l.kerning[r]),a.push({texture:l.texture,line:s,charCode:h,position:new i.Point(t.x+l.xOffset,t.y+l.yOffset)}),t.x+=l.xAdvance,r=h)}}o.push(t.x),n=Math.max(n,t.x);var f=[];for(c=0;s>=c;c++){var u=0;"right"===this.style.align?u=n-o[c]:"center"===this.style.align&&(u=(n-o[c])/2),f.push(u)}var p=this.children.length,b=a.length,y=this.tint||16777215;for(c=0;b>c;c++){var v=p>c?this.children[c]:this._pool.pop();v?v.setTexture(a[c].texture):v=new i.Sprite(a[c].texture),v.position.x=(a[c].position.x+f[a[c].line])*d,v.position.y=a[c].position.y*d,v.scale.x=v.scale.y=d,v.tint=y,v.parent||this.addChild(v)}for(;this.children.length>b;){var g=this.getChildAt(this.children.length-1);this._pool.push(g),this.removeChild(g)}this.textWidth=n*d,this.textHeight=(t.y+e.lineHeight)*d},i.BitmapText.prototype.updateTransform=function(){this.dirty&&(this.updateText(),this.dirty=!1),i.DisplayObjectContainer.prototype.updateTransform.call(this)},i.BitmapText.fonts={},i.InteractionData=function(){this.global=new i.Point,this.target=null,this.originalEvent=null},i.InteractionData.prototype.getLocalPosition=function(e,t){var r=e.worldTransform,a=this.global,n=r.a,o=r.c,s=r.tx,d=r.b,c=r.d,h=r.ty,l=1/(n*c+o*-d);return t=t||new i.Point,t.x=c*l*a.x+-o*l*a.y+(h*o-s*c)*l,t.y=n*l*a.y+-d*l*a.x+(-h*n+s*d)*l,t},i.InteractionData.prototype.constructor=i.InteractionData,i.InteractionManager=function(e){this.stage=e,this.mouse=new i.InteractionData,this.touches={},this.tempPoint=new i.Point,this.mouseoverEnabled=!0,this.pool=[],this.interactiveItems=[],this.interactionDOMElement=null,this.onMouseMove=this.onMouseMove.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.last=0,this.currentCursorStyle="inherit",this.mouseOut=!1,this.resolution=1,this._tempPoint=new i.Point},i.InteractionManager.prototype.constructor=i.InteractionManager,i.InteractionManager.prototype.collectInteractiveSprite=function(e,t){for(var r=e.children,i=r.length,a=i-1;a>=0;a--){var n=r[a];n._interactive?(t.interactiveChildren=!0,this.interactiveItems.push(n),n.children.length>0&&this.collectInteractiveSprite(n,n)):(n.__iParent=null,n.children.length>0&&this.collectInteractiveSprite(n,t))}},i.InteractionManager.prototype.setTarget=function(e){this.target=e,this.resolution=e.resolution,null===this.interactionDOMElement&&this.setTargetDomElement(e.view)},i.InteractionManager.prototype.setTargetDomElement=function(e){this.removeEvents(),window.navigator.msPointerEnabled&&(e.style["-ms-content-zooming"]="none",e.style["-ms-touch-action"]="none"),this.interactionDOMElement=e,e.addEventListener("mousemove",this.onMouseMove,!0),e.addEventListener("mousedown",this.onMouseDown,!0),e.addEventListener("mouseout",this.onMouseOut,!0),e.addEventListener("touchstart",this.onTouchStart,!0),e.addEventListener("touchend",this.onTouchEnd,!0),e.addEventListener("touchmove",this.onTouchMove,!0),window.addEventListener("mouseup",this.onMouseUp,!0)},i.InteractionManager.prototype.removeEvents=function(){this.interactionDOMElement&&(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]="",this.interactionDOMElement.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0),this.interactionDOMElement=null,window.removeEventListener("mouseup",this.onMouseUp,!0))},i.InteractionManager.prototype.update=function(){if(this.target){var e=Date.now(),t=e-this.last;if(t=t*i.INTERACTION_FREQUENCY/1e3,!(1>t)){this.last=e;var r=0;this.dirty&&this.rebuildInteractiveGraph();var a=this.interactiveItems.length,n="inherit",o=!1;for(r=0;a>r;r++){var s=this.interactiveItems[r];s.__hit=this.hitTest(s,this.mouse),this.mouse.target=s,s.__hit&&!o?(s.buttonMode&&(n=s.defaultCursor),s.interactiveChildren||(o=!0),s.__isOver||(s.mouseover&&s.mouseover(this.mouse),s.__isOver=!0)):s.__isOver&&(s.mouseout&&s.mouseout(this.mouse),s.__isOver=!1)}this.currentCursorStyle!==n&&(this.currentCursorStyle=n,this.interactionDOMElement.style.cursor=n)}}},i.InteractionManager.prototype.rebuildInteractiveGraph=function(){this.dirty=!1;for(var e=this.interactiveItems.length,t=0;e>t;t++)this.interactiveItems[t].interactiveChildren=!1;this.interactiveItems=[],this.stage.interactive&&this.interactiveItems.push(this.stage),this.collectInteractiveSprite(this.stage,this.stage)},i.InteractionManager.prototype.onMouseMove=function(e){this.dirty&&this.rebuildInteractiveGraph(),this.mouse.originalEvent=e;var t=this.interactionDOMElement.getBoundingClientRect();this.mouse.global.x=(e.clientX-t.left)*(this.target.width/t.width)/this.resolution,this.mouse.global.y=(e.clientY-t.top)*(this.target.height/t.height)/this.resolution;for(var r=this.interactiveItems.length,i=0;r>i;i++){var a=this.interactiveItems[i];a.mousemove&&a.mousemove(this.mouse)}},i.InteractionManager.prototype.onMouseDown=function(e){this.dirty&&this.rebuildInteractiveGraph(),this.mouse.originalEvent=e,i.AUTO_PREVENT_DEFAULT&&this.mouse.originalEvent.preventDefault();for(var t=this.interactiveItems.length,r=this.mouse.originalEvent,a=2===r.button||3===r.which,n=a?"rightdown":"mousedown",o=a?"rightclick":"click",s=a?"__rightIsDown":"__mouseIsDown",d=a?"__isRightDown":"__isDown",c=0;t>c;c++){var h=this.interactiveItems[c];if((h[n]||h[o])&&(h[s]=!0,h.__hit=this.hitTest(h,this.mouse),h.__hit&&(h[n]&&h[n](this.mouse),h[d]=!0,!h.interactiveChildren)))break}},i.InteractionManager.prototype.onMouseOut=function(e){this.dirty&&this.rebuildInteractiveGraph(),this.mouse.originalEvent=e;var t=this.interactiveItems.length;this.interactionDOMElement.style.cursor="inherit";for(var r=0;t>r;r++){var i=this.interactiveItems[r];i.__isOver&&(this.mouse.target=i,i.mouseout&&i.mouseout(this.mouse),i.__isOver=!1)}this.mouseOut=!0,this.mouse.global.x=-1e4,this.mouse.global.y=-1e4},i.InteractionManager.prototype.onMouseUp=function(e){this.dirty&&this.rebuildInteractiveGraph(),this.mouse.originalEvent=e;for(var t=this.interactiveItems.length,r=!1,i=this.mouse.originalEvent,a=2===i.button||3===i.which,n=a?"rightup":"mouseup",o=a?"rightclick":"click",s=a?"rightupoutside":"mouseupoutside",d=a?"__isRightDown":"__isDown",c=0;t>c;c++){var h=this.interactiveItems[c];(h[o]||h[n]||h[s])&&(h.__hit=this.hitTest(h,this.mouse),h.__hit&&!r?(h[n]&&h[n](this.mouse),h[d]&&h[o]&&h[o](this.mouse),h.interactiveChildren||(r=!0)):h[d]&&h[s]&&h[s](this.mouse),h[d]=!1)}},i.InteractionManager.prototype.hitTest=function(e,t){var r=t.global;if(!e.worldVisible)return!1;e.worldTransform.applyInverse(r,this._tempPoint);var a,n=this._tempPoint.x,o=this._tempPoint.y;if(t.target=e,e.hitArea&&e.hitArea.contains)return e.hitArea.contains(n,o);if(e instanceof i.Sprite){var s,d=e.texture.frame.width,c=e.texture.frame.height,h=-d*e.anchor.x;if(n>h&&h+d>n&&(s=-c*e.anchor.y,o>s&&s+c>o))return!0}else if(e instanceof i.Graphics){var l=e.graphicsData;for(a=0;a<l.length;a++){var f=l[a];if(f.fill&&f.shape&&f.shape.contains(n,o))return!0}}var u=e.children.length;for(a=0;u>a;a++){var p=e.children[a],b=this.hitTest(p,t);if(b)return t.target=e,!0}return!1},i.InteractionManager.prototype.onTouchMove=function(e){this.dirty&&this.rebuildInteractiveGraph();var t,r=this.interactionDOMElement.getBoundingClientRect(),i=e.changedTouches,a=0;for(a=0;a<i.length;a++){var n=i[a];t=this.touches[n.identifier],t.originalEvent=e,t.global.x=(n.clientX-r.left)*(this.target.width/r.width)/this.resolution,t.global.y=(n.clientY-r.top)*(this.target.height/r.height)/this.resolution,!navigator.isCocoonJS||r.left||r.top||e.target.style.width||e.target.style.height||(t.global.x=n.clientX,t.global.y=n.clientY);for(var o=0;o<this.interactiveItems.length;o++){var s=this.interactiveItems[o];s.touchmove&&s.__touchData&&s.__touchData[n.identifier]&&s.touchmove(t)}}},i.InteractionManager.prototype.onTouchStart=function(e){this.dirty&&this.rebuildInteractiveGraph();var t=this.interactionDOMElement.getBoundingClientRect();i.AUTO_PREVENT_DEFAULT&&e.preventDefault();for(var r=e.changedTouches,a=0;a<r.length;a++){var n=r[a],o=this.pool.pop();o||(o=new i.InteractionData),o.originalEvent=e,this.touches[n.identifier]=o,o.global.x=(n.clientX-t.left)*(this.target.width/t.width)/this.resolution,o.global.y=(n.clientY-t.top)*(this.target.height/t.height)/this.resolution,!navigator.isCocoonJS||t.left||t.top||e.target.style.width||e.target.style.height||(o.global.x=n.clientX,o.global.y=n.clientY);for(var s=this.interactiveItems.length,d=0;s>d;d++){var c=this.interactiveItems[d];if((c.touchstart||c.tap)&&(c.__hit=this.hitTest(c,o),c.__hit&&(c.touchstart&&c.touchstart(o),c.__isDown=!0,c.__touchData=c.__touchData||{},c.__touchData[n.identifier]=o,!c.interactiveChildren)))break}}},i.InteractionManager.prototype.onTouchEnd=function(e){this.dirty&&this.rebuildInteractiveGraph();for(var t=this.interactionDOMElement.getBoundingClientRect(),r=e.changedTouches,i=0;i<r.length;i++){var a=r[i],n=this.touches[a.identifier],o=!1;n.global.x=(a.clientX-t.left)*(this.target.width/t.width)/this.resolution,n.global.y=(a.clientY-t.top)*(this.target.height/t.height)/this.resolution,!navigator.isCocoonJS||t.left||t.top||e.target.style.width||e.target.style.height||(n.global.x=a.clientX,n.global.y=a.clientY);for(var s=this.interactiveItems.length,d=0;s>d;d++){var c=this.interactiveItems[d];c.__touchData&&c.__touchData[a.identifier]&&(c.__hit=this.hitTest(c,c.__touchData[a.identifier]),n.originalEvent=e,(c.touchend||c.tap)&&(c.__hit&&!o?(c.touchend&&c.touchend(n),c.__isDown&&c.tap&&c.tap(n),c.interactiveChildren||(o=!0)):c.__isDown&&c.touchendoutside&&c.touchendoutside(n),c.__isDown=!1),c.__touchData[a.identifier]=null)}this.pool.push(n),this.touches[a.identifier]=null}},i.Stage=function(e){i.DisplayObjectContainer.call(this),this.worldTransform=new i.Matrix,this.interactive=!0,this.interactionManager=new i.InteractionManager(this),this.dirty=!0,this.stage=this,this.stage.hitArea=new i.Rectangle(0,0,1e5,1e5),this.setBackgroundColor(e)},i.Stage.prototype=Object.create(i.DisplayObjectContainer.prototype),i.Stage.prototype.constructor=i.Stage,i.Stage.prototype.setInteractionDelegate=function(e){this.interactionManager.setTargetDomElement(e)},i.Stage.prototype.updateTransform=function(){this.worldAlpha=1;for(var e=0,t=this.children.length;t>e;e++)this.children[e].updateTransform();this.dirty&&(this.dirty=!1,this.interactionManager.dirty=!0),this.interactive&&this.interactionManager.update()},i.Stage.prototype.setBackgroundColor=function(e){this.backgroundColor=e||0,this.backgroundColorSplit=i.hex2rgb(this.backgroundColor);var t=this.backgroundColor.toString(16);t="000000".substr(0,6-t.length)+t,this.backgroundColorString="#"+t},i.Stage.prototype.getMousePosition=function(){return this.interactionManager.mouse.global},function(e){for(var t=0,r=["ms","moz","webkit","o"],i=0;i<r.length&&!e.requestAnimationFrame;++i)e.requestAnimationFrame=e[r[i]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[r[i]+"CancelAnimationFrame"]||e[r[i]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(r){var i=(new Date).getTime(),a=Math.max(0,16-(i-t)),n=e.setTimeout(function(){r(i+a)},a);return t=i+a,n}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){clearTimeout(e)}),e.requestAnimFrame=e.requestAnimationFrame}(this),i.hex2rgb=function(e){return[(e>>16&255)/255,(e>>8&255)/255,(255&e)/255]},i.rgb2hex=function(e){return(255*e[0]<<16)+(255*e[1]<<8)+255*e[2]},"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(){return function(e){function t(){for(var i=arguments.length,n=new Array(i);i--;)n[i]=arguments[i];return n=a.concat(n),r.apply(this instanceof t?this:e,n)}var r=this,i=arguments.length-1,a=[];if(i>0)for(a.length=i;i--;)a[i]=arguments[i+1];if("function"!=typeof r)throw new TypeError;return t.prototype=function n(e){return e&&(n.prototype=e),this instanceof n?void 0:new n}(r.prototype),t}}()),i.AjaxRequest=function(){var e=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"];if(!window.ActiveXObject)return window.XMLHttpRequest?new window.XMLHttpRequest:!1;for(var t=0;t<e.length;t++)try{return new window.ActiveXObject(e[t])}catch(r){}},i.canUseNewCanvasBlendModes=function(){if("undefined"==typeof document)return!1;var e=document.createElement("canvas");e.width=1,e.height=1;var t=e.getContext("2d");return t.fillStyle="#000",t.fillRect(0,0,1,1),t.globalCompositeOperation="multiply",t.fillStyle="#fff",t.fillRect(0,0,1,1),0===t.getImageData(0,0,1,1).data[0]},i.getNextPowerOfTwo=function(e){if(e>0&&0===(e&e-1))return e;for(var t=1;e>t;)t<<=1;return t},i.isPowerOfTwo=function(e,t){return e>0&&0===(e&e-1)&&t>0&&0===(t&t-1)},i.EventTarget={call:function(e){e&&(e=e.prototype||e,i.EventTarget.mixin(e))},mixin:function(e){e.listeners=function(e){return this._listeners=this._listeners||{},this._listeners[e]?this._listeners[e].slice():[]},e.emit=e.dispatchEvent=function(e,t){if(this._listeners=this._listeners||{},"object"==typeof e&&(t=e,e=e.type),t&&t.__isEventObject===!0||(t=new i.Event(this,e,t)),this._listeners&&this._listeners[e]){var r,a=this._listeners[e].slice(0),n=a.length,o=a[0];for(r=0;n>r;o=a[++r])if(o.call(this,t),t.stoppedImmediate)return this;if(t.stopped)return this}return this.parent&&this.parent.emit&&this.parent.emit.call(this.parent,e,t),this},e.on=e.addEventListener=function(e,t){return this._listeners=this._listeners||{},(this._listeners[e]=this._listeners[e]||[]).push(t),this},e.once=function(e,t){function r(){t.apply(i.off(e,r),arguments)}this._listeners=this._listeners||{};var i=this;return r._originalHandler=t,this.on(e,r)},e.off=e.removeEventListener=function(e,t){if(this._listeners=this._listeners||{},!this._listeners[e])return this;for(var r=this._listeners[e],i=t?r.length:0;i-->0;)(r[i]===t||r[i]._originalHandler===t)&&r.splice(i,1);return 0===r.length&&delete this._listeners[e],this},e.removeAllListeners=function(e){return this._listeners=this._listeners||{},this._listeners[e]?(delete this._listeners[e],this):this}}},i.Event=function(e,t,r){this.__isEventObject=!0,this.stopped=!1,this.stoppedImmediate=!1,this.target=e,this.type=t,this.data=r,this.content=r,this.timeStamp=Date.now()},i.Event.prototype.stopPropagation=function(){this.stopped=!0},i.Event.prototype.stopImmediatePropagation=function(){this.stoppedImmediate=!0},i.autoDetectRenderer=function(e,t,r){e||(e=800),t||(t=600);var a=function(){try{var e=document.createElement("canvas");return!!window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl"))}catch(t){return!1}}();return a?new i.WebGLRenderer(e,t,r):new i.CanvasRenderer(e,t,r)},i.autoDetectRecommendedRenderer=function(e,t,r){e||(e=800),t||(t=600);var a=function(){try{var e=document.createElement("canvas");return!!window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl"))}catch(t){return!1}}(),n=/Android/i.test(navigator.userAgent);return a&&!n?new i.WebGLRenderer(e,t,r):new i.CanvasRenderer(e,t,r)},i.PolyK={},i.PolyK.Triangulate=function(e){var t=!0,r=e.length>>1;if(3>r)return[];for(var a=[],n=[],o=0;r>o;o++)n.push(o);o=0;for(var s=r;s>3;){var d=n[(o+0)%s],c=n[(o+1)%s],h=n[(o+2)%s],l=e[2*d],f=e[2*d+1],u=e[2*c],p=e[2*c+1],b=e[2*h],y=e[2*h+1],v=!1;if(i.PolyK._convex(l,f,u,p,b,y,t)){v=!0;for(var g=0;s>g;g++){var m=n[g];if(m!==d&&m!==c&&m!==h&&i.PolyK._PointInTriangle(e[2*m],e[2*m+1],l,f,u,p,b,y)){v=!1;break}}}if(v)a.push(d,c,h),n.splice((o+1)%s,1),s--,o=0;else if(o++>3*s){if(!t)return null;for(a=[],n=[],o=0;r>o;o++)n.push(o);o=0,s=r,t=!1}}return a.push(n[0],n[1],n[2]),a},i.PolyK._PointInTriangle=function(e,t,r,i,a,n,o,s){var d=o-r,c=s-i,h=a-r,l=n-i,f=e-r,u=t-i,p=d*d+c*c,b=d*h+c*l,y=d*f+c*u,v=h*h+l*l,g=h*f+l*u,m=1/(p*v-b*b),x=(v*y-b*g)*m,_=(p*g-b*y)*m;return x>=0&&_>=0&&1>x+_},i.PolyK._convex=function(e,t,r,i,a,n,o){return(t-i)*(a-r)+(r-e)*(n-i)>=0===o},i.initDefaultShaders=function(){},i.CompileVertexShader=function(e,t){return i._CompileShader(e,t,e.VERTEX_SHADER)},i.CompileFragmentShader=function(e,t){return i._CompileShader(e,t,e.FRAGMENT_SHADER)},i._CompileShader=function(e,t,r){var i=t.join("\n"),a=e.createShader(r);return e.shaderSource(a,i),e.compileShader(a),e.getShaderParameter(a,e.COMPILE_STATUS)?a:(window.console.log(e.getShaderInfoLog(a)),null)},i.compileProgram=function(e,t,r){var a=i.CompileFragmentShader(e,r),n=i.CompileVertexShader(e,t),o=e.createProgram();return e.attachShader(o,n),e.attachShader(o,a),e.linkProgram(o),e.getProgramParameter(o,e.LINK_STATUS)||window.console.log("Could not initialise shaders"),o},i.PixiShader=function(e){this._UID=i._UID++,this.gl=e,this.program=null,this.fragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"],this.textureCount=0,this.firstRun=!0,this.dirty=!0,this.attributes=[],this.init()},i.PixiShader.prototype.constructor=i.PixiShader,i.PixiShader.prototype.init=function(){var e=this.gl,t=i.compileProgram(e,this.vertexSrc||i.PixiShader.defaultVertexSrc,this.fragmentSrc);e.useProgram(t),this.uSampler=e.getUniformLocation(t,"uSampler"),this.projectionVector=e.getUniformLocation(t,"projectionVector"),this.offsetVector=e.getUniformLocation(t,"offsetVector"),this.dimensions=e.getUniformLocation(t,"dimensions"),this.aVertexPosition=e.getAttribLocation(t,"aVertexPosition"),this.aTextureCoord=e.getAttribLocation(t,"aTextureCoord"),this.colorAttribute=e.getAttribLocation(t,"aColor"),-1===this.colorAttribute&&(this.colorAttribute=2),this.attributes=[this.aVertexPosition,this.aTextureCoord,this.colorAttribute];for(var r in this.uniforms)this.uniforms[r].uniformLocation=e.getUniformLocation(t,r);this.initUniforms(),this.program=t},i.PixiShader.prototype.initUniforms=function(){this.textureCount=1;var e,t=this.gl;for(var r in this.uniforms){e=this.uniforms[r];var i=e.type;"sampler2D"===i?(e._init=!1,null!==e.value&&this.initSampler2D(e)):"mat2"===i||"mat3"===i||"mat4"===i?(e.glMatrix=!0,e.glValueLength=1,"mat2"===i?e.glFunc=t.uniformMatrix2fv:"mat3"===i?e.glFunc=t.uniformMatrix3fv:"mat4"===i&&(e.glFunc=t.uniformMatrix4fv)):(e.glFunc=t["uniform"+i],e.glValueLength="2f"===i||"2i"===i?2:"3f"===i||"3i"===i?3:"4f"===i||"4i"===i?4:1)}},i.PixiShader.prototype.initSampler2D=function(e){if(e.value&&e.value.baseTexture&&e.value.baseTexture.hasLoaded){var t=this.gl;if(t.activeTexture(t["TEXTURE"+this.textureCount]),t.bindTexture(t.TEXTURE_2D,e.value.baseTexture._glTextures[t.id]),e.textureData){var r=e.textureData,i=r.magFilter?r.magFilter:t.LINEAR,a=r.minFilter?r.minFilter:t.LINEAR,n=r.wrapS?r.wrapS:t.CLAMP_TO_EDGE,o=r.wrapT?r.wrapT:t.CLAMP_TO_EDGE,s=r.luminance?t.LUMINANCE:t.RGBA;if(r.repeat&&(n=t.REPEAT,o=t.REPEAT),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!!r.flipY),r.width){var d=r.width?r.width:512,c=r.height?r.height:2,h=r.border?r.border:0;t.texImage2D(t.TEXTURE_2D,0,s,d,c,h,s,t.UNSIGNED_BYTE,null)}else t.texImage2D(t.TEXTURE_2D,0,s,t.RGBA,t.UNSIGNED_BYTE,e.value.baseTexture.source);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,a),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,o)}t.uniform1i(e.uniformLocation,this.textureCount),e._init=!0,this.textureCount++}},i.PixiShader.prototype.syncUniforms=function(){this.textureCount=1;var e,t=this.gl;for(var r in this.uniforms)e=this.uniforms[r],1===e.glValueLength?e.glMatrix===!0?e.glFunc.call(t,e.uniformLocation,e.transpose,e.value):e.glFunc.call(t,e.uniformLocation,e.value):2===e.glValueLength?e.glFunc.call(t,e.uniformLocation,e.value.x,e.value.y):3===e.glValueLength?e.glFunc.call(t,e.uniformLocation,e.value.x,e.value.y,e.value.z):4===e.glValueLength?e.glFunc.call(t,e.uniformLocation,e.value.x,e.value.y,e.value.z,e.value.w):"sampler2D"===e.type&&(e._init?(t.activeTexture(t["TEXTURE"+this.textureCount]),e.value.baseTexture._dirty[t.id]?i.instances[t.id].updateTexture(e.value.baseTexture):t.bindTexture(t.TEXTURE_2D,e.value.baseTexture._glTextures[t.id]),t.uniform1i(e.uniformLocation,this.textureCount),this.textureCount++):this.initSampler2D(e))},i.PixiShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},i.PixiShader.defaultVertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","varying vec4 vColor;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   gl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"],i.PixiFastShader=function(e){this._UID=i._UID++,this.gl=e,this.program=null,this.fragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","attribute vec2 aTextureCoord;","attribute float aColor;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform mat3 uMatrix;","varying vec2 vTextureCoord;","varying float vColor;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   vec2 v;","   vec2 sv = aVertexPosition * aScale;","   v.x = (sv.x) * cos(aRotation) - (sv.y) * sin(aRotation);","   v.y = (sv.x) * sin(aRotation) + (sv.y) * cos(aRotation);","   v = ( uMatrix * vec3(v + aPositionCoord , 1.0) ).xy ;","   gl_Position = vec4( ( v / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"],this.textureCount=0,this.init()},i.PixiFastShader.prototype.constructor=i.PixiFastShader,i.PixiFastShader.prototype.init=function(){var e=this.gl,t=i.compileProgram(e,this.vertexSrc,this.fragmentSrc);e.useProgram(t),this.uSampler=e.getUniformLocation(t,"uSampler"),this.projectionVector=e.getUniformLocation(t,"projectionVector"),this.offsetVector=e.getUniformLocation(t,"offsetVector"),this.dimensions=e.getUniformLocation(t,"dimensions"),this.uMatrix=e.getUniformLocation(t,"uMatrix"),this.aVertexPosition=e.getAttribLocation(t,"aVertexPosition"),this.aPositionCoord=e.getAttribLocation(t,"aPositionCoord"),this.aScale=e.getAttribLocation(t,"aScale"),this.aRotation=e.getAttribLocation(t,"aRotation"),this.aTextureCoord=e.getAttribLocation(t,"aTextureCoord"),this.colorAttribute=e.getAttribLocation(t,"aColor"),-1===this.colorAttribute&&(this.colorAttribute=2),this.attributes=[this.aVertexPosition,this.aPositionCoord,this.aScale,this.aRotation,this.aTextureCoord,this.colorAttribute],this.program=t},i.PixiFastShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},i.StripShader=function(e){this._UID=i._UID++,this.gl=e,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","uniform float alpha;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * alpha;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","}"],this.init()},i.StripShader.prototype.constructor=i.StripShader,i.StripShader.prototype.init=function(){var e=this.gl,t=i.compileProgram(e,this.vertexSrc,this.fragmentSrc);e.useProgram(t),this.uSampler=e.getUniformLocation(t,"uSampler"),this.projectionVector=e.getUniformLocation(t,"projectionVector"),this.offsetVector=e.getUniformLocation(t,"offsetVector"),this.colorAttribute=e.getAttribLocation(t,"aColor"),this.aVertexPosition=e.getAttribLocation(t,"aVertexPosition"),this.aTextureCoord=e.getAttribLocation(t,"aTextureCoord"),this.attributes=[this.aVertexPosition,this.aTextureCoord],this.translationMatrix=e.getUniformLocation(t,"translationMatrix"),this.alpha=e.getUniformLocation(t,"alpha"),this.program=t},i.StripShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attribute=null},i.PrimitiveShader=function(e){this._UID=i._UID++,this.gl=e,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform float alpha;","uniform float flipY;","uniform vec3 tint;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, (v.y / projectionVector.y * -flipY) + flipY , 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"],this.init()},i.PrimitiveShader.prototype.constructor=i.PrimitiveShader,i.PrimitiveShader.prototype.init=function(){var e=this.gl,t=i.compileProgram(e,this.vertexSrc,this.fragmentSrc);e.useProgram(t),this.projectionVector=e.getUniformLocation(t,"projectionVector"),this.offsetVector=e.getUniformLocation(t,"offsetVector"),this.tintColor=e.getUniformLocation(t,"tint"),this.flipY=e.getUniformLocation(t,"flipY"),this.aVertexPosition=e.getAttribLocation(t,"aVertexPosition"),this.colorAttribute=e.getAttribLocation(t,"aColor"),this.attributes=[this.aVertexPosition,this.colorAttribute],this.translationMatrix=e.getUniformLocation(t,"translationMatrix"),this.alpha=e.getUniformLocation(t,"alpha"),this.program=t},i.PrimitiveShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},i.ComplexPrimitiveShader=function(e){this._UID=i._UID++,this.gl=e,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","uniform float flipY;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, (v.y / projectionVector.y * -flipY) + flipY , 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"],this.init()},i.ComplexPrimitiveShader.prototype.constructor=i.ComplexPrimitiveShader,i.ComplexPrimitiveShader.prototype.init=function(){var e=this.gl,t=i.compileProgram(e,this.vertexSrc,this.fragmentSrc);e.useProgram(t),this.projectionVector=e.getUniformLocation(t,"projectionVector"),this.offsetVector=e.getUniformLocation(t,"offsetVector"),this.tintColor=e.getUniformLocation(t,"tint"),this.color=e.getUniformLocation(t,"color"),this.flipY=e.getUniformLocation(t,"flipY"),this.aVertexPosition=e.getAttribLocation(t,"aVertexPosition"),this.attributes=[this.aVertexPosition,this.colorAttribute],this.translationMatrix=e.getUniformLocation(t,"translationMatrix"),this.alpha=e.getUniformLocation(t,"alpha"),this.program=t},i.ComplexPrimitiveShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attribute=null},i.WebGLGraphics=function(){},i.WebGLGraphics.renderGraphics=function(e,t){var r,a=t.gl,n=t.projection,o=t.offset,s=t.shaderManager.primitiveShader;e.dirty&&i.WebGLGraphics.updateGraphics(e,a);for(var d=e._webGL[a.id],c=0;c<d.data.length;c++)1===d.data[c].mode?(r=d.data[c],t.stencilManager.pushStencil(e,r,t),a.drawElements(a.TRIANGLE_FAN,4,a.UNSIGNED_SHORT,2*(r.indices.length-4)),t.stencilManager.popStencil(e,r,t)):(r=d.data[c],t.shaderManager.setShader(s),s=t.shaderManager.primitiveShader,a.uniformMatrix3fv(s.translationMatrix,!1,e.worldTransform.toArray(!0)),a.uniform1f(s.flipY,1),a.uniform2f(s.projectionVector,n.x,-n.y),a.uniform2f(s.offsetVector,-o.x,-o.y),a.uniform3fv(s.tintColor,i.hex2rgb(e.tint)),a.uniform1f(s.alpha,e.worldAlpha),a.bindBuffer(a.ARRAY_BUFFER,r.buffer),a.vertexAttribPointer(s.aVertexPosition,2,a.FLOAT,!1,24,0),a.vertexAttribPointer(s.colorAttribute,4,a.FLOAT,!1,24,8),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,r.indexBuffer),a.drawElements(a.TRIANGLE_STRIP,r.indices.length,a.UNSIGNED_SHORT,0))},i.WebGLGraphics.updateGraphics=function(e,t){var r=e._webGL[t.id];r||(r=e._webGL[t.id]={lastIndex:0,data:[],gl:t}),e.dirty=!1;var a;if(e.clearDirty){for(e.clearDirty=!1,a=0;a<r.data.length;a++){var n=r.data[a];n.reset(),i.WebGLGraphics.graphicsDataPool.push(n)}r.data=[],r.lastIndex=0}var o;for(a=r.lastIndex;a<e.graphicsData.length;a++){var s=e.graphicsData[a];if(s.type===i.Graphics.POLY){if(s.points=s.shape.points.slice(),s.shape.closed&&(s.points[0]!==s.points[s.points.length-2]||s.points[1]!==s.points[s.points.length-1])&&s.points.push(s.points[0],s.points[1]),s.fill&&s.points.length>=6)if(s.points.length<12){o=i.WebGLGraphics.switchMode(r,0);var d=i.WebGLGraphics.buildPoly(s,o);d||(o=i.WebGLGraphics.switchMode(r,1),i.WebGLGraphics.buildComplexPoly(s,o))}else o=i.WebGLGraphics.switchMode(r,1),i.WebGLGraphics.buildComplexPoly(s,o);s.lineWidth>0&&(o=i.WebGLGraphics.switchMode(r,0),i.WebGLGraphics.buildLine(s,o))}else o=i.WebGLGraphics.switchMode(r,0),s.type===i.Graphics.RECT?i.WebGLGraphics.buildRectangle(s,o):s.type===i.Graphics.CIRC||s.type===i.Graphics.ELIP?i.WebGLGraphics.buildCircle(s,o):s.type===i.Graphics.RREC&&i.WebGLGraphics.buildRoundedRectangle(s,o);r.lastIndex++}for(a=0;a<r.data.length;a++)o=r.data[a],o.dirty&&o.upload()},i.WebGLGraphics.switchMode=function(e,t){var r;return e.data.length?(r=e.data[e.data.length-1],(r.mode!==t||1===t)&&(r=i.WebGLGraphics.graphicsDataPool.pop()||new i.WebGLGraphicsData(e.gl),r.mode=t,e.data.push(r))):(r=i.WebGLGraphics.graphicsDataPool.pop()||new i.WebGLGraphicsData(e.gl),r.mode=t,e.data.push(r)),r.dirty=!0,r},i.WebGLGraphics.buildRectangle=function(e,t){var r=e.shape,a=r.x,n=r.y,o=r.width,s=r.height;if(e.fill){var d=i.hex2rgb(e.fillColor),c=e.fillAlpha,h=d[0]*c,l=d[1]*c,f=d[2]*c,u=t.points,p=t.indices,b=u.length/6;u.push(a,n),u.push(h,l,f,c),u.push(a+o,n),u.push(h,l,f,c),u.push(a,n+s),u.push(h,l,f,c),u.push(a+o,n+s),u.push(h,l,f,c),p.push(b,b,b+1,b+2,b+3,b+3)}if(e.lineWidth){var y=e.points;e.points=[a,n,a+o,n,a+o,n+s,a,n+s,a,n],i.WebGLGraphics.buildLine(e,t),e.points=y}},i.WebGLGraphics.buildRoundedRectangle=function(e,t){var r=e.shape,a=r.x,n=r.y,o=r.width,s=r.height,d=r.radius,c=[];if(c.push(a,n+d),c=c.concat(i.WebGLGraphics.quadraticBezierCurve(a,n+s-d,a,n+s,a+d,n+s)),c=c.concat(i.WebGLGraphics.quadraticBezierCurve(a+o-d,n+s,a+o,n+s,a+o,n+s-d)),c=c.concat(i.WebGLGraphics.quadraticBezierCurve(a+o,n+d,a+o,n,a+o-d,n)),c=c.concat(i.WebGLGraphics.quadraticBezierCurve(a+d,n,a,n,a,n+d)),e.fill){var h=i.hex2rgb(e.fillColor),l=e.fillAlpha,f=h[0]*l,u=h[1]*l,p=h[2]*l,b=t.points,y=t.indices,v=b.length/6,g=i.PolyK.Triangulate(c),m=0;
for(m=0;m<g.length;m+=3)y.push(g[m]+v),y.push(g[m]+v),y.push(g[m+1]+v),y.push(g[m+2]+v),y.push(g[m+2]+v);for(m=0;m<c.length;m++)b.push(c[m],c[++m],f,u,p,l)}if(e.lineWidth){var x=e.points;e.points=c,i.WebGLGraphics.buildLine(e,t),e.points=x}},i.WebGLGraphics.quadraticBezierCurve=function(e,t,r,i,a,n){function o(e,t,r){var i=t-e;return e+i*r}for(var s,d,c,h,l,f,u=20,p=[],b=0,y=0;u>=y;y++)b=y/u,s=o(e,r,b),d=o(t,i,b),c=o(r,a,b),h=o(i,n,b),l=o(s,c,b),f=o(d,h,b),p.push(l,f);return p},i.WebGLGraphics.buildCircle=function(e,t){var r,a,n=e.shape,o=n.x,s=n.y;e.type===i.Graphics.CIRC?(r=n.radius,a=n.radius):(r=n.width,a=n.height);var d=40,c=2*Math.PI/d,h=0;if(e.fill){var l=i.hex2rgb(e.fillColor),f=e.fillAlpha,u=l[0]*f,p=l[1]*f,b=l[2]*f,y=t.points,v=t.indices,g=y.length/6;for(v.push(g),h=0;d+1>h;h++)y.push(o,s,u,p,b,f),y.push(o+Math.sin(c*h)*r,s+Math.cos(c*h)*a,u,p,b,f),v.push(g++,g++);v.push(g-1)}if(e.lineWidth){var m=e.points;for(e.points=[],h=0;d+1>h;h++)e.points.push(o+Math.sin(c*h)*r,s+Math.cos(c*h)*a);i.WebGLGraphics.buildLine(e,t),e.points=m}},i.WebGLGraphics.buildLine=function(e,t){var r=0,a=e.points;if(0!==a.length){if(e.lineWidth%2)for(r=0;r<a.length;r++)a[r]+=.5;var n=new i.Point(a[0],a[1]),o=new i.Point(a[a.length-2],a[a.length-1]);if(n.x===o.x&&n.y===o.y){a=a.slice(),a.pop(),a.pop(),o=new i.Point(a[a.length-2],a[a.length-1]);var s=o.x+.5*(n.x-o.x),d=o.y+.5*(n.y-o.y);a.unshift(s,d),a.push(s,d)}var c,h,l,f,u,p,b,y,v,g,m,x,_,w,T,S,A,C,E,M,R,$,B,L=t.points,I=t.indices,j=a.length/2,F=a.length,P=L.length/6,k=e.lineWidth/2,D=i.hex2rgb(e.lineColor),O=e.lineAlpha,N=D[0]*O,U=D[1]*O,G=D[2]*O;for(l=a[0],f=a[1],u=a[2],p=a[3],v=-(f-p),g=l-u,B=Math.sqrt(v*v+g*g),v/=B,g/=B,v*=k,g*=k,L.push(l-v,f-g,N,U,G,O),L.push(l+v,f+g,N,U,G,O),r=1;j-1>r;r++)l=a[2*(r-1)],f=a[2*(r-1)+1],u=a[2*r],p=a[2*r+1],b=a[2*(r+1)],y=a[2*(r+1)+1],v=-(f-p),g=l-u,B=Math.sqrt(v*v+g*g),v/=B,g/=B,v*=k,g*=k,m=-(p-y),x=u-b,B=Math.sqrt(m*m+x*x),m/=B,x/=B,m*=k,x*=k,T=-g+f-(-g+p),S=-v+u-(-v+l),A=(-v+l)*(-g+p)-(-v+u)*(-g+f),C=-x+y-(-x+p),E=-m+u-(-m+b),M=(-m+b)*(-x+p)-(-m+u)*(-x+y),R=T*E-C*S,Math.abs(R)<.1?(R+=10.1,L.push(u-v,p-g,N,U,G,O),L.push(u+v,p+g,N,U,G,O)):(c=(S*M-E*A)/R,h=(C*A-T*M)/R,$=(c-u)*(c-u)+(h-p)+(h-p),$>19600?(_=v-m,w=g-x,B=Math.sqrt(_*_+w*w),_/=B,w/=B,_*=k,w*=k,L.push(u-_,p-w),L.push(N,U,G,O),L.push(u+_,p+w),L.push(N,U,G,O),L.push(u-_,p-w),L.push(N,U,G,O),F++):(L.push(c,h),L.push(N,U,G,O),L.push(u-(c-u),p-(h-p)),L.push(N,U,G,O)));for(l=a[2*(j-2)],f=a[2*(j-2)+1],u=a[2*(j-1)],p=a[2*(j-1)+1],v=-(f-p),g=l-u,B=Math.sqrt(v*v+g*g),v/=B,g/=B,v*=k,g*=k,L.push(u-v,p-g),L.push(N,U,G,O),L.push(u+v,p+g),L.push(N,U,G,O),I.push(P),r=0;F>r;r++)I.push(P++);I.push(P-1)}},i.WebGLGraphics.buildComplexPoly=function(e,t){var r=e.points.slice();if(!(r.length<6)){var a=t.indices;t.points=r,t.alpha=e.fillAlpha,t.color=i.hex2rgb(e.fillColor);for(var n,o,s=1/0,d=-1/0,c=1/0,h=-1/0,l=0;l<r.length;l+=2)n=r[l],o=r[l+1],s=s>n?n:s,d=n>d?n:d,c=c>o?o:c,h=o>h?o:h;r.push(s,c,d,c,d,h,s,h);var f=r.length/2;for(l=0;f>l;l++)a.push(l)}},i.WebGLGraphics.buildPoly=function(e,t){var r=e.points;if(!(r.length<6)){var a=t.points,n=t.indices,o=r.length/2,s=i.hex2rgb(e.fillColor),d=e.fillAlpha,c=s[0]*d,h=s[1]*d,l=s[2]*d,f=i.PolyK.Triangulate(r);if(!f)return!1;var u=a.length/6,p=0;for(p=0;p<f.length;p+=3)n.push(f[p]+u),n.push(f[p]+u),n.push(f[p+1]+u),n.push(f[p+2]+u),n.push(f[p+2]+u);for(p=0;o>p;p++)a.push(r[2*p],r[2*p+1],c,h,l,d);return!0}},i.WebGLGraphics.graphicsDataPool=[],i.WebGLGraphicsData=function(e){this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),this.mode=1,this.alpha=1,this.dirty=!0},i.WebGLGraphicsData.prototype.reset=function(){this.points=[],this.indices=[]},i.WebGLGraphicsData.prototype.upload=function(){var e=this.gl;this.glPoints=new i.Float32Array(this.points),e.bindBuffer(e.ARRAY_BUFFER,this.buffer),e.bufferData(e.ARRAY_BUFFER,this.glPoints,e.STATIC_DRAW),this.glIndicies=new i.Uint16Array(this.indices),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.glIndicies,e.STATIC_DRAW),this.dirty=!1},i.glContexts=[],i.instances=[],i.WebGLRenderer=function(e,t,r){if(r)for(var a in i.defaultRenderOptions)"undefined"==typeof r[a]&&(r[a]=i.defaultRenderOptions[a]);else r=i.defaultRenderOptions;i.defaultRenderer||(i.sayHello("webGL"),i.defaultRenderer=this),this.type=i.WEBGL_RENDERER,this.resolution=r.resolution,this.transparent=r.transparent,this.autoResize=r.autoResize||!1,this.preserveDrawingBuffer=r.preserveDrawingBuffer,this.clearBeforeRender=r.clearBeforeRender,this.width=e||800,this.height=t||600,this.view=r.view||document.createElement("canvas"),this.contextLostBound=this.handleContextLost.bind(this),this.contextRestoredBound=this.handleContextRestored.bind(this),this.view.addEventListener("webglcontextlost",this.contextLostBound,!1),this.view.addEventListener("webglcontextrestored",this.contextRestoredBound,!1),this._contextOptions={alpha:this.transparent,antialias:r.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer},this.projection=new i.Point,this.offset=new i.Point(0,0),this.shaderManager=new i.WebGLShaderManager,this.spriteBatch=new i.WebGLSpriteBatch,this.maskManager=new i.WebGLMaskManager,this.filterManager=new i.WebGLFilterManager,this.stencilManager=new i.WebGLStencilManager,this.blendModeManager=new i.WebGLBlendModeManager,this.renderSession={},this.renderSession.gl=this.gl,this.renderSession.drawCount=0,this.renderSession.shaderManager=this.shaderManager,this.renderSession.maskManager=this.maskManager,this.renderSession.filterManager=this.filterManager,this.renderSession.blendModeManager=this.blendModeManager,this.renderSession.spriteBatch=this.spriteBatch,this.renderSession.stencilManager=this.stencilManager,this.renderSession.renderer=this,this.renderSession.resolution=this.resolution,this.initContext(),this.mapBlendModes()},i.WebGLRenderer.prototype.constructor=i.WebGLRenderer,i.WebGLRenderer.prototype.initContext=function(){var e=this.view.getContext("webgl",this._contextOptions)||this.view.getContext("experimental-webgl",this._contextOptions);if(this.gl=e,!e)throw new Error("This browser does not support webGL. Try using the canvas renderer");this.glContextId=e.id=i.WebGLRenderer.glContextId++,i.glContexts[this.glContextId]=e,i.instances[this.glContextId]=this,e.disable(e.DEPTH_TEST),e.disable(e.CULL_FACE),e.enable(e.BLEND),this.shaderManager.setContext(e),this.spriteBatch.setContext(e),this.maskManager.setContext(e),this.filterManager.setContext(e),this.blendModeManager.setContext(e),this.stencilManager.setContext(e),this.renderSession.gl=this.gl,this.resize(this.width,this.height)},i.WebGLRenderer.prototype.render=function(e){if(!this.contextLost){this.__stage!==e&&(e.interactive&&e.interactionManager.removeEvents(),this.__stage=e),e.updateTransform();var t=this.gl;e._interactive?e._interactiveEventsAdded||(e._interactiveEventsAdded=!0,e.interactionManager.setTarget(this)):e._interactiveEventsAdded&&(e._interactiveEventsAdded=!1,e.interactionManager.setTarget(this)),t.viewport(0,0,this.width,this.height),t.bindFramebuffer(t.FRAMEBUFFER,null),this.clearBeforeRender&&(this.transparent?t.clearColor(0,0,0,0):t.clearColor(e.backgroundColorSplit[0],e.backgroundColorSplit[1],e.backgroundColorSplit[2],1),t.clear(t.COLOR_BUFFER_BIT)),this.renderDisplayObject(e,this.projection)}},i.WebGLRenderer.prototype.renderDisplayObject=function(e,t,r){this.renderSession.blendModeManager.setBlendMode(i.blendModes.NORMAL),this.renderSession.drawCount=0,this.renderSession.flipY=r?-1:1,this.renderSession.projection=t,this.renderSession.offset=this.offset,this.spriteBatch.begin(this.renderSession),this.filterManager.begin(this.renderSession,r),e._renderWebGL(this.renderSession),this.spriteBatch.end()},i.WebGLRenderer.prototype.resize=function(e,t){this.width=e*this.resolution,this.height=t*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px"),this.gl.viewport(0,0,this.width,this.height),this.projection.x=this.width/2/this.resolution,this.projection.y=-this.height/2/this.resolution},i.WebGLRenderer.prototype.updateTexture=function(e){if(e.hasLoaded){var t=this.gl;return e._glTextures[t.id]||(e._glTextures[t.id]=t.createTexture()),t.bindTexture(t.TEXTURE_2D,e._glTextures[t.id]),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultipliedAlpha),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e.source),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e.scaleMode===i.scaleModes.LINEAR?t.LINEAR:t.NEAREST),e.mipmap&&i.isPowerOfTwo(e.width,e.height)?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e.scaleMode===i.scaleModes.LINEAR?t.LINEAR_MIPMAP_LINEAR:t.NEAREST_MIPMAP_NEAREST),t.generateMipmap(t.TEXTURE_2D)):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e.scaleMode===i.scaleModes.LINEAR?t.LINEAR:t.NEAREST),e._powerOf2?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),e._dirty[t.id]=!1,e._glTextures[t.id]}},i.WebGLRenderer.prototype.handleContextLost=function(e){e.preventDefault(),this.contextLost=!0},i.WebGLRenderer.prototype.handleContextRestored=function(){this.initContext();for(var e in i.TextureCache){var t=i.TextureCache[e].baseTexture;t._glTextures=[]}this.contextLost=!1},i.WebGLRenderer.prototype.destroy=function(){this.view.removeEventListener("webglcontextlost",this.contextLostBound),this.view.removeEventListener("webglcontextrestored",this.contextRestoredBound),i.glContexts[this.glContextId]=null,this.projection=null,this.offset=null,this.shaderManager.destroy(),this.spriteBatch.destroy(),this.maskManager.destroy(),this.filterManager.destroy(),this.shaderManager=null,this.spriteBatch=null,this.maskManager=null,this.filterManager=null,this.gl=null,this.renderSession=null},i.WebGLRenderer.prototype.mapBlendModes=function(){var e=this.gl;i.blendModesWebGL||(i.blendModesWebGL=[],i.blendModesWebGL[i.blendModes.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.ADD]=[e.SRC_ALPHA,e.DST_ALPHA],i.blendModesWebGL[i.blendModes.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.SCREEN]=[e.SRC_ALPHA,e.ONE],i.blendModesWebGL[i.blendModes.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL[i.blendModes.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA])},i.WebGLRenderer.glContextId=0,i.WebGLBlendModeManager=function(){this.currentBlendMode=99999},i.WebGLBlendModeManager.prototype.constructor=i.WebGLBlendModeManager,i.WebGLBlendModeManager.prototype.setContext=function(e){this.gl=e},i.WebGLBlendModeManager.prototype.setBlendMode=function(e){if(this.currentBlendMode===e)return!1;this.currentBlendMode=e;var t=i.blendModesWebGL[this.currentBlendMode];return this.gl.blendFunc(t[0],t[1]),!0},i.WebGLBlendModeManager.prototype.destroy=function(){this.gl=null},i.WebGLMaskManager=function(){},i.WebGLMaskManager.prototype.constructor=i.WebGLMaskManager,i.WebGLMaskManager.prototype.setContext=function(e){this.gl=e},i.WebGLMaskManager.prototype.pushMask=function(e,t){var r=t.gl;e.dirty&&i.WebGLGraphics.updateGraphics(e,r),e._webGL[r.id].data.length&&t.stencilManager.pushStencil(e,e._webGL[r.id].data[0],t)},i.WebGLMaskManager.prototype.popMask=function(e,t){var r=this.gl;t.stencilManager.popStencil(e,e._webGL[r.id].data[0],t)},i.WebGLMaskManager.prototype.destroy=function(){this.gl=null},i.WebGLStencilManager=function(){this.stencilStack=[],this.reverse=!0,this.count=0},i.WebGLStencilManager.prototype.setContext=function(e){this.gl=e},i.WebGLStencilManager.prototype.pushStencil=function(e,t,r){var i=this.gl;this.bindGraphics(e,t,r),0===this.stencilStack.length&&(i.enable(i.STENCIL_TEST),i.clear(i.STENCIL_BUFFER_BIT),this.reverse=!0,this.count=0),this.stencilStack.push(t);var a=this.count;i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.ALWAYS,0,255),i.stencilOp(i.KEEP,i.KEEP,i.INVERT),1===t.mode?(i.drawElements(i.TRIANGLE_FAN,t.indices.length-4,i.UNSIGNED_SHORT,0),this.reverse?(i.stencilFunc(i.EQUAL,255-a,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)):(i.stencilFunc(i.EQUAL,a,255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)),i.drawElements(i.TRIANGLE_FAN,4,i.UNSIGNED_SHORT,2*(t.indices.length-4)),this.reverse?i.stencilFunc(i.EQUAL,255-(a+1),255):i.stencilFunc(i.EQUAL,a+1,255),this.reverse=!this.reverse):(this.reverse?(i.stencilFunc(i.EQUAL,a,255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)):(i.stencilFunc(i.EQUAL,255-a,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)),i.drawElements(i.TRIANGLE_STRIP,t.indices.length,i.UNSIGNED_SHORT,0),this.reverse?i.stencilFunc(i.EQUAL,a+1,255):i.stencilFunc(i.EQUAL,255-(a+1),255)),i.colorMask(!0,!0,!0,!0),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),this.count++},i.WebGLStencilManager.prototype.bindGraphics=function(e,t,r){this._currentGraphics=e;var a,n=this.gl,o=r.projection,s=r.offset;1===t.mode?(a=r.shaderManager.complexPrimitiveShader,r.shaderManager.setShader(a),n.uniform1f(a.flipY,r.flipY),n.uniformMatrix3fv(a.translationMatrix,!1,e.worldTransform.toArray(!0)),n.uniform2f(a.projectionVector,o.x,-o.y),n.uniform2f(a.offsetVector,-s.x,-s.y),n.uniform3fv(a.tintColor,i.hex2rgb(e.tint)),n.uniform3fv(a.color,t.color),n.uniform1f(a.alpha,e.worldAlpha*t.alpha),n.bindBuffer(n.ARRAY_BUFFER,t.buffer),n.vertexAttribPointer(a.aVertexPosition,2,n.FLOAT,!1,8,0),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.indexBuffer)):(a=r.shaderManager.primitiveShader,r.shaderManager.setShader(a),n.uniformMatrix3fv(a.translationMatrix,!1,e.worldTransform.toArray(!0)),n.uniform1f(a.flipY,r.flipY),n.uniform2f(a.projectionVector,o.x,-o.y),n.uniform2f(a.offsetVector,-s.x,-s.y),n.uniform3fv(a.tintColor,i.hex2rgb(e.tint)),n.uniform1f(a.alpha,e.worldAlpha),n.bindBuffer(n.ARRAY_BUFFER,t.buffer),n.vertexAttribPointer(a.aVertexPosition,2,n.FLOAT,!1,24,0),n.vertexAttribPointer(a.colorAttribute,4,n.FLOAT,!1,24,8),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.indexBuffer))},i.WebGLStencilManager.prototype.popStencil=function(e,t,r){var i=this.gl;if(this.stencilStack.pop(),this.count--,0===this.stencilStack.length)i.disable(i.STENCIL_TEST);else{var a=this.count;this.bindGraphics(e,t,r),i.colorMask(!1,!1,!1,!1),1===t.mode?(this.reverse=!this.reverse,this.reverse?(i.stencilFunc(i.EQUAL,255-(a+1),255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)):(i.stencilFunc(i.EQUAL,a+1,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)),i.drawElements(i.TRIANGLE_FAN,4,i.UNSIGNED_SHORT,2*(t.indices.length-4)),i.stencilFunc(i.ALWAYS,0,255),i.stencilOp(i.KEEP,i.KEEP,i.INVERT),i.drawElements(i.TRIANGLE_FAN,t.indices.length-4,i.UNSIGNED_SHORT,0),this.reverse?i.stencilFunc(i.EQUAL,a,255):i.stencilFunc(i.EQUAL,255-a,255)):(this.reverse?(i.stencilFunc(i.EQUAL,a+1,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)):(i.stencilFunc(i.EQUAL,255-(a+1),255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)),i.drawElements(i.TRIANGLE_STRIP,t.indices.length,i.UNSIGNED_SHORT,0),this.reverse?i.stencilFunc(i.EQUAL,a,255):i.stencilFunc(i.EQUAL,255-a,255)),i.colorMask(!0,!0,!0,!0),i.stencilOp(i.KEEP,i.KEEP,i.KEEP)}},i.WebGLStencilManager.prototype.destroy=function(){this.stencilStack=null,this.gl=null},i.WebGLShaderManager=function(){this.maxAttibs=10,this.attribState=[],this.tempAttribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.stack=[]},i.WebGLShaderManager.prototype.constructor=i.WebGLShaderManager,i.WebGLShaderManager.prototype.setContext=function(e){this.gl=e,this.primitiveShader=new i.PrimitiveShader(e),this.complexPrimitiveShader=new i.ComplexPrimitiveShader(e),this.defaultShader=new i.PixiShader(e),this.fastShader=new i.PixiFastShader(e),this.stripShader=new i.StripShader(e),this.setShader(this.defaultShader)},i.WebGLShaderManager.prototype.setAttribs=function(e){var t;for(t=0;t<this.tempAttribState.length;t++)this.tempAttribState[t]=!1;for(t=0;t<e.length;t++){var r=e[t];this.tempAttribState[r]=!0}var i=this.gl;for(t=0;t<this.attribState.length;t++)this.attribState[t]!==this.tempAttribState[t]&&(this.attribState[t]=this.tempAttribState[t],this.tempAttribState[t]?i.enableVertexAttribArray(t):i.disableVertexAttribArray(t))},i.WebGLShaderManager.prototype.setShader=function(e){return this._currentId===e._UID?!1:(this._currentId=e._UID,this.currentShader=e,this.gl.useProgram(e.program),this.setAttribs(e.attributes),!0)},i.WebGLShaderManager.prototype.destroy=function(){this.attribState=null,this.tempAttribState=null,this.primitiveShader.destroy(),this.complexPrimitiveShader.destroy(),this.defaultShader.destroy(),this.fastShader.destroy(),this.stripShader.destroy(),this.gl=null},i.WebGLSpriteBatch=function(){this.vertSize=5,this.size=2e3;var e=4*this.size*4*this.vertSize,t=6*this.size;this.vertices=new i.ArrayBuffer(e),this.positions=new i.Float32Array(this.vertices),this.colors=new i.Uint32Array(this.vertices),this.indices=new i.Uint16Array(t),this.lastIndexCount=0;for(var r=0,a=0;t>r;r+=6,a+=4)this.indices[r+0]=a+0,this.indices[r+1]=a+1,this.indices[r+2]=a+2,this.indices[r+3]=a+0,this.indices[r+4]=a+2,this.indices[r+5]=a+3;this.drawing=!1,this.currentBatchSize=0,this.currentBaseTexture=null,this.dirty=!0,this.textures=[],this.blendModes=[],this.shaders=[],this.sprites=[],this.defaultShader=new i.AbstractFilter(["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"])},i.WebGLSpriteBatch.prototype.setContext=function(e){this.gl=e,this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices,e.DYNAMIC_DRAW),this.currentBlendMode=99999;var t=new i.PixiShader(e);t.fragmentSrc=this.defaultShader.fragmentSrc,t.uniforms={},t.init(),this.defaultShader.shaders[e.id]=t},i.WebGLSpriteBatch.prototype.begin=function(e){this.renderSession=e,this.shader=this.renderSession.shaderManager.defaultShader,this.start()},i.WebGLSpriteBatch.prototype.end=function(){this.flush()},i.WebGLSpriteBatch.prototype.render=function(e){var t=e.texture;this.currentBatchSize>=this.size&&(this.flush(),this.currentBaseTexture=t.baseTexture);var r=t._uvs;if(r){var i,a,n,o,s=e.anchor.x,d=e.anchor.y;if(t.trim){var c=t.trim;a=c.x-s*c.width,i=a+t.crop.width,o=c.y-d*c.height,n=o+t.crop.height}else i=t.frame.width*(1-s),a=t.frame.width*-s,n=t.frame.height*(1-d),o=t.frame.height*-d;var h=4*this.currentBatchSize*this.vertSize,l=t.baseTexture.resolution,f=e.worldTransform,u=f.a/l,p=f.b/l,b=f.c/l,y=f.d/l,v=f.tx,g=f.ty,m=this.colors,x=this.positions;this.renderSession.roundPixels?(x[h]=u*a+b*o+v|0,x[h+1]=y*o+p*a+g|0,x[h+5]=u*i+b*o+v|0,x[h+6]=y*o+p*i+g|0,x[h+10]=u*i+b*n+v|0,x[h+11]=y*n+p*i+g|0,x[h+15]=u*a+b*n+v|0,x[h+16]=y*n+p*a+g|0):(x[h]=u*a+b*o+v,x[h+1]=y*o+p*a+g,x[h+5]=u*i+b*o+v,x[h+6]=y*o+p*i+g,x[h+10]=u*i+b*n+v,x[h+11]=y*n+p*i+g,x[h+15]=u*a+b*n+v,x[h+16]=y*n+p*a+g),x[h+2]=r.x0,x[h+3]=r.y0,x[h+7]=r.x1,x[h+8]=r.y1,x[h+12]=r.x2,x[h+13]=r.y2,x[h+17]=r.x3,x[h+18]=r.y3;var _=e.tint;m[h+4]=m[h+9]=m[h+14]=m[h+19]=(_>>16)+(65280&_)+((255&_)<<16)+(255*e.worldAlpha<<24),this.sprites[this.currentBatchSize++]=e}},i.WebGLSpriteBatch.prototype.renderTilingSprite=function(e){var t=e.tilingTexture;this.currentBatchSize>=this.size&&(this.flush(),this.currentBaseTexture=t.baseTexture),e._uvs||(e._uvs=new i.TextureUvs);var r=e._uvs;e.tilePosition.x%=t.baseTexture.width*e.tileScaleOffset.x,e.tilePosition.y%=t.baseTexture.height*e.tileScaleOffset.y;var a=e.tilePosition.x/(t.baseTexture.width*e.tileScaleOffset.x),n=e.tilePosition.y/(t.baseTexture.height*e.tileScaleOffset.y),o=e.width/t.baseTexture.width/(e.tileScale.x*e.tileScaleOffset.x),s=e.height/t.baseTexture.height/(e.tileScale.y*e.tileScaleOffset.y);r.x0=0-a,r.y0=0-n,r.x1=1*o-a,r.y1=0-n,r.x2=1*o-a,r.y2=1*s-n,r.x3=0-a,r.y3=1*s-n;var d=e.tint,c=(d>>16)+(65280&d)+((255&d)<<16)+(255*e.alpha<<24),h=this.positions,l=this.colors,f=e.width,u=e.height,p=e.anchor.x,b=e.anchor.y,y=f*(1-p),v=f*-p,g=u*(1-b),m=u*-b,x=4*this.currentBatchSize*this.vertSize,_=t.baseTexture.resolution,w=e.worldTransform,T=w.a/_,S=w.b/_,A=w.c/_,C=w.d/_,E=w.tx,M=w.ty;h[x++]=T*v+A*m+E,h[x++]=C*m+S*v+M,h[x++]=r.x0,h[x++]=r.y0,l[x++]=c,h[x++]=T*y+A*m+E,h[x++]=C*m+S*y+M,h[x++]=r.x1,h[x++]=r.y1,l[x++]=c,h[x++]=T*y+A*g+E,h[x++]=C*g+S*y+M,h[x++]=r.x2,h[x++]=r.y2,l[x++]=c,h[x++]=T*v+A*g+E,h[x++]=C*g+S*v+M,h[x++]=r.x3,h[x++]=r.y3,l[x++]=c,this.sprites[this.currentBatchSize++]=e},i.WebGLSpriteBatch.prototype.flush=function(){if(0!==this.currentBatchSize){var e,t=this.gl;if(this.dirty){this.dirty=!1,t.activeTexture(t.TEXTURE0),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e=this.defaultShader.shaders[t.id];var r=4*this.vertSize;t.vertexAttribPointer(e.aVertexPosition,2,t.FLOAT,!1,r,0),t.vertexAttribPointer(e.aTextureCoord,2,t.FLOAT,!1,r,8),t.vertexAttribPointer(e.colorAttribute,4,t.UNSIGNED_BYTE,!0,r,16)}if(this.currentBatchSize>.5*this.size)t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices);else{var a=this.positions.subarray(0,4*this.currentBatchSize*this.vertSize);t.bufferSubData(t.ARRAY_BUFFER,0,a)}for(var n,o,s,d,c=0,h=0,l=null,f=this.renderSession.blendModeManager.currentBlendMode,u=null,p=!1,b=!1,y=0,v=this.currentBatchSize;v>y;y++){if(d=this.sprites[y],n=d.texture.baseTexture,o=d.blendMode,s=d.shader||this.defaultShader,p=f!==o,b=u!==s,(l!==n||p||b)&&(this.renderBatch(l,c,h),h=y,c=0,l=n,p&&(f=o,this.renderSession.blendModeManager.setBlendMode(f)),b)){u=s,e=u.shaders[t.id],e||(e=new i.PixiShader(t),e.fragmentSrc=u.fragmentSrc,e.uniforms=u.uniforms,e.init(),u.shaders[t.id]=e),this.renderSession.shaderManager.setShader(e),e.dirty&&e.syncUniforms();var g=this.renderSession.projection;t.uniform2f(e.projectionVector,g.x,g.y);var m=this.renderSession.offset;t.uniform2f(e.offsetVector,m.x,m.y)}c++}this.renderBatch(l,c,h),this.currentBatchSize=0}},i.WebGLSpriteBatch.prototype.renderBatch=function(e,t,r){if(0!==t){var i=this.gl;e._dirty[i.id]?this.renderSession.renderer.updateTexture(e):i.bindTexture(i.TEXTURE_2D,e._glTextures[i.id]),i.drawElements(i.TRIANGLES,6*t,i.UNSIGNED_SHORT,6*r*2),this.renderSession.drawCount++}},i.WebGLSpriteBatch.prototype.stop=function(){this.flush(),this.dirty=!0},i.WebGLSpriteBatch.prototype.start=function(){this.dirty=!0},i.WebGLSpriteBatch.prototype.destroy=function(){this.vertices=null,this.indices=null,this.gl.deleteBuffer(this.vertexBuffer),this.gl.deleteBuffer(this.indexBuffer),this.currentBaseTexture=null,this.gl=null},i.WebGLFastSpriteBatch=function(e){this.vertSize=10,this.maxSize=6e3,this.size=this.maxSize;var t=4*this.size*this.vertSize,r=6*this.maxSize;this.vertices=new i.Float32Array(t),this.indices=new i.Uint16Array(r),this.vertexBuffer=null,this.indexBuffer=null,this.lastIndexCount=0;for(var a=0,n=0;r>a;a+=6,n+=4)this.indices[a+0]=n+0,this.indices[a+1]=n+1,this.indices[a+2]=n+2,this.indices[a+3]=n+0,this.indices[a+4]=n+2,this.indices[a+5]=n+3;this.drawing=!1,this.currentBatchSize=0,this.currentBaseTexture=null,this.currentBlendMode=0,this.renderSession=null,this.shader=null,this.matrix=null,this.setContext(e)},i.WebGLFastSpriteBatch.prototype.constructor=i.WebGLFastSpriteBatch,i.WebGLFastSpriteBatch.prototype.setContext=function(e){this.gl=e,this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices,e.DYNAMIC_DRAW)},i.WebGLFastSpriteBatch.prototype.begin=function(e,t){this.renderSession=t,this.shader=this.renderSession.shaderManager.fastShader,this.matrix=e.worldTransform.toArray(!0),this.start()},i.WebGLFastSpriteBatch.prototype.end=function(){this.flush()},i.WebGLFastSpriteBatch.prototype.render=function(e){var t=e.children,r=t[0];if(r.texture._uvs){this.currentBaseTexture=r.texture.baseTexture,r.blendMode!==this.renderSession.blendModeManager.currentBlendMode&&(this.flush(),this.renderSession.blendModeManager.setBlendMode(r.blendMode));for(var i=0,a=t.length;a>i;i++)this.renderSprite(t[i]);this.flush()}},i.WebGLFastSpriteBatch.prototype.renderSprite=function(e){if(e.visible&&(e.texture.baseTexture===this.currentBaseTexture||(this.flush(),this.currentBaseTexture=e.texture.baseTexture,e.texture._uvs))){var t,r,i,a,n,o,s,d,c=this.vertices;if(t=e.texture._uvs,r=e.texture.frame.width,i=e.texture.frame.height,e.texture.trim){var h=e.texture.trim;n=h.x-e.anchor.x*h.width,a=n+e.texture.crop.width,s=h.y-e.anchor.y*h.height,o=s+e.texture.crop.height}else a=e.texture.frame.width*(1-e.anchor.x),n=e.texture.frame.width*-e.anchor.x,o=e.texture.frame.height*(1-e.anchor.y),s=e.texture.frame.height*-e.anchor.y;d=4*this.currentBatchSize*this.vertSize,c[d++]=n,c[d++]=s,c[d++]=e.position.x,c[d++]=e.position.y,c[d++]=e.scale.x,c[d++]=e.scale.y,c[d++]=e.rotation,c[d++]=t.x0,c[d++]=t.y1,c[d++]=e.alpha,c[d++]=a,c[d++]=s,c[d++]=e.position.x,c[d++]=e.position.y,c[d++]=e.scale.x,c[d++]=e.scale.y,c[d++]=e.rotation,c[d++]=t.x1,c[d++]=t.y1,c[d++]=e.alpha,c[d++]=a,c[d++]=o,c[d++]=e.position.x,c[d++]=e.position.y,c[d++]=e.scale.x,c[d++]=e.scale.y,c[d++]=e.rotation,c[d++]=t.x2,c[d++]=t.y2,c[d++]=e.alpha,c[d++]=n,c[d++]=o,c[d++]=e.position.x,c[d++]=e.position.y,c[d++]=e.scale.x,c[d++]=e.scale.y,c[d++]=e.rotation,c[d++]=t.x3,c[d++]=t.y3,c[d++]=e.alpha,this.currentBatchSize++,this.currentBatchSize>=this.size&&this.flush()}},i.WebGLFastSpriteBatch.prototype.flush=function(){if(0!==this.currentBatchSize){var e=this.gl;if(this.currentBaseTexture._glTextures[e.id]||this.renderSession.renderer.updateTexture(this.currentBaseTexture,e),e.bindTexture(e.TEXTURE_2D,this.currentBaseTexture._glTextures[e.id]),this.currentBatchSize>.5*this.size)e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices);else{var t=this.vertices.subarray(0,4*this.currentBatchSize*this.vertSize);e.bufferSubData(e.ARRAY_BUFFER,0,t)}e.drawElements(e.TRIANGLES,6*this.currentBatchSize,e.UNSIGNED_SHORT,0),this.currentBatchSize=0,this.renderSession.drawCount++}},i.WebGLFastSpriteBatch.prototype.stop=function(){this.flush()},i.WebGLFastSpriteBatch.prototype.start=function(){var e=this.gl;e.activeTexture(e.TEXTURE0),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var t=this.renderSession.projection;e.uniform2f(this.shader.projectionVector,t.x,t.y),e.uniformMatrix3fv(this.shader.uMatrix,!1,this.matrix);var r=4*this.vertSize;e.vertexAttribPointer(this.shader.aVertexPosition,2,e.FLOAT,!1,r,0),e.vertexAttribPointer(this.shader.aPositionCoord,2,e.FLOAT,!1,r,8),e.vertexAttribPointer(this.shader.aScale,2,e.FLOAT,!1,r,16),e.vertexAttribPointer(this.shader.aRotation,1,e.FLOAT,!1,r,24),e.vertexAttribPointer(this.shader.aTextureCoord,2,e.FLOAT,!1,r,28),e.vertexAttribPointer(this.shader.colorAttribute,1,e.FLOAT,!1,r,36)},i.WebGLFilterManager=function(){this.filterStack=[],this.offsetX=0,this.offsetY=0},i.WebGLFilterManager.prototype.constructor=i.WebGLFilterManager,i.WebGLFilterManager.prototype.setContext=function(e){this.gl=e,this.texturePool=[],this.initShaderBuffers()},i.WebGLFilterManager.prototype.begin=function(e,t){this.renderSession=e,this.defaultShader=e.shaderManager.defaultShader;var r=this.renderSession.projection;this.width=2*r.x,this.height=2*-r.y,this.buffer=t},i.WebGLFilterManager.prototype.pushFilter=function(e){var t=this.gl,r=this.renderSession.projection,a=this.renderSession.offset;e._filterArea=e.target.filterArea||e.target.getBounds(),this.filterStack.push(e);var n=e.filterPasses[0];this.offsetX+=e._filterArea.x,this.offsetY+=e._filterArea.y;var o=this.texturePool.pop();o?o.resize(this.width,this.height):o=new i.FilterTexture(this.gl,this.width,this.height),t.bindTexture(t.TEXTURE_2D,o.texture);var s=e._filterArea,d=n.padding;s.x-=d,s.y-=d,s.width+=2*d,s.height+=2*d,s.x<0&&(s.x=0),s.width>this.width&&(s.width=this.width),s.y<0&&(s.y=0),s.height>this.height&&(s.height=this.height),t.bindFramebuffer(t.FRAMEBUFFER,o.frameBuffer),t.viewport(0,0,s.width,s.height),r.x=s.width/2,r.y=-s.height/2,a.x=-s.x,a.y=-s.y,t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),e._glFilterTexture=o},i.WebGLFilterManager.prototype.popFilter=function(){var e=this.gl,t=this.filterStack.pop(),r=t._filterArea,a=t._glFilterTexture,n=this.renderSession.projection,o=this.renderSession.offset;if(t.filterPasses.length>1){e.viewport(0,0,r.width,r.height),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),this.vertexArray[0]=0,this.vertexArray[1]=r.height,this.vertexArray[2]=r.width,this.vertexArray[3]=r.height,this.vertexArray[4]=0,this.vertexArray[5]=0,this.vertexArray[6]=r.width,this.vertexArray[7]=0,e.bufferSubData(e.ARRAY_BUFFER,0,this.vertexArray),e.bindBuffer(e.ARRAY_BUFFER,this.uvBuffer),this.uvArray[2]=r.width/this.width,this.uvArray[5]=r.height/this.height,this.uvArray[6]=r.width/this.width,this.uvArray[7]=r.height/this.height,e.bufferSubData(e.ARRAY_BUFFER,0,this.uvArray);var s=a,d=this.texturePool.pop();d||(d=new i.FilterTexture(this.gl,this.width,this.height)),d.resize(this.width,this.height),e.bindFramebuffer(e.FRAMEBUFFER,d.frameBuffer),e.clear(e.COLOR_BUFFER_BIT),e.disable(e.BLEND);for(var c=0;c<t.filterPasses.length-1;c++){var h=t.filterPasses[c];e.bindFramebuffer(e.FRAMEBUFFER,d.frameBuffer),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,s.texture),this.applyFilterPass(h,r,r.width,r.height);var l=s;s=d,d=l}e.enable(e.BLEND),a=s,this.texturePool.push(d)}var f=t.filterPasses[t.filterPasses.length-1];this.offsetX-=r.x,this.offsetY-=r.y;var u=this.width,p=this.height,b=0,y=0,v=this.buffer;if(0===this.filterStack.length)e.colorMask(!0,!0,!0,!0);else{var g=this.filterStack[this.filterStack.length-1];r=g._filterArea,u=r.width,p=r.height,b=r.x,y=r.y,v=g._glFilterTexture.frameBuffer}n.x=u/2,n.y=-p/2,o.x=b,o.y=y,r=t._filterArea;var m=r.x-b,x=r.y-y;e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),this.vertexArray[0]=m,this.vertexArray[1]=x+r.height,this.vertexArray[2]=m+r.width,this.vertexArray[3]=x+r.height,this.vertexArray[4]=m,this.vertexArray[5]=x,this.vertexArray[6]=m+r.width,this.vertexArray[7]=x,e.bufferSubData(e.ARRAY_BUFFER,0,this.vertexArray),e.bindBuffer(e.ARRAY_BUFFER,this.uvBuffer),this.uvArray[2]=r.width/this.width,this.uvArray[5]=r.height/this.height,this.uvArray[6]=r.width/this.width,this.uvArray[7]=r.height/this.height,e.bufferSubData(e.ARRAY_BUFFER,0,this.uvArray),e.viewport(0,0,u,p),e.bindFramebuffer(e.FRAMEBUFFER,v),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,a.texture),this.applyFilterPass(f,r,u,p),this.texturePool.push(a),t._glFilterTexture=null},i.WebGLFilterManager.prototype.applyFilterPass=function(e,t,r,a){var n=this.gl,o=e.shaders[n.id];o||(o=new i.PixiShader(n),o.fragmentSrc=e.fragmentSrc,o.uniforms=e.uniforms,o.init(),e.shaders[n.id]=o),this.renderSession.shaderManager.setShader(o),n.uniform2f(o.projectionVector,r/2,-a/2),n.uniform2f(o.offsetVector,0,0),e.uniforms.dimensions&&(e.uniforms.dimensions.value[0]=this.width,e.uniforms.dimensions.value[1]=this.height,e.uniforms.dimensions.value[2]=this.vertexArray[0],e.uniforms.dimensions.value[3]=this.vertexArray[5]),o.syncUniforms(),n.bindBuffer(n.ARRAY_BUFFER,this.vertexBuffer),n.vertexAttribPointer(o.aVertexPosition,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,this.uvBuffer),n.vertexAttribPointer(o.aTextureCoord,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,this.colorBuffer),n.vertexAttribPointer(o.colorAttribute,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indexBuffer),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0),this.renderSession.drawCount++
},i.WebGLFilterManager.prototype.initShaderBuffers=function(){var e=this.gl;this.vertexBuffer=e.createBuffer(),this.uvBuffer=e.createBuffer(),this.colorBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),this.vertexArray=new i.Float32Array([0,0,1,0,0,1,1,1]),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertexArray,e.STATIC_DRAW),this.uvArray=new i.Float32Array([0,0,1,0,0,1,1,1]),e.bindBuffer(e.ARRAY_BUFFER,this.uvBuffer),e.bufferData(e.ARRAY_BUFFER,this.uvArray,e.STATIC_DRAW),this.colorArray=new i.Float32Array([1,16777215,1,16777215,1,16777215,1,16777215]),e.bindBuffer(e.ARRAY_BUFFER,this.colorBuffer),e.bufferData(e.ARRAY_BUFFER,this.colorArray,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,1,3,2]),e.STATIC_DRAW)},i.WebGLFilterManager.prototype.destroy=function(){var e=this.gl;this.filterStack=null,this.offsetX=0,this.offsetY=0;for(var t=0;t<this.texturePool.length;t++)this.texturePool[t].destroy();this.texturePool=null,e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.uvBuffer),e.deleteBuffer(this.colorBuffer),e.deleteBuffer(this.indexBuffer)},i.FilterTexture=function(e,t,r,a){this.gl=e,this.frameBuffer=e.createFramebuffer(),this.texture=e.createTexture(),a=a||i.scaleModes.DEFAULT,e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,a===i.scaleModes.LINEAR?e.LINEAR:e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,a===i.scaleModes.LINEAR?e.LINEAR:e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer),e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture,0),this.renderBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.renderBuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,this.renderBuffer),this.resize(t,r)},i.FilterTexture.prototype.constructor=i.FilterTexture,i.FilterTexture.prototype.clear=function(){var e=this.gl;e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},i.FilterTexture.prototype.resize=function(e,t){if(this.width!==e||this.height!==t){this.width=e,this.height=t;var r=this.gl;r.bindTexture(r.TEXTURE_2D,this.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,e,t,0,r.RGBA,r.UNSIGNED_BYTE,null),r.bindRenderbuffer(r.RENDERBUFFER,this.renderBuffer),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e,t)}},i.FilterTexture.prototype.destroy=function(){var e=this.gl;e.deleteFramebuffer(this.frameBuffer),e.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null},i.CanvasBuffer=function(e,t){this.width=e,this.height=t,this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=e,this.canvas.height=t},i.CanvasBuffer.prototype.constructor=i.CanvasBuffer,i.CanvasBuffer.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.width,this.height)},i.CanvasBuffer.prototype.resize=function(e,t){this.width=this.canvas.width=e,this.height=this.canvas.height=t},i.CanvasMaskManager=function(){},i.CanvasMaskManager.prototype.constructor=i.CanvasMaskManager,i.CanvasMaskManager.prototype.pushMask=function(e,t){var r=t.context;r.save();var a=e.alpha,n=e.worldTransform,o=t.resolution;r.setTransform(n.a*o,n.b*o,n.c*o,n.d*o,n.tx*o,n.ty*o),i.CanvasGraphics.renderGraphicsMask(e,r),r.clip(),e.worldAlpha=a},i.CanvasMaskManager.prototype.popMask=function(e){e.context.restore()},i.CanvasTinter=function(){},i.CanvasTinter.getTintedTexture=function(e,t){var r=e.texture;t=i.CanvasTinter.roundColor(t);var a="#"+("00000"+(0|t).toString(16)).substr(-6);if(r.tintCache=r.tintCache||{},r.tintCache[a])return r.tintCache[a];var n=i.CanvasTinter.canvas||document.createElement("canvas");if(i.CanvasTinter.tintMethod(r,t,n),i.CanvasTinter.convertTintToImage){var o=new Image;o.src=n.toDataURL(),r.tintCache[a]=o}else r.tintCache[a]=n,i.CanvasTinter.canvas=null;return n},i.CanvasTinter.tintWithMultiply=function(e,t,r){var i=r.getContext("2d"),a=e.crop;r.width=a.width,r.height=a.height,i.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),i.fillRect(0,0,a.width,a.height),i.globalCompositeOperation="multiply",i.drawImage(e.baseTexture.source,a.x,a.y,a.width,a.height,0,0,a.width,a.height),i.globalCompositeOperation="destination-atop",i.drawImage(e.baseTexture.source,a.x,a.y,a.width,a.height,0,0,a.width,a.height)},i.CanvasTinter.tintWithOverlay=function(e,t,r){var i=r.getContext("2d"),a=e.crop;r.width=a.width,r.height=a.height,i.globalCompositeOperation="copy",i.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),i.fillRect(0,0,a.width,a.height),i.globalCompositeOperation="destination-atop",i.drawImage(e.baseTexture.source,a.x,a.y,a.width,a.height,0,0,a.width,a.height)},i.CanvasTinter.tintWithPerPixel=function(e,t,r){var a=r.getContext("2d"),n=e.crop;r.width=n.width,r.height=n.height,a.globalCompositeOperation="copy",a.drawImage(e.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height);for(var o=i.hex2rgb(t),s=o[0],d=o[1],c=o[2],h=a.getImageData(0,0,n.width,n.height),l=h.data,f=0;f<l.length;f+=4)l[f+0]*=s,l[f+1]*=d,l[f+2]*=c;a.putImageData(h,0,0)},i.CanvasTinter.roundColor=function(e){var t=i.CanvasTinter.cacheStepsPerColorChannel,r=i.hex2rgb(e);return r[0]=Math.min(255,r[0]/t*t),r[1]=Math.min(255,r[1]/t*t),r[2]=Math.min(255,r[2]/t*t),i.rgb2hex(r)},i.CanvasTinter.cacheStepsPerColorChannel=8,i.CanvasTinter.convertTintToImage=!1,i.CanvasTinter.canUseMultiply=i.canUseNewCanvasBlendModes(),i.CanvasTinter.tintMethod=i.CanvasTinter.canUseMultiply?i.CanvasTinter.tintWithMultiply:i.CanvasTinter.tintWithPerPixel,i.CanvasRenderer=function(e,t,r){if(r)for(var a in i.defaultRenderOptions)"undefined"==typeof r[a]&&(r[a]=i.defaultRenderOptions[a]);else r=i.defaultRenderOptions;i.defaultRenderer||(i.sayHello("Canvas"),i.defaultRenderer=this),this.type=i.CANVAS_RENDERER,this.resolution=r.resolution,this.clearBeforeRender=r.clearBeforeRender,this.transparent=r.transparent,this.autoResize=r.autoResize||!1,this.width=e||800,this.height=t||600,this.width*=this.resolution,this.height*=this.resolution,this.view=r.view||document.createElement("canvas"),this.context=this.view.getContext("2d",{alpha:this.transparent}),this.refresh=!0,this.view.width=this.width*this.resolution,this.view.height=this.height*this.resolution,this.count=0,this.maskManager=new i.CanvasMaskManager,this.renderSession={context:this.context,maskManager:this.maskManager,scaleMode:null,smoothProperty:null,roundPixels:!1},this.mapBlendModes(),this.resize(e,t),"imageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="imageSmoothingEnabled":"webkitImageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="webkitImageSmoothingEnabled":"mozImageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="mozImageSmoothingEnabled":"oImageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="oImageSmoothingEnabled":"msImageSmoothingEnabled"in this.context&&(this.renderSession.smoothProperty="msImageSmoothingEnabled")},i.CanvasRenderer.prototype.constructor=i.CanvasRenderer,i.CanvasRenderer.prototype.render=function(e){e.updateTransform(),this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.renderSession.currentBlendMode=i.blendModes.NORMAL,this.context.globalCompositeOperation=i.blendModesCanvas[i.blendModes.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):(this.context.fillStyle=e.backgroundColorString,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(e),e.interactive&&(e._interactiveEventsAdded||(e._interactiveEventsAdded=!0,e.interactionManager.setTarget(this)))},i.CanvasRenderer.prototype.destroy=function(e){"undefined"==typeof e&&(e=!0),e&&this.view.parent&&this.view.parent.removeChild(this.view),this.view=null,this.context=null,this.maskManager=null,this.renderSession=null},i.CanvasRenderer.prototype.resize=function(e,t){this.width=e*this.resolution,this.height=t*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")},i.CanvasRenderer.prototype.renderDisplayObject=function(e,t){this.renderSession.context=t||this.context,this.renderSession.resolution=this.resolution,e._renderCanvas(this.renderSession)},i.CanvasRenderer.prototype.mapBlendModes=function(){i.blendModesCanvas||(i.blendModesCanvas=[],i.canUseNewCanvasBlendModes()?(i.blendModesCanvas[i.blendModes.NORMAL]="source-over",i.blendModesCanvas[i.blendModes.ADD]="lighter",i.blendModesCanvas[i.blendModes.MULTIPLY]="multiply",i.blendModesCanvas[i.blendModes.SCREEN]="screen",i.blendModesCanvas[i.blendModes.OVERLAY]="overlay",i.blendModesCanvas[i.blendModes.DARKEN]="darken",i.blendModesCanvas[i.blendModes.LIGHTEN]="lighten",i.blendModesCanvas[i.blendModes.COLOR_DODGE]="color-dodge",i.blendModesCanvas[i.blendModes.COLOR_BURN]="color-burn",i.blendModesCanvas[i.blendModes.HARD_LIGHT]="hard-light",i.blendModesCanvas[i.blendModes.SOFT_LIGHT]="soft-light",i.blendModesCanvas[i.blendModes.DIFFERENCE]="difference",i.blendModesCanvas[i.blendModes.EXCLUSION]="exclusion",i.blendModesCanvas[i.blendModes.HUE]="hue",i.blendModesCanvas[i.blendModes.SATURATION]="saturation",i.blendModesCanvas[i.blendModes.COLOR]="color",i.blendModesCanvas[i.blendModes.LUMINOSITY]="luminosity"):(i.blendModesCanvas[i.blendModes.NORMAL]="source-over",i.blendModesCanvas[i.blendModes.ADD]="lighter",i.blendModesCanvas[i.blendModes.MULTIPLY]="source-over",i.blendModesCanvas[i.blendModes.SCREEN]="source-over",i.blendModesCanvas[i.blendModes.OVERLAY]="source-over",i.blendModesCanvas[i.blendModes.DARKEN]="source-over",i.blendModesCanvas[i.blendModes.LIGHTEN]="source-over",i.blendModesCanvas[i.blendModes.COLOR_DODGE]="source-over",i.blendModesCanvas[i.blendModes.COLOR_BURN]="source-over",i.blendModesCanvas[i.blendModes.HARD_LIGHT]="source-over",i.blendModesCanvas[i.blendModes.SOFT_LIGHT]="source-over",i.blendModesCanvas[i.blendModes.DIFFERENCE]="source-over",i.blendModesCanvas[i.blendModes.EXCLUSION]="source-over",i.blendModesCanvas[i.blendModes.HUE]="source-over",i.blendModesCanvas[i.blendModes.SATURATION]="source-over",i.blendModesCanvas[i.blendModes.COLOR]="source-over",i.blendModesCanvas[i.blendModes.LUMINOSITY]="source-over"))},i.CanvasGraphics=function(){},i.CanvasGraphics.renderGraphics=function(e,t){var r=e.worldAlpha;e.dirty&&(this.updateGraphicsTint(e),e.dirty=!1);for(var a=0;a<e.graphicsData.length;a++){var n=e.graphicsData[a],o=n.shape,s=n._fillTint,d=n._lineTint;if(t.lineWidth=n.lineWidth,n.type===i.Graphics.POLY){t.beginPath();var c=o.points;t.moveTo(c[0],c[1]);for(var h=1;h<c.length/2;h++)t.lineTo(c[2*h],c[2*h+1]);o.closed&&t.lineTo(c[0],c[1]),c[0]===c[c.length-2]&&c[1]===c[c.length-1]&&t.closePath(),n.fill&&(t.globalAlpha=n.fillAlpha*r,t.fillStyle="#"+("00000"+(0|s).toString(16)).substr(-6),t.fill()),n.lineWidth&&(t.globalAlpha=n.lineAlpha*r,t.strokeStyle="#"+("00000"+(0|d).toString(16)).substr(-6),t.stroke())}else if(n.type===i.Graphics.RECT)(n.fillColor||0===n.fillColor)&&(t.globalAlpha=n.fillAlpha*r,t.fillStyle="#"+("00000"+(0|s).toString(16)).substr(-6),t.fillRect(o.x,o.y,o.width,o.height)),n.lineWidth&&(t.globalAlpha=n.lineAlpha*r,t.strokeStyle="#"+("00000"+(0|d).toString(16)).substr(-6),t.strokeRect(o.x,o.y,o.width,o.height));else if(n.type===i.Graphics.CIRC)t.beginPath(),t.arc(o.x,o.y,o.radius,0,2*Math.PI),t.closePath(),n.fill&&(t.globalAlpha=n.fillAlpha*r,t.fillStyle="#"+("00000"+(0|s).toString(16)).substr(-6),t.fill()),n.lineWidth&&(t.globalAlpha=n.lineAlpha*r,t.strokeStyle="#"+("00000"+(0|d).toString(16)).substr(-6),t.stroke());else if(n.type===i.Graphics.ELIP){var l=2*o.width,f=2*o.height,u=o.x-l/2,p=o.y-f/2;t.beginPath();var b=.5522848,y=l/2*b,v=f/2*b,g=u+l,m=p+f,x=u+l/2,_=p+f/2;t.moveTo(u,_),t.bezierCurveTo(u,_-v,x-y,p,x,p),t.bezierCurveTo(x+y,p,g,_-v,g,_),t.bezierCurveTo(g,_+v,x+y,m,x,m),t.bezierCurveTo(x-y,m,u,_+v,u,_),t.closePath(),n.fill&&(t.globalAlpha=n.fillAlpha*r,t.fillStyle="#"+("00000"+(0|s).toString(16)).substr(-6),t.fill()),n.lineWidth&&(t.globalAlpha=n.lineAlpha*r,t.strokeStyle="#"+("00000"+(0|d).toString(16)).substr(-6),t.stroke())}else if(n.type===i.Graphics.RREC){var w=o.x,T=o.y,S=o.width,A=o.height,C=o.radius,E=Math.min(S,A)/2|0;C=C>E?E:C,t.beginPath(),t.moveTo(w,T+C),t.lineTo(w,T+A-C),t.quadraticCurveTo(w,T+A,w+C,T+A),t.lineTo(w+S-C,T+A),t.quadraticCurveTo(w+S,T+A,w+S,T+A-C),t.lineTo(w+S,T+C),t.quadraticCurveTo(w+S,T,w+S-C,T),t.lineTo(w+C,T),t.quadraticCurveTo(w,T,w,T+C),t.closePath(),(n.fillColor||0===n.fillColor)&&(t.globalAlpha=n.fillAlpha*r,t.fillStyle="#"+("00000"+(0|s).toString(16)).substr(-6),t.fill()),n.lineWidth&&(t.globalAlpha=n.lineAlpha*r,t.strokeStyle="#"+("00000"+(0|d).toString(16)).substr(-6),t.stroke())}}},i.CanvasGraphics.renderGraphicsMask=function(e,t){var r=e.graphicsData.length;if(0!==r){r>1&&(r=1,window.console.log("Pixi.js warning: masks in canvas can only mask using the first path in the graphics object"));for(var a=0;1>a;a++){var n=e.graphicsData[a],o=n.shape;if(n.type===i.Graphics.POLY){t.beginPath();var s=o.points;t.moveTo(s[0],s[1]);for(var d=1;d<s.length/2;d++)t.lineTo(s[2*d],s[2*d+1]);s[0]===s[s.length-2]&&s[1]===s[s.length-1]&&t.closePath()}else if(n.type===i.Graphics.RECT)t.beginPath(),t.rect(o.x,o.y,o.width,o.height),t.closePath();else if(n.type===i.Graphics.CIRC)t.beginPath(),t.arc(o.x,o.y,o.radius,0,2*Math.PI),t.closePath();else if(n.type===i.Graphics.ELIP){var c=2*o.width,h=2*o.height,l=o.x-c/2,f=o.y-h/2;t.beginPath();var u=.5522848,p=c/2*u,b=h/2*u,y=l+c,v=f+h,g=l+c/2,m=f+h/2;t.moveTo(l,m),t.bezierCurveTo(l,m-b,g-p,f,g,f),t.bezierCurveTo(g+p,f,y,m-b,y,m),t.bezierCurveTo(y,m+b,g+p,v,g,v),t.bezierCurveTo(g-p,v,l,m+b,l,m),t.closePath()}else if(n.type===i.Graphics.RREC){var x=o.points,_=x[0],w=x[1],T=x[2],S=x[3],A=x[4],C=Math.min(T,S)/2|0;A=A>C?C:A,t.beginPath(),t.moveTo(_,w+A),t.lineTo(_,w+S-A),t.quadraticCurveTo(_,w+S,_+A,w+S),t.lineTo(_+T-A,w+S),t.quadraticCurveTo(_+T,w+S,_+T,w+S-A),t.lineTo(_+T,w+A),t.quadraticCurveTo(_+T,w,_+T-A,w),t.lineTo(_+A,w),t.quadraticCurveTo(_,w,_,w+A),t.closePath()}}}},i.CanvasGraphics.updateGraphicsTint=function(e){if(16777215!==e.tint)for(var t=(e.tint>>16&255)/255,r=(e.tint>>8&255)/255,i=(255&e.tint)/255,a=0;a<e.graphicsData.length;a++){var n=e.graphicsData[a],o=0|n.fillColor,s=0|n.lineColor;n._fillTint=((o>>16&255)/255*t*255<<16)+((o>>8&255)/255*r*255<<8)+(255&o)/255*i*255,n._lineTint=((s>>16&255)/255*t*255<<16)+((s>>8&255)/255*r*255<<8)+(255&s)/255*i*255}},i.Graphics=function(){i.DisplayObjectContainer.call(this),this.renderable=!0,this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.graphicsData=[],this.tint=16777215,this.blendMode=i.blendModes.NORMAL,this.currentPath=null,this._webGL=[],this.isMask=!1,this.boundsPadding=0,this._localBounds=new i.Rectangle(0,0,1,1),this.dirty=!0,this.webGLDirty=!1,this.cachedSpriteDirty=!1},i.Graphics.prototype=Object.create(i.DisplayObjectContainer.prototype),i.Graphics.prototype.constructor=i.Graphics,Object.defineProperty(i.Graphics.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(e){this._cacheAsBitmap=e,this._cacheAsBitmap?this._generateCachedSprite():(this.destroyCachedSprite(),this.dirty=!0)}}),i.Graphics.prototype.lineStyle=function(e,t,r){if(this.lineWidth=e||0,this.lineColor=t||0,this.lineAlpha=arguments.length<3?1:r,this.currentPath){if(this.currentPath.shape.points.length)return this.drawShape(new i.Polygon(this.currentPath.shape.points.slice(-2))),this;this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha}return this},i.Graphics.prototype.moveTo=function(e,t){return this.drawShape(new i.Polygon([e,t])),this},i.Graphics.prototype.lineTo=function(e,t){return this.currentPath.shape.points.push(e,t),this.dirty=!0,this},i.Graphics.prototype.quadraticCurveTo=function(e,t,r,i){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var a,n,o=20,s=this.currentPath.shape.points;0===s.length&&this.moveTo(0,0);for(var d=s[s.length-2],c=s[s.length-1],h=0,l=1;o>=l;l++)h=l/o,a=d+(e-d)*h,n=c+(t-c)*h,s.push(a+(e+(r-e)*h-a)*h,n+(t+(i-t)*h-n)*h);return this.dirty=!0,this},i.Graphics.prototype.bezierCurveTo=function(e,t,r,i,a,n){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var o,s,d,c,h,l=20,f=this.currentPath.shape.points,u=f[f.length-2],p=f[f.length-1],b=0,y=1;l>=y;y++)b=y/l,o=1-b,s=o*o,d=s*o,c=b*b,h=c*b,f.push(d*u+3*s*b*e+3*o*c*r+h*a,d*p+3*s*b*t+3*o*c*i+h*n);return this.dirty=!0,this},i.Graphics.prototype.arcTo=function(e,t,r,i,a){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(e,t):this.moveTo(e,t);var n=this.currentPath.shape.points,o=n[n.length-2],s=n[n.length-1],d=s-t,c=o-e,h=i-t,l=r-e,f=Math.abs(d*l-c*h);if(1e-8>f||0===a)(n[n.length-2]!==e||n[n.length-1]!==t)&&n.push(e,t);else{var u=d*d+c*c,p=h*h+l*l,b=d*h+c*l,y=a*Math.sqrt(u)/f,v=a*Math.sqrt(p)/f,g=y*b/u,m=v*b/p,x=y*l+v*c,_=y*h+v*d,w=c*(v+g),T=d*(v+g),S=l*(y+m),A=h*(y+m),C=Math.atan2(T-_,w-x),E=Math.atan2(A-_,S-x);this.arc(x+e,_+t,a,C,E,c*h>l*d)}return this.dirty=!0,this},i.Graphics.prototype.arc=function(e,t,r,i,a,n){var o,s=e+Math.cos(i)*r,d=t+Math.sin(i)*r;if(this.currentPath?(o=this.currentPath.shape.points,0===o.length?o.push(s,d):(o[o.length-2]!==s||o[o.length-1]!==d)&&o.push(s,d)):(this.moveTo(s,d),o=this.currentPath.shape.points),i===a)return this;!n&&i>=a?a+=2*Math.PI:n&&a>=i&&(i+=2*Math.PI);var c=n?-1*(i-a):a-i,h=Math.abs(c)/(2*Math.PI)*40;if(0===c)return this;for(var l=c/(2*h),f=2*l,u=Math.cos(l),p=Math.sin(l),b=h-1,y=b%1/b,v=0;b>=v;v++){var g=v+y*v,m=l+i+f*g,x=Math.cos(m),_=-Math.sin(m);o.push((u*x+p*_)*r+e,(u*-_+p*x)*r+t)}return this.dirty=!0,this},i.Graphics.prototype.beginFill=function(e,t){return this.filling=!0,this.fillColor=e||0,this.fillAlpha=void 0===t?1:t,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},i.Graphics.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},i.Graphics.prototype.drawRect=function(e,t,r,a){return this.drawShape(new i.Rectangle(e,t,r,a)),this},i.Graphics.prototype.drawRoundedRect=function(e,t,r,a,n){return this.drawShape(new i.RoundedRectangle(e,t,r,a,n)),this},i.Graphics.prototype.drawCircle=function(e,t,r){return this.drawShape(new i.Circle(e,t,r)),this},i.Graphics.prototype.drawEllipse=function(e,t,r,a){return this.drawShape(new i.Ellipse(e,t,r,a)),this},i.Graphics.prototype.drawPolygon=function(e){return e instanceof Array||(e=Array.prototype.slice.call(arguments)),this.drawShape(new i.Polygon(e)),this},i.Graphics.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this.dirty=!0,this.clearDirty=!0,this.graphicsData=[],this},i.Graphics.prototype.generateTexture=function(e,t){e=e||1;var r=this.getBounds(),a=new i.CanvasBuffer(r.width*e,r.height*e),n=i.Texture.fromCanvas(a.canvas,t);return n.baseTexture.resolution=e,a.context.scale(e,e),a.context.translate(-r.x,-r.y),i.CanvasGraphics.renderGraphics(this,a.context),n},i.Graphics.prototype._renderWebGL=function(e){if(this.visible!==!1&&0!==this.alpha&&this.isMask!==!0){if(this._cacheAsBitmap)return(this.dirty||this.cachedSpriteDirty)&&(this._generateCachedSprite(),this.updateCachedSpriteTexture(),this.cachedSpriteDirty=!1,this.dirty=!1),this._cachedSprite.worldAlpha=this.worldAlpha,i.Sprite.prototype._renderWebGL.call(this._cachedSprite,e),void 0;if(e.spriteBatch.stop(),e.blendModeManager.setBlendMode(this.blendMode),this._mask&&e.maskManager.pushMask(this._mask,e),this._filters&&e.filterManager.pushFilter(this._filterBlock),this.blendMode!==e.spriteBatch.currentBlendMode){e.spriteBatch.currentBlendMode=this.blendMode;var t=i.blendModesWebGL[e.spriteBatch.currentBlendMode];e.spriteBatch.gl.blendFunc(t[0],t[1])}if(this.webGLDirty&&(this.dirty=!0,this.webGLDirty=!1),i.WebGLGraphics.renderGraphics(this,e),this.children.length){e.spriteBatch.start();for(var r=0,a=this.children.length;a>r;r++)this.children[r]._renderWebGL(e);e.spriteBatch.stop()}this._filters&&e.filterManager.popFilter(),this._mask&&e.maskManager.popMask(this.mask,e),e.drawCount++,e.spriteBatch.start()}},i.Graphics.prototype._renderCanvas=function(e){if(this.visible!==!1&&0!==this.alpha&&this.isMask!==!0){if(this._cacheAsBitmap)return(this.dirty||this.cachedSpriteDirty)&&(this._generateCachedSprite(),this.updateCachedSpriteTexture(),this.cachedSpriteDirty=!1,this.dirty=!1),this._cachedSprite.alpha=this.alpha,i.Sprite.prototype._renderCanvas.call(this._cachedSprite,e),void 0;var t=e.context,r=this.worldTransform;this.blendMode!==e.currentBlendMode&&(e.currentBlendMode=this.blendMode,t.globalCompositeOperation=i.blendModesCanvas[e.currentBlendMode]),this._mask&&e.maskManager.pushMask(this._mask,e);var a=e.resolution;t.setTransform(r.a*a,r.b*a,r.c*a,r.d*a,r.tx*a,r.ty*a),i.CanvasGraphics.renderGraphics(this,t);for(var n=0,o=this.children.length;o>n;n++)this.children[n]._renderCanvas(e);this._mask&&e.maskManager.popMask(e)}},i.Graphics.prototype.getBounds=function(e){if(this.isMask)return i.EmptyRectangle;this.dirty&&(this.updateLocalBounds(),this.webGLDirty=!0,this.cachedSpriteDirty=!0,this.dirty=!1);var t=this._localBounds,r=t.x,a=t.width+t.x,n=t.y,o=t.height+t.y,s=e||this.worldTransform,d=s.a,c=s.b,h=s.c,l=s.d,f=s.tx,u=s.ty,p=d*a+h*o+f,b=l*o+c*a+u,y=d*r+h*o+f,v=l*o+c*r+u,g=d*r+h*n+f,m=l*n+c*r+u,x=d*a+h*n+f,_=l*n+c*a+u,w=p,T=b,S=p,A=b;return S=S>y?y:S,S=S>g?g:S,S=S>x?x:S,A=A>v?v:A,A=A>m?m:A,A=A>_?_:A,w=y>w?y:w,w=g>w?g:w,w=x>w?x:w,T=v>T?v:T,T=m>T?m:T,T=_>T?_:T,this._bounds.x=S,this._bounds.width=w-S,this._bounds.y=A,this._bounds.height=T-A,this._bounds},i.Graphics.prototype.updateLocalBounds=function(){var e=1/0,t=-1/0,r=1/0,a=-1/0;if(this.graphicsData.length)for(var n,o,s,d,c,h,l=0;l<this.graphicsData.length;l++){var f=this.graphicsData[l],u=f.type,p=f.lineWidth;if(n=f.shape,u===i.Graphics.RECT||u===i.Graphics.RREC)s=n.x-p/2,d=n.y-p/2,c=n.width+p,h=n.height+p,e=e>s?s:e,t=s+c>t?s+c:t,r=r>d?d:r,a=d+h>a?d+h:a;else if(u===i.Graphics.CIRC)s=n.x,d=n.y,c=n.radius+p/2,h=n.radius+p/2,e=e>s-c?s-c:e,t=s+c>t?s+c:t,r=r>d-h?d-h:r,a=d+h>a?d+h:a;else if(u===i.Graphics.ELIP)s=n.x,d=n.y,c=n.width+p/2,h=n.height+p/2,e=e>s-c?s-c:e,t=s+c>t?s+c:t,r=r>d-h?d-h:r,a=d+h>a?d+h:a;else{o=n.points;for(var b=0;b<o.length;b+=2)s=o[b],d=o[b+1],e=e>s-p?s-p:e,t=s+p>t?s+p:t,r=r>d-p?d-p:r,a=d+p>a?d+p:a}}else e=0,t=0,r=0,a=0;var y=this.boundsPadding;this._localBounds.x=e-y,this._localBounds.width=t-e+2*y,this._localBounds.y=r-y,this._localBounds.height=a-r+2*y},i.Graphics.prototype._generateCachedSprite=function(){var e=this.getLocalBounds();if(this._cachedSprite)this._cachedSprite.buffer.resize(e.width,e.height);else{var t=new i.CanvasBuffer(e.width,e.height),r=i.Texture.fromCanvas(t.canvas);this._cachedSprite=new i.Sprite(r),this._cachedSprite.buffer=t,this._cachedSprite.worldTransform=this.worldTransform}this._cachedSprite.anchor.x=-(e.x/e.width),this._cachedSprite.anchor.y=-(e.y/e.height),this._cachedSprite.buffer.context.translate(-e.x,-e.y),this.worldAlpha=1,i.CanvasGraphics.renderGraphics(this,this._cachedSprite.buffer.context),this._cachedSprite.alpha=this.alpha},i.Graphics.prototype.updateCachedSpriteTexture=function(){var e=this._cachedSprite,t=e.texture,r=e.buffer.canvas;t.baseTexture.width=r.width,t.baseTexture.height=r.height,t.crop.width=t.frame.width=r.width,t.crop.height=t.frame.height=r.height,e._width=r.width,e._height=r.height,t.baseTexture.dirty()},i.Graphics.prototype.destroyCachedSprite=function(){this._cachedSprite.texture.destroy(!0),this._cachedSprite=null},i.Graphics.prototype.drawShape=function(e){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var t=new i.GraphicsData(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,e);return this.graphicsData.push(t),t.type===i.Graphics.POLY&&(t.shape.closed=this.filling,this.currentPath=t),this.dirty=!0,t},i.GraphicsData=function(e,t,r,i,a,n,o){this.lineWidth=e,this.lineColor=t,this.lineAlpha=r,this._lineTint=t,this.fillColor=i,this.fillAlpha=a,this._fillTint=i,this.fill=n,this.shape=o,this.type=o.type},i.Graphics.POLY=0,i.Graphics.RECT=1,i.Graphics.CIRC=2,i.Graphics.ELIP=3,i.Graphics.RREC=4,i.Polygon.prototype.type=i.Graphics.POLY,i.Rectangle.prototype.type=i.Graphics.RECT,i.Circle.prototype.type=i.Graphics.CIRC,i.Ellipse.prototype.type=i.Graphics.ELIP,i.RoundedRectangle.prototype.type=i.Graphics.RREC,i.Strip=function(e){i.DisplayObjectContainer.call(this),this.texture=e,this.uvs=new i.Float32Array([0,1,1,1,1,0,0,1]),this.vertices=new i.Float32Array([0,0,100,0,100,100,0,100]),this.colors=new i.Float32Array([1,1,1,1]),this.indices=new i.Uint16Array([0,1,2,3]),this.dirty=!0,this.blendMode=i.blendModes.NORMAL,this.canvasPadding=0,this.drawMode=i.Strip.DrawModes.TRIANGLE_STRIP},i.Strip.prototype=Object.create(i.DisplayObjectContainer.prototype),i.Strip.prototype.constructor=i.Strip,i.Strip.prototype._renderWebGL=function(e){!this.visible||this.alpha<=0||(e.spriteBatch.stop(),this._vertexBuffer||this._initWebGL(e),e.shaderManager.setShader(e.shaderManager.stripShader),this._renderStrip(e),e.spriteBatch.start())},i.Strip.prototype._initWebGL=function(e){var t=e.gl;this._vertexBuffer=t.createBuffer(),this._indexBuffer=t.createBuffer(),this._uvBuffer=t.createBuffer(),this._colorBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.DYNAMIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this._uvBuffer),t.bufferData(t.ARRAY_BUFFER,this.uvs,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this._colorBuffer),t.bufferData(t.ARRAY_BUFFER,this.colors,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW)},i.Strip.prototype._renderStrip=function(e){var t=e.gl,r=e.projection,a=e.offset,n=e.shaderManager.stripShader,o=this.drawMode===i.Strip.DrawModes.TRIANGLE_STRIP?t.TRIANGLE_STRIP:t.TRIANGLES;e.blendModeManager.setBlendMode(this.blendMode),t.uniformMatrix3fv(n.translationMatrix,!1,this.worldTransform.toArray(!0)),t.uniform2f(n.projectionVector,r.x,-r.y),t.uniform2f(n.offsetVector,-a.x,-a.y),t.uniform1f(n.alpha,this.worldAlpha),this.dirty?(this.dirty=!1,t.bindBuffer(t.ARRAY_BUFFER,this._vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.STATIC_DRAW),t.vertexAttribPointer(n.aVertexPosition,2,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,this._uvBuffer),t.bufferData(t.ARRAY_BUFFER,this.uvs,t.STATIC_DRAW),t.vertexAttribPointer(n.aTextureCoord,2,t.FLOAT,!1,0,0),t.activeTexture(t.TEXTURE0),this.texture.baseTexture._dirty[t.id]?e.renderer.updateTexture(this.texture.baseTexture):t.bindTexture(t.TEXTURE_2D,this.texture.baseTexture._glTextures[t.id]),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW)):(t.bindBuffer(t.ARRAY_BUFFER,this._vertexBuffer),t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices),t.vertexAttribPointer(n.aVertexPosition,2,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,this._uvBuffer),t.vertexAttribPointer(n.aTextureCoord,2,t.FLOAT,!1,0,0),t.activeTexture(t.TEXTURE0),this.texture.baseTexture._dirty[t.id]?e.renderer.updateTexture(this.texture.baseTexture):t.bindTexture(t.TEXTURE_2D,this.texture.baseTexture._glTextures[t.id]),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._indexBuffer)),t.drawElements(o,this.indices.length,t.UNSIGNED_SHORT,0)},i.Strip.prototype._renderCanvas=function(e){var t=e.context,r=this.worldTransform;e.roundPixels?t.setTransform(r.a,r.b,r.c,r.d,0|r.tx,0|r.ty):t.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),this.drawMode===i.Strip.DrawModes.TRIANGLE_STRIP?this._renderCanvasTriangleStrip(t):this._renderCanvasTriangles(t)},i.Strip.prototype._renderCanvasTriangleStrip=function(e){var t=this.vertices,r=this.uvs,i=t.length/2;this.count++;for(var a=0;i-2>a;a++){var n=2*a;this._renderCanvasDrawTriangle(e,t,r,n,n+2,n+4)}},i.Strip.prototype._renderCanvasTriangles=function(e){var t=this.vertices,r=this.uvs,i=this.indices,a=i.length;this.count++;for(var n=0;a>n;n+=3){var o=2*i[n],s=2*i[n+1],d=2*i[n+2];this._renderCanvasDrawTriangle(e,t,r,o,s,d)}},i.Strip.prototype._renderCanvasDrawTriangle=function(e,t,r,i,a,n){var o=this.texture.baseTexture.source,s=this.texture.width,d=this.texture.height,c=t[i],h=t[a],l=t[n],f=t[i+1],u=t[a+1],p=t[n+1],b=r[i]*s,y=r[a]*s,v=r[n]*s,g=r[i+1]*d,m=r[a+1]*d,x=r[n+1]*d;if(this.canvasPadding>0){var _=this.canvasPadding/this.worldTransform.a,w=this.canvasPadding/this.worldTransform.d,T=(c+h+l)/3,S=(f+u+p)/3,A=c-T,C=f-S,E=Math.sqrt(A*A+C*C);c=T+A/E*(E+_),f=S+C/E*(E+w),A=h-T,C=u-S,E=Math.sqrt(A*A+C*C),h=T+A/E*(E+_),u=S+C/E*(E+w),A=l-T,C=p-S,E=Math.sqrt(A*A+C*C),l=T+A/E*(E+_),p=S+C/E*(E+w)}e.save(),e.beginPath(),e.moveTo(c,f),e.lineTo(h,u),e.lineTo(l,p),e.closePath(),e.clip();var M=b*m+g*v+y*x-m*v-g*y-b*x,R=c*m+g*l+h*x-m*l-g*h-c*x,$=b*h+c*v+y*l-h*v-c*y-b*l,B=b*m*l+g*h*v+c*y*x-c*m*v-g*y*l-b*h*x,L=f*m+g*p+u*x-m*p-g*u-f*x,I=b*u+f*v+y*p-u*v-f*y-b*p,j=b*m*p+g*u*v+f*y*x-f*m*v-g*y*p-b*u*x;e.transform(R/M,L/M,$/M,I/M,B/M,j/M),e.drawImage(o,0,0),e.restore()},i.Strip.prototype.renderStripFlat=function(e){var t=this.context,r=e.vertices,i=r.length/2;this.count++,t.beginPath();for(var a=1;i-2>a;a++){var n=2*a,o=r[n],s=r[n+2],d=r[n+4],c=r[n+1],h=r[n+3],l=r[n+5];t.moveTo(o,c),t.lineTo(s,h),t.lineTo(d,l)}t.fillStyle="#FF0000",t.fill(),t.closePath()},i.Strip.prototype.onTextureUpdate=function(){this.updateFrame=!0},i.Strip.prototype.getBounds=function(e){for(var t=e||this.worldTransform,r=t.a,a=t.b,n=t.c,o=t.d,s=t.tx,d=t.ty,c=-1/0,h=-1/0,l=1/0,f=1/0,u=this.vertices,p=0,b=u.length;b>p;p+=2){var y=u[p],v=u[p+1],g=r*y+n*v+s,m=o*v+a*y+d;l=l>g?g:l,f=f>m?m:f,c=g>c?g:c,h=m>h?m:h}if(l===-1/0||1/0===h)return i.EmptyRectangle;var x=this._bounds;return x.x=l,x.width=c-l,x.y=f,x.height=h-f,this._currentBounds=x,x},i.Strip.DrawModes={TRIANGLE_STRIP:0,TRIANGLES:1},i.Rope=function(e,t){i.Strip.call(this,e),this.points=t,this.vertices=new i.Float32Array(4*t.length),this.uvs=new i.Float32Array(4*t.length),this.colors=new i.Float32Array(2*t.length),this.indices=new i.Uint16Array(2*t.length),this.refresh()},i.Rope.prototype=Object.create(i.Strip.prototype),i.Rope.prototype.constructor=i.Rope,i.Rope.prototype.refresh=function(){var e=this.points;if(!(e.length<1)){var t=this.uvs,r=e[0],i=this.indices,a=this.colors;this.count-=.2,t[0]=0,t[1]=0,t[2]=0,t[3]=1,a[0]=1,a[1]=1,i[0]=0,i[1]=1;for(var n,o,s,d=e.length,c=1;d>c;c++)n=e[c],o=4*c,s=c/(d-1),c%2?(t[o]=s,t[o+1]=0,t[o+2]=s,t[o+3]=1):(t[o]=s,t[o+1]=0,t[o+2]=s,t[o+3]=1),o=2*c,a[o]=1,a[o+1]=1,o=2*c,i[o]=o,i[o+1]=o+1,r=n}},i.Rope.prototype.updateTransform=function(){var e=this.points;if(!(e.length<1)){var t,r=e[0],a={x:0,y:0};this.count-=.2;for(var n,o,s,d,c,h=this.vertices,l=e.length,f=0;l>f;f++)n=e[f],o=4*f,t=f<e.length-1?e[f+1]:n,a.y=-(t.x-r.x),a.x=t.y-r.y,s=10*(1-f/(l-1)),s>1&&(s=1),d=Math.sqrt(a.x*a.x+a.y*a.y),c=this.texture.height/2,a.x/=d,a.y/=d,a.x*=c,a.y*=c,h[o]=n.x+a.x,h[o+1]=n.y+a.y,h[o+2]=n.x-a.x,h[o+3]=n.y-a.y,r=n;i.DisplayObjectContainer.prototype.updateTransform.call(this)}},i.Rope.prototype.setTexture=function(e){this.texture=e},i.TilingSprite=function(e,t,r){i.Sprite.call(this,e),this._width=t||100,this._height=r||100,this.tileScale=new i.Point(1,1),this.tileScaleOffset=new i.Point(1,1),this.tilePosition=new i.Point(0,0),this.renderable=!0,this.tint=16777215,this.blendMode=i.blendModes.NORMAL
},i.TilingSprite.prototype=Object.create(i.Sprite.prototype),i.TilingSprite.prototype.constructor=i.TilingSprite,Object.defineProperty(i.TilingSprite.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e}}),Object.defineProperty(i.TilingSprite.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e}}),i.TilingSprite.prototype.setTexture=function(e){this.texture!==e&&(this.texture=e,this.refreshTexture=!0,this.cachedTint=16777215)},i.TilingSprite.prototype._renderWebGL=function(e){if(this.visible!==!1&&0!==this.alpha){var t,r;for(this._mask&&(e.spriteBatch.stop(),e.maskManager.pushMask(this.mask,e),e.spriteBatch.start()),this._filters&&(e.spriteBatch.flush(),e.filterManager.pushFilter(this._filterBlock)),!this.tilingTexture||this.refreshTexture?(this.generateTilingTexture(!0),this.tilingTexture&&this.tilingTexture.needsUpdate&&(i.updateWebGLTexture(this.tilingTexture.baseTexture,e.gl),this.tilingTexture.needsUpdate=!1)):e.spriteBatch.renderTilingSprite(this),t=0,r=this.children.length;r>t;t++)this.children[t]._renderWebGL(e);e.spriteBatch.stop(),this._filters&&e.filterManager.popFilter(),this._mask&&e.maskManager.popMask(this._mask,e),e.spriteBatch.start()}},i.TilingSprite.prototype._renderCanvas=function(e){if(this.visible!==!1&&0!==this.alpha){var t=e.context;this._mask&&e.maskManager.pushMask(this._mask,t),t.globalAlpha=this.worldAlpha;var r,a,n=this.worldTransform,o=e.resolution;if(t.setTransform(n.a*o,n.b*o,n.c*o,n.d*o,n.tx*o,n.ty*o),!this.__tilePattern||this.refreshTexture){if(this.generateTilingTexture(!1),!this.tilingTexture)return;this.__tilePattern=t.createPattern(this.tilingTexture.baseTexture.source,"repeat")}this.blendMode!==e.currentBlendMode&&(e.currentBlendMode=this.blendMode,t.globalCompositeOperation=i.blendModesCanvas[e.currentBlendMode]);var s=this.tilePosition,d=this.tileScale;for(s.x%=this.tilingTexture.baseTexture.width,s.y%=this.tilingTexture.baseTexture.height,t.scale(d.x,d.y),t.translate(s.x+this.anchor.x*-this._width,s.y+this.anchor.y*-this._height),t.fillStyle=this.__tilePattern,t.fillRect(-s.x,-s.y,this._width/d.x,this._height/d.y),t.scale(1/d.x,1/d.y),t.translate(-s.x+this.anchor.x*this._width,-s.y+this.anchor.y*this._height),this._mask&&e.maskManager.popMask(e.context),r=0,a=this.children.length;a>r;r++)this.children[r]._renderCanvas(e)}},i.TilingSprite.prototype.getBounds=function(){var e=this._width,t=this._height,r=e*(1-this.anchor.x),i=e*-this.anchor.x,a=t*(1-this.anchor.y),n=t*-this.anchor.y,o=this.worldTransform,s=o.a,d=o.b,c=o.c,h=o.d,l=o.tx,f=o.ty,u=s*i+c*n+l,p=h*n+d*i+f,b=s*r+c*n+l,y=h*n+d*r+f,v=s*r+c*a+l,g=h*a+d*r+f,m=s*i+c*a+l,x=h*a+d*i+f,_=-1/0,w=-1/0,T=1/0,S=1/0;T=T>u?u:T,T=T>b?b:T,T=T>v?v:T,T=T>m?m:T,S=S>p?p:S,S=S>y?y:S,S=S>g?g:S,S=S>x?x:S,_=u>_?u:_,_=b>_?b:_,_=v>_?v:_,_=m>_?m:_,w=p>w?p:w,w=y>w?y:w,w=g>w?g:w,w=x>w?x:w;var A=this._bounds;return A.x=T,A.width=_-T,A.y=S,A.height=w-S,this._currentBounds=A,A},i.TilingSprite.prototype.onTextureUpdate=function(){},i.TilingSprite.prototype.generateTilingTexture=function(e){if(this.texture.baseTexture.hasLoaded){var t,r,a=this.originalTexture||this.texture,n=a.frame,o=n.width!==a.baseTexture.width||n.height!==a.baseTexture.height,s=!1;if(e?(t=i.getNextPowerOfTwo(n.width),r=i.getNextPowerOfTwo(n.height),(n.width!==t||n.height!==r||a.baseTexture.width!==t||a.baseTexture.height||r)&&(s=!0)):o&&(t=n.width,r=n.height,s=!0),s){var d;this.tilingTexture&&this.tilingTexture.isTiling?(d=this.tilingTexture.canvasBuffer,d.resize(t,r),this.tilingTexture.baseTexture.width=t,this.tilingTexture.baseTexture.height=r,this.tilingTexture.needsUpdate=!0):(d=new i.CanvasBuffer(t,r),this.tilingTexture=i.Texture.fromCanvas(d.canvas),this.tilingTexture.canvasBuffer=d,this.tilingTexture.isTiling=!0),d.context.drawImage(a.baseTexture.source,a.crop.x,a.crop.y,a.crop.width,a.crop.height,0,0,t,r),this.tileScaleOffset.x=n.width/t,this.tileScaleOffset.y=n.height/r}else this.tilingTexture&&this.tilingTexture.isTiling&&this.tilingTexture.destroy(!0),this.tileScaleOffset.x=1,this.tileScaleOffset.y=1,this.tilingTexture=a;this.refreshTexture=!1,this.originalTexture=this.texture,this.texture=this.tilingTexture,this.tilingTexture.baseTexture._powerOf2=!0}};var a={radDeg:180/Math.PI,degRad:Math.PI/180,temp:[],Float32Array:"undefined"==typeof Float32Array?Array:Float32Array,Uint16Array:"undefined"==typeof Uint16Array?Array:Uint16Array};a.BoneData=function(e,t){this.name=e,this.parent=t},a.BoneData.prototype={length:0,x:0,y:0,rotation:0,scaleX:1,scaleY:1,inheritScale:!0,inheritRotation:!0,flipX:!1,flipY:!1},a.SlotData=function(e,t){this.name=e,this.boneData=t},a.SlotData.prototype={r:1,g:1,b:1,a:1,attachmentName:null,additiveBlending:!1},a.IkConstraintData=function(e){this.name=e,this.bones=[]},a.IkConstraintData.prototype={target:null,bendDirection:1,mix:1},a.Bone=function(e,t,r){this.data=e,this.skeleton=t,this.parent=r,this.setToSetupPose()},a.Bone.yDown=!1,a.Bone.prototype={x:0,y:0,rotation:0,rotationIK:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,m00:0,m01:0,worldX:0,m10:0,m11:0,worldY:0,worldRotation:0,worldScaleX:1,worldScaleY:1,worldFlipX:!1,worldFlipY:!1,updateWorldTransform:function(){var e=this.parent;if(e)this.worldX=this.x*e.m00+this.y*e.m01+e.worldX,this.worldY=this.x*e.m10+this.y*e.m11+e.worldY,this.data.inheritScale?(this.worldScaleX=e.worldScaleX*this.scaleX,this.worldScaleY=e.worldScaleY*this.scaleY):(this.worldScaleX=this.scaleX,this.worldScaleY=this.scaleY),this.worldRotation=this.data.inheritRotation?e.worldRotation+this.rotationIK:this.rotationIK,this.worldFlipX=e.worldFlipX!=this.flipX,this.worldFlipY=e.worldFlipY!=this.flipY;else{var t=this.skeleton.flipX,r=this.skeleton.flipY;this.worldX=t?-this.x:this.x,this.worldY=r!=a.Bone.yDown?-this.y:this.y,this.worldScaleX=this.scaleX,this.worldScaleY=this.scaleY,this.worldRotation=this.rotationIK,this.worldFlipX=t!=this.flipX,this.worldFlipY=r!=this.flipY}var i=this.worldRotation*a.degRad,n=Math.cos(i),o=Math.sin(i);this.worldFlipX?(this.m00=-n*this.worldScaleX,this.m01=o*this.worldScaleY):(this.m00=n*this.worldScaleX,this.m01=-o*this.worldScaleY),this.worldFlipY!=a.Bone.yDown?(this.m10=-o*this.worldScaleX,this.m11=-n*this.worldScaleY):(this.m10=o*this.worldScaleX,this.m11=n*this.worldScaleY)},setToSetupPose:function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.rotationIK=this.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.flipX=e.flipX,this.flipY=e.flipY},worldToLocal:function(e){var t=e[0]-this.worldX,r=e[1]-this.worldY,i=this.m00,n=this.m10,o=this.m01,s=this.m11;this.worldFlipX!=(this.worldFlipY!=a.Bone.yDown)&&(i=-i,s=-s);var d=1/(i*s-o*n);e[0]=t*i*d-r*o*d,e[1]=r*s*d-t*n*d},localToWorld:function(e){var t=e[0],r=e[1];e[0]=t*this.m00+r*this.m01+this.worldX,e[1]=t*this.m10+r*this.m11+this.worldY}},a.Slot=function(e,t){this.data=e,this.bone=t,this.setToSetupPose()},a.Slot.prototype={r:1,g:1,b:1,a:1,_attachmentTime:0,attachment:null,attachmentVertices:[],setAttachment:function(e){this.attachment=e,this._attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0},setAttachmentTime:function(e){this._attachmentTime=this.bone.skeleton.time-e},getAttachmentTime:function(){return this.bone.skeleton.time-this._attachmentTime},setToSetupPose:function(){var e=this.data;this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a;for(var t=this.bone.skeleton.data.slots,r=0,i=t.length;i>r;r++)if(t[r]==e){this.setAttachment(e.attachmentName?this.bone.skeleton.getAttachmentBySlotIndex(r,e.attachmentName):null);break}}},a.IkConstraint=function(e,t){this.data=e,this.mix=e.mix,this.bendDirection=e.bendDirection,this.bones=[];for(var r=0,i=e.bones.length;i>r;r++)this.bones.push(t.findBone(e.bones[r].name));this.target=t.findBone(e.target.name)},a.IkConstraint.prototype={apply:function(){var e=this.target,t=this.bones;switch(t.length){case 1:a.IkConstraint.apply1(t[0],e.worldX,e.worldY,this.mix);break;case 2:a.IkConstraint.apply2(t[0],t[1],e.worldX,e.worldY,this.bendDirection,this.mix)}}},a.IkConstraint.apply1=function(e,t,r,i){var n=e.data.inheritRotation&&e.parent?e.parent.worldRotation:0,o=e.rotation,s=Math.atan2(r-e.worldY,t-e.worldX)*a.radDeg-n;e.rotationIK=o+(s-o)*i},a.IkConstraint.apply2=function(e,t,r,i,n,o){var s=t.rotation,d=e.rotation;if(!o)return t.rotationIK=s,e.rotationIK=d,void 0;var c,h,l=a.temp,f=e.parent;f?(l[0]=r,l[1]=i,f.worldToLocal(l),r=(l[0]-e.x)*f.worldScaleX,i=(l[1]-e.y)*f.worldScaleY):(r-=e.x,i-=e.y),t.parent==e?(c=t.x,h=t.y):(l[0]=t.x,l[1]=t.y,t.parent.localToWorld(l),e.worldToLocal(l),c=l[0],h=l[1]);var u=c*e.worldScaleX,p=h*e.worldScaleY,b=Math.atan2(p,u),y=Math.sqrt(u*u+p*p),v=t.data.length*t.worldScaleX,g=2*y*v;if(1e-4>g)return t.rotationIK=s+(Math.atan2(i,r)*a.radDeg-d-s)*o,void 0;var m=(r*r+i*i-y*y-v*v)/g;-1>m?m=-1:m>1&&(m=1);var x=Math.acos(m)*n,_=y+v*m,w=v*Math.sin(x),T=Math.atan2(i*_-r*w,r*_+i*w),S=(T-b)*a.radDeg-d;S>180?S-=360:-180>S&&(S+=360),e.rotationIK=d+S*o,S=(x+b)*a.radDeg-s,S>180?S-=360:-180>S&&(S+=360),t.rotationIK=s+(S+e.worldRotation-t.parent.worldRotation)*o},a.Skin=function(e){this.name=e,this.attachments={}},a.Skin.prototype={addAttachment:function(e,t,r){this.attachments[e+":"+t]=r},getAttachment:function(e,t){return this.attachments[e+":"+t]},_attachAll:function(e,t){for(var r in t.attachments){var i=r.indexOf(":"),a=parseInt(r.substring(0,i)),n=r.substring(i+1),o=e.slots[a];if(o.attachment&&o.attachment.name==n){var s=this.getAttachment(a,n);s&&o.setAttachment(s)}}}},a.Animation=function(e,t,r){this.name=e,this.timelines=t,this.duration=r},a.Animation.prototype={apply:function(e,t,r,i,a){i&&0!=this.duration&&(r%=this.duration,t%=this.duration);for(var n=this.timelines,o=0,s=n.length;s>o;o++)n[o].apply(e,t,r,a,1)},mix:function(e,t,r,i,a,n){i&&0!=this.duration&&(r%=this.duration,t%=this.duration);for(var o=this.timelines,s=0,d=o.length;d>s;s++)o[s].apply(e,t,r,a,n)}},a.Animation.binarySearch=function(e,t,r){var i=0,a=Math.floor(e.length/r)-2;if(!a)return r;for(var n=a>>>1;;){if(e[(n+1)*r]<=t?i=n+1:a=n,i==a)return(i+1)*r;n=i+a>>>1}},a.Animation.binarySearch1=function(e,t){var r=0,i=e.length-2;if(!i)return 1;for(var a=i>>>1;;){if(e[a+1]<=t?r=a+1:i=a,r==i)return r+1;a=r+i>>>1}},a.Animation.linearSearch=function(e,t,r){for(var i=0,a=e.length-r;a>=i;i+=r)if(e[i]>t)return i;return-1},a.Curves=function(){this.curves=[]},a.Curves.prototype={setLinear:function(e){this.curves[19*e]=0},setStepped:function(e){this.curves[19*e]=1},setCurve:function(e,t,r,i,a){var n=.1,o=n*n,s=o*n,d=3*n,c=3*o,h=6*o,l=6*s,f=2*-t+i,u=2*-r+a,p=3*(t-i)+1,b=3*(r-a)+1,y=t*d+f*c+p*s,v=r*d+u*c+b*s,g=f*h+p*l,m=u*h+b*l,x=p*l,_=b*l,w=19*e,T=this.curves;T[w++]=2;for(var S=y,A=v,C=w+19-1;C>w;w+=2)T[w]=S,T[w+1]=A,y+=g,v+=m,g+=x,m+=_,S+=y,A+=v},getCurvePercent:function(e,t){t=0>t?0:t>1?1:t;var r=this.curves,i=19*e,a=r[i];if(0===a)return t;if(1==a)return 0;i++;for(var n=0,o=i,s=i+19-1;s>i;i+=2)if(n=r[i],n>=t){var d,c;return i==o?(d=0,c=0):(d=r[i-2],c=r[i-1]),c+(r[i+1]-c)*(t-d)/(n-d)}var h=r[i-1];return h+(1-h)*(t-n)/(1-n)}},a.RotateTimeline=function(e){this.curves=new a.Curves(e),this.frames=[],this.frames.length=2*e},a.RotateTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/2},setFrame:function(e,t,r){e*=2,this.frames[e]=t,this.frames[e+1]=r},apply:function(e,t,r,i,n){var o=this.frames;if(!(r<o[0])){var s=e.bones[this.boneIndex];if(r>=o[o.length-2]){for(var d=s.data.rotation+o[o.length-1]-s.rotation;d>180;)d-=360;for(;-180>d;)d+=360;return s.rotation+=d*n,void 0}var c=a.Animation.binarySearch(o,r,2),h=o[c-1],l=o[c],f=1-(r-l)/(o[c-2]-l);f=this.curves.getCurvePercent(c/2-1,f);for(var d=o[c+1]-h;d>180;)d-=360;for(;-180>d;)d+=360;for(d=s.data.rotation+(h+d*f)-s.rotation;d>180;)d-=360;for(;-180>d;)d+=360;s.rotation+=d*n}}},a.TranslateTimeline=function(e){this.curves=new a.Curves(e),this.frames=[],this.frames.length=3*e},a.TranslateTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(e,t,r,i){e*=3,this.frames[e]=t,this.frames[e+1]=r,this.frames[e+2]=i},apply:function(e,t,r,i,n){var o=this.frames;if(!(r<o[0])){var s=e.bones[this.boneIndex];if(r>=o[o.length-3])return s.x+=(s.data.x+o[o.length-2]-s.x)*n,s.y+=(s.data.y+o[o.length-1]-s.y)*n,void 0;var d=a.Animation.binarySearch(o,r,3),c=o[d-2],h=o[d-1],l=o[d],f=1-(r-l)/(o[d+-3]-l);f=this.curves.getCurvePercent(d/3-1,f),s.x+=(s.data.x+c+(o[d+1]-c)*f-s.x)*n,s.y+=(s.data.y+h+(o[d+2]-h)*f-s.y)*n}}},a.ScaleTimeline=function(e){this.curves=new a.Curves(e),this.frames=[],this.frames.length=3*e},a.ScaleTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(e,t,r,i){e*=3,this.frames[e]=t,this.frames[e+1]=r,this.frames[e+2]=i},apply:function(e,t,r,i,n){var o=this.frames;if(!(r<o[0])){var s=e.bones[this.boneIndex];if(r>=o[o.length-3])return s.scaleX+=(s.data.scaleX*o[o.length-2]-s.scaleX)*n,s.scaleY+=(s.data.scaleY*o[o.length-1]-s.scaleY)*n,void 0;var d=a.Animation.binarySearch(o,r,3),c=o[d-2],h=o[d-1],l=o[d],f=1-(r-l)/(o[d+-3]-l);f=this.curves.getCurvePercent(d/3-1,f),s.scaleX+=(s.data.scaleX*(c+(o[d+1]-c)*f)-s.scaleX)*n,s.scaleY+=(s.data.scaleY*(h+(o[d+2]-h)*f)-s.scaleY)*n}}},a.ColorTimeline=function(e){this.curves=new a.Curves(e),this.frames=[],this.frames.length=5*e},a.ColorTimeline.prototype={slotIndex:0,getFrameCount:function(){return this.frames.length/5},setFrame:function(e,t,r,i,a,n){e*=5,this.frames[e]=t,this.frames[e+1]=r,this.frames[e+2]=i,this.frames[e+3]=a,this.frames[e+4]=n},apply:function(e,t,r,i,n){var o=this.frames;if(!(r<o[0])){var s,d,c,h;if(r>=o[o.length-5]){var l=o.length-1;s=o[l-3],d=o[l-2],c=o[l-1],h=o[l]}else{var f=a.Animation.binarySearch(o,r,5),u=o[f-4],p=o[f-3],b=o[f-2],y=o[f-1],v=o[f],g=1-(r-v)/(o[f-5]-v);g=this.curves.getCurvePercent(f/5-1,g),s=u+(o[f+1]-u)*g,d=p+(o[f+2]-p)*g,c=b+(o[f+3]-b)*g,h=y+(o[f+4]-y)*g}var m=e.slots[this.slotIndex];1>n?(m.r+=(s-m.r)*n,m.g+=(d-m.g)*n,m.b+=(c-m.b)*n,m.a+=(h-m.a)*n):(m.r=s,m.g=d,m.b=c,m.a=h)}}},a.AttachmentTimeline=function(e){this.curves=new a.Curves(e),this.frames=[],this.frames.length=e,this.attachmentNames=[],this.attachmentNames.length=e},a.AttachmentTimeline.prototype={slotIndex:0,getFrameCount:function(){return this.frames.length},setFrame:function(e,t,r){this.frames[e]=t,this.attachmentNames[e]=r},apply:function(e,t,r){var i=this.frames;if(r<i[0])return t>r&&this.apply(e,t,Number.MAX_VALUE,null,0),void 0;t>r&&(t=-1);var n=r>=i[i.length-1]?i.length-1:a.Animation.binarySearch1(i,r)-1;if(!(i[n]<t)){var o=this.attachmentNames[n];e.slots[this.slotIndex].setAttachment(o?e.getAttachmentBySlotIndex(this.slotIndex,o):null)}}},a.EventTimeline=function(e){this.frames=[],this.frames.length=e,this.events=[],this.events.length=e},a.EventTimeline.prototype={getFrameCount:function(){return this.frames.length},setFrame:function(e,t,r){this.frames[e]=t,this.events[e]=r},apply:function(e,t,r,i,n){if(i){var o=this.frames,s=o.length;if(t>r)this.apply(e,t,Number.MAX_VALUE,i,n),t=-1;else if(t>=o[s-1])return;if(!(r<o[0])){var d;if(t<o[0])d=0;else{d=a.Animation.binarySearch1(o,t);for(var c=o[d];d>0&&o[d-1]==c;)d--}for(var h=this.events;s>d&&r>=o[d];d++)i.push(h[d])}}}},a.DrawOrderTimeline=function(e){this.frames=[],this.frames.length=e,this.drawOrders=[],this.drawOrders.length=e},a.DrawOrderTimeline.prototype={getFrameCount:function(){return this.frames.length},setFrame:function(e,t,r){this.frames[e]=t,this.drawOrders[e]=r},apply:function(e,t,r){var i=this.frames;if(!(r<i[0])){var n;n=r>=i[i.length-1]?i.length-1:a.Animation.binarySearch1(i,r)-1;var o=e.drawOrder,s=e.slots,d=this.drawOrders[n];if(d)for(var c=0,h=d.length;h>c;c++)o[c]=e.slots[d[c]];else for(var c=0,h=s.length;h>c;c++)o[c]=s[c]}}},a.FfdTimeline=function(e){this.curves=new a.Curves(e),this.frames=[],this.frames.length=e,this.frameVertices=[],this.frameVertices.length=e},a.FfdTimeline.prototype={slotIndex:0,attachment:0,getFrameCount:function(){return this.frames.length},setFrame:function(e,t,r){this.frames[e]=t,this.frameVertices[e]=r},apply:function(e,t,r,i,n){var o=e.slots[this.slotIndex];if(o.attachment==this.attachment){var s=this.frames;if(!(r<s[0])){var d=this.frameVertices,c=d[0].length,h=o.attachmentVertices;if(h.length!=c&&(n=1),h.length=c,r>=s[s.length-1]){var l=d[s.length-1];if(1>n)for(var f=0;c>f;f++)h[f]+=(l[f]-h[f])*n;else for(var f=0;c>f;f++)h[f]=l[f]}else{var u=a.Animation.binarySearch1(s,r),p=s[u],b=1-(r-p)/(s[u-1]-p);b=this.curves.getCurvePercent(u-1,0>b?0:b>1?1:b);var y=d[u-1],v=d[u];if(1>n)for(var f=0;c>f;f++){var g=y[f];h[f]+=(g+(v[f]-g)*b-h[f])*n}else for(var f=0;c>f;f++){var g=y[f];h[f]=g+(v[f]-g)*b}}}}}},a.IkConstraintTimeline=function(e){this.curves=new a.Curves(e),this.frames=[],this.frames.length=3*e},a.IkConstraintTimeline.prototype={ikConstraintIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(e,t,r,i){e*=3,this.frames[e]=t,this.frames[e+1]=r,this.frames[e+2]=i},apply:function(e,t,r,i,n){var o=this.frames;if(!(r<o[0])){var s=e.ikConstraints[this.ikConstraintIndex];if(r>=o[o.length-3])return s.mix+=(o[o.length-2]-s.mix)*n,s.bendDirection=o[o.length-1],void 0;var d=a.Animation.binarySearch(o,r,3),c=o[d+-2],h=o[d],l=1-(r-h)/(o[d+-3]-h);l=this.curves.getCurvePercent(d/3-1,l);var f=c+(o[d+1]-c)*l;s.mix+=(f-s.mix)*n,s.bendDirection=o[d+-1]}}},a.FlipXTimeline=function(e){this.curves=new a.Curves(e),this.frames=[],this.frames.length=2*e},a.FlipXTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/2},setFrame:function(e,t,r){e*=2,this.frames[e]=t,this.frames[e+1]=r?1:0},apply:function(e,t,r){var i=this.frames;if(r<i[0])return t>r&&this.apply(e,t,Number.MAX_VALUE,null,0),void 0;t>r&&(t=-1);var n=(r>=i[i.length-2]?i.length:a.Animation.binarySearch(i,r,2))-2;i[n]<t||(e.bones[boneIndex].flipX=0!=i[n+1])}},a.FlipYTimeline=function(e){this.curves=new a.Curves(e),this.frames=[],this.frames.length=2*e},a.FlipYTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/2},setFrame:function(e,t,r){e*=2,this.frames[e]=t,this.frames[e+1]=r?1:0},apply:function(e,t,r){var i=this.frames;if(r<i[0])return t>r&&this.apply(e,t,Number.MAX_VALUE,null,0),void 0;t>r&&(t=-1);var n=(r>=i[i.length-2]?i.length:a.Animation.binarySearch(i,r,2))-2;i[n]<t||(e.bones[boneIndex].flipY=0!=i[n+1])}},a.SkeletonData=function(){this.bones=[],this.slots=[],this.skins=[],this.events=[],this.animations=[],this.ikConstraints=[]},a.SkeletonData.prototype={name:null,defaultSkin:null,width:0,height:0,version:null,hash:null,findBone:function(e){for(var t=this.bones,r=0,i=t.length;i>r;r++)if(t[r].name==e)return t[r];return null},findBoneIndex:function(e){for(var t=this.bones,r=0,i=t.length;i>r;r++)if(t[r].name==e)return r;return-1},findSlot:function(e){for(var t=this.slots,r=0,i=t.length;i>r;r++)if(t[r].name==e)return slot[r];return null},findSlotIndex:function(e){for(var t=this.slots,r=0,i=t.length;i>r;r++)if(t[r].name==e)return r;return-1},findSkin:function(e){for(var t=this.skins,r=0,i=t.length;i>r;r++)if(t[r].name==e)return t[r];return null},findEvent:function(e){for(var t=this.events,r=0,i=t.length;i>r;r++)if(t[r].name==e)return t[r];return null},findAnimation:function(e){for(var t=this.animations,r=0,i=t.length;i>r;r++)if(t[r].name==e)return t[r];return null},findIkConstraint:function(e){for(var t=this.ikConstraints,r=0,i=t.length;i>r;r++)if(t[r].name==e)return t[r];return null}},a.Skeleton=function(e){this.data=e,this.bones=[];for(var t=0,r=e.bones.length;r>t;t++){var i=e.bones[t],n=i.parent?this.bones[e.bones.indexOf(i.parent)]:null;this.bones.push(new a.Bone(i,this,n))}this.slots=[],this.drawOrder=[];for(var t=0,r=e.slots.length;r>t;t++){var o=e.slots[t],s=this.bones[e.bones.indexOf(o.boneData)],d=new a.Slot(o,s);this.slots.push(d),this.drawOrder.push(d)}this.ikConstraints=[];for(var t=0,r=e.ikConstraints.length;r>t;t++)this.ikConstraints.push(new a.IkConstraint(e.ikConstraints[t],this));this.boneCache=[],this.updateCache()},a.Skeleton.prototype={x:0,y:0,skin:null,r:1,g:1,b:1,a:1,time:0,flipX:!1,flipY:!1,updateCache:function(){var e=this.ikConstraints,t=e.length,r=t+1,i=this.boneCache;i.length>r&&(i.length=r);for(var a=0,n=i.length;n>a;a++)i[a].length=0;for(;i.length<r;)i[i.length]=[];var o=i[0],s=this.bones;e:for(var a=0,n=s.length;n>a;a++){var d=s[a],c=d;do{for(var h=0;t>h;h++)for(var l=e[h],f=l.bones[0],u=l.bones[l.bones.length-1];;){if(c==u){i[h].push(d),i[h+1].push(d);continue e}if(u==f)break;u=u.parent}c=c.parent}while(c);o[o.length]=d}},updateWorldTransform:function(){for(var e=this.bones,t=0,r=e.length;r>t;t++){var i=e[t];i.rotationIK=i.rotation}for(var t=0,a=this.boneCache.length-1;;){for(var n=this.boneCache[t],o=0,s=n.length;s>o;o++)n[o].updateWorldTransform();if(t==a)break;this.ikConstraints[t].apply(),t++}},setToSetupPose:function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},setBonesToSetupPose:function(){for(var e=this.bones,t=0,r=e.length;r>t;t++)e[t].setToSetupPose();for(var i=this.ikConstraints,t=0,r=i.length;r>t;t++){var a=i[t];a.bendDirection=a.data.bendDirection,a.mix=a.data.mix}},setSlotsToSetupPose:function(){for(var e=this.slots,t=this.drawOrder,r=0,i=e.length;i>r;r++)t[r]=e[r],e[r].setToSetupPose(r)},getRootBone:function(){return this.bones.length?this.bones[0]:null},findBone:function(e){for(var t=this.bones,r=0,i=t.length;i>r;r++)if(t[r].data.name==e)return t[r];return null},findBoneIndex:function(e){for(var t=this.bones,r=0,i=t.length;i>r;r++)if(t[r].data.name==e)return r;return-1},findSlot:function(e){for(var t=this.slots,r=0,i=t.length;i>r;r++)if(t[r].data.name==e)return t[r];return null},findSlotIndex:function(e){for(var t=this.slots,r=0,i=t.length;i>r;r++)if(t[r].data.name==e)return r;return-1},setSkinByName:function(e){var t=this.data.findSkin(e);if(!t)throw"Skin not found: "+e;this.setSkin(t)},setSkin:function(e){if(e)if(this.skin)e._attachAll(this,this.skin);else for(var t=this.slots,r=0,i=t.length;i>r;r++){var a=t[r],n=a.data.attachmentName;if(n){var o=e.getAttachment(r,n);o&&a.setAttachment(o)}}this.skin=e},getAttachmentBySlotName:function(e,t){return this.getAttachmentBySlotIndex(this.data.findSlotIndex(e),t)},getAttachmentBySlotIndex:function(e,t){if(this.skin){var r=this.skin.getAttachment(e,t);if(r)return r}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,t):null},setAttachment:function(e,t){for(var r=this.slots,i=0,a=r.length;a>i;i++){var n=r[i];if(n.data.name==e){var o=null;if(t&&(o=this.getAttachmentBySlotIndex(i,t),!o))throw"Attachment not found: "+t+", for slot: "+e;return n.setAttachment(o),void 0}}throw"Slot not found: "+e},findIkConstraint:function(e){for(var t=this.ikConstraints,r=0,i=t.length;i>r;r++)if(t[r].data.name==e)return t[r];return null},update:function(e){this.time+=e}},a.EventData=function(e){this.name=e},a.EventData.prototype={intValue:0,floatValue:0,stringValue:null},a.Event=function(e){this.data=e},a.Event.prototype={intValue:0,floatValue:0,stringValue:null},a.AttachmentType={region:0,boundingbox:1,mesh:2,skinnedmesh:3},a.RegionAttachment=function(e){this.name=e,this.offset=[],this.offset.length=8,this.uvs=[],this.uvs.length=8},a.RegionAttachment.prototype={type:a.AttachmentType.region,x:0,y:0,rotation:0,scaleX:1,scaleY:1,width:0,height:0,r:1,g:1,b:1,a:1,path:null,rendererObject:null,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,setUVs:function(e,t,r,i,a){var n=this.uvs;a?(n[2]=e,n[3]=i,n[4]=e,n[5]=t,n[6]=r,n[7]=t,n[0]=r,n[1]=i):(n[0]=e,n[1]=i,n[2]=e,n[3]=t,n[4]=r,n[5]=t,n[6]=r,n[7]=i)},updateOffset:function(){var e=this.width/this.regionOriginalWidth*this.scaleX,t=this.height/this.regionOriginalHeight*this.scaleY,r=-this.width/2*this.scaleX+this.regionOffsetX*e,i=-this.height/2*this.scaleY+this.regionOffsetY*t,n=r+this.regionWidth*e,o=i+this.regionHeight*t,s=this.rotation*a.degRad,d=Math.cos(s),c=Math.sin(s),h=r*d+this.x,l=r*c,f=i*d+this.y,u=i*c,p=n*d+this.x,b=n*c,y=o*d+this.y,v=o*c,g=this.offset;g[0]=h-u,g[1]=f+l,g[2]=h-v,g[3]=y+l,g[4]=p-v,g[5]=y+b,g[6]=p-u,g[7]=f+b},computeVertices:function(e,t,r,i){e+=r.worldX,t+=r.worldY;var a=r.m00,n=r.m01,o=r.m10,s=r.m11,d=this.offset;i[0]=d[0]*a+d[1]*n+e,i[1]=d[0]*o+d[1]*s+t,i[2]=d[2]*a+d[3]*n+e,i[3]=d[2]*o+d[3]*s+t,i[4]=d[4]*a+d[5]*n+e,i[5]=d[4]*o+d[5]*s+t,i[6]=d[6]*a+d[7]*n+e,i[7]=d[6]*o+d[7]*s+t}},a.MeshAttachment=function(e){this.name=e},a.MeshAttachment.prototype={type:a.AttachmentType.mesh,vertices:null,uvs:null,regionUVs:null,triangles:null,hullLength:0,r:1,g:1,b:1,a:1,path:null,rendererObject:null,regionU:0,regionV:0,regionU2:0,regionV2:0,regionRotate:!1,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,edges:null,width:0,height:0,updateUVs:function(){var e=this.regionU2-this.regionU,t=this.regionV2-this.regionV,r=this.regionUVs.length;if(this.uvs&&this.uvs.length==r||(this.uvs=new a.Float32Array(r)),this.regionRotate)for(var i=0;r>i;i+=2)this.uvs[i]=this.regionU+this.regionUVs[i+1]*e,this.uvs[i+1]=this.regionV+t-this.regionUVs[i]*t;else for(var i=0;r>i;i+=2)this.uvs[i]=this.regionU+this.regionUVs[i]*e,this.uvs[i+1]=this.regionV+this.regionUVs[i+1]*t},computeWorldVertices:function(e,t,r,i){var a=r.bone;e+=a.worldX,t+=a.worldY;var n=a.m00,o=a.m01,s=a.m10,d=a.m11,c=this.vertices,h=c.length;r.attachmentVertices.length==h&&(c=r.attachmentVertices);for(var l=0;h>l;l+=2){var f=c[l],u=c[l+1];i[l]=f*n+u*o+e,i[l+1]=f*s+u*d+t}}},a.SkinnedMeshAttachment=function(e){this.name=e},a.SkinnedMeshAttachment.prototype={type:a.AttachmentType.skinnedmesh,bones:null,weights:null,uvs:null,regionUVs:null,triangles:null,hullLength:0,r:1,g:1,b:1,a:1,path:null,rendererObject:null,regionU:0,regionV:0,regionU2:0,regionV2:0,regionRotate:!1,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,edges:null,width:0,height:0,updateUVs:function(){var e=this.regionU2-this.regionU,t=this.regionV2-this.regionV,r=this.regionUVs.length;if(this.uvs&&this.uvs.length==r||(this.uvs=new a.Float32Array(r)),this.regionRotate)for(var i=0;r>i;i+=2)this.uvs[i]=this.regionU+this.regionUVs[i+1]*e,this.uvs[i+1]=this.regionV+t-this.regionUVs[i]*t;else for(var i=0;r>i;i+=2)this.uvs[i]=this.regionU+this.regionUVs[i]*e,this.uvs[i+1]=this.regionV+this.regionUVs[i+1]*t},computeWorldVertices:function(e,t,r,i){var a,n,o,s,d,c,h,l=r.bone.skeleton.bones,f=this.weights,u=this.bones,p=0,b=0,y=0,v=0,g=u.length;if(r.attachmentVertices.length)for(var m=r.attachmentVertices;g>b;p+=2){for(n=0,o=0,a=u[b++]+b;a>b;b++,y+=3,v+=2)s=l[u[b]],d=f[y]+m[v],c=f[y+1]+m[v+1],h=f[y+2],n+=(d*s.m00+c*s.m01+s.worldX)*h,o+=(d*s.m10+c*s.m11+s.worldY)*h;i[p]=n+e,i[p+1]=o+t}else for(;g>b;p+=2){for(n=0,o=0,a=u[b++]+b;a>b;b++,y+=3)s=l[u[b]],d=f[y],c=f[y+1],h=f[y+2],n+=(d*s.m00+c*s.m01+s.worldX)*h,o+=(d*s.m10+c*s.m11+s.worldY)*h;i[p]=n+e,i[p+1]=o+t}}},a.BoundingBoxAttachment=function(e){this.name=e,this.vertices=[]},a.BoundingBoxAttachment.prototype={type:a.AttachmentType.boundingbox,computeWorldVertices:function(e,t,r,i){e+=r.worldX,t+=r.worldY;for(var a=r.m00,n=r.m01,o=r.m10,s=r.m11,d=this.vertices,c=0,h=d.length;h>c;c+=2){var l=d[c],f=d[c+1];i[c]=l*a+f*n+e,i[c+1]=l*o+f*s+t}}},a.AnimationStateData=function(e){this.skeletonData=e,this.animationToMixTime={}},a.AnimationStateData.prototype={defaultMix:0,setMixByName:function(e,t,r){var i=this.skeletonData.findAnimation(e);if(!i)throw"Animation not found: "+e;var a=this.skeletonData.findAnimation(t);if(!a)throw"Animation not found: "+t;this.setMix(i,a,r)},setMix:function(e,t,r){this.animationToMixTime[e.name+":"+t.name]=r},getMix:function(e,t){var r=e.name+":"+t.name;return this.animationToMixTime.hasOwnProperty(r)?this.animationToMixTime[r]:this.defaultMix}},a.TrackEntry=function(){},a.TrackEntry.prototype={next:null,previous:null,animation:null,loop:!1,delay:0,time:0,lastTime:-1,endTime:0,timeScale:1,mixTime:0,mixDuration:0,mix:1,onStart:null,onEnd:null,onComplete:null,onEvent:null},a.AnimationState=function(e){this.data=e,this.tracks=[],this.events=[]},a.AnimationState.prototype={onStart:null,onEnd:null,onComplete:null,onEvent:null,timeScale:1,update:function(e){e*=this.timeScale;for(var t=0;t<this.tracks.length;t++){var r=this.tracks[t];if(r){if(r.time+=e*r.timeScale,r.previous){var i=e*r.previous.timeScale;r.previous.time+=i,r.mixTime+=i}var a=r.next;a?(a.time=r.lastTime-a.delay,a.time>=0&&this.setCurrent(t,a)):!r.loop&&r.lastTime>=r.endTime&&this.clearTrack(t)}}},apply:function(e){for(var t=0;t<this.tracks.length;t++){var r=this.tracks[t];if(r){this.events.length=0;var i=r.time,a=r.lastTime,n=r.endTime,o=r.loop;!o&&i>n&&(i=n);var s=r.previous;if(s){var d=s.time;!s.loop&&d>s.endTime&&(d=s.endTime),s.animation.apply(e,d,d,s.loop,null);var c=r.mixTime/r.mixDuration*r.mix;c>=1&&(c=1,r.previous=null),r.animation.mix(e,r.lastTime,i,o,this.events,c)}else 1==r.mix?r.animation.apply(e,r.lastTime,i,o,this.events):r.animation.mix(e,r.lastTime,i,o,this.events,r.mix);for(var h=0,l=this.events.length;l>h;h++){var f=this.events[h];r.onEvent&&r.onEvent(t,f),this.onEvent&&this.onEvent(t,f)}if(o?a%n>i%n:n>a&&i>=n){var u=Math.floor(i/n);r.onComplete&&r.onComplete(t,u),this.onComplete&&this.onComplete(t,u)}r.lastTime=r.time}}},clearTracks:function(){for(var e=0,t=this.tracks.length;t>e;e++)this.clearTrack(e);this.tracks.length=0},clearTrack:function(e){if(!(e>=this.tracks.length)){var t=this.tracks[e];t&&(t.onEnd&&t.onEnd(e),this.onEnd&&this.onEnd(e),this.tracks[e]=null)}},_expandToIndex:function(e){if(e<this.tracks.length)return this.tracks[e];for(;e>=this.tracks.length;)this.tracks.push(null);return null},setCurrent:function(e,t){var r=this._expandToIndex(e);if(r){var i=r.previous;r.previous=null,r.onEnd&&r.onEnd(e),this.onEnd&&this.onEnd(e),t.mixDuration=this.data.getMix(r.animation,t.animation),t.mixDuration>0&&(t.mixTime=0,t.previous=i&&r.mixTime/r.mixDuration<.5?i:r)}this.tracks[e]=t,t.onStart&&t.onStart(e),this.onStart&&this.onStart(e)},setAnimationByName:function(e,t,r){var i=this.data.skeletonData.findAnimation(t);if(!i)throw"Animation not found: "+t;return this.setAnimation(e,i,r)},setAnimation:function(e,t,r){var i=new a.TrackEntry;return i.animation=t,i.loop=r,i.endTime=t.duration,this.setCurrent(e,i),i},addAnimationByName:function(e,t,r,i){var a=this.data.skeletonData.findAnimation(t);if(!a)throw"Animation not found: "+t;return this.addAnimation(e,a,r,i)},addAnimation:function(e,t,r,i){var n=new a.TrackEntry;n.animation=t,n.loop=r,n.endTime=t.duration;var o=this._expandToIndex(e);if(o){for(;o.next;)o=o.next;o.next=n}else this.tracks[e]=n;return 0>=i&&(o?i+=o.endTime-this.data.getMix(o.animation,t):i=0),n.delay=i,n},getCurrent:function(e){return e>=this.tracks.length?null:this.tracks[e]}},a.SkeletonJson=function(e){this.attachmentLoader=e},a.SkeletonJson.prototype={scale:1,readSkeletonData:function(e,t){var r=new a.SkeletonData;r.name=t;var i=e.skeleton;i&&(r.hash=i.hash,r.version=i.spine,r.width=i.width||0,r.height=i.height||0);for(var n=e.bones,o=0,s=n.length;s>o;o++){var d=n[o],c=null;if(d.parent&&(c=r.findBone(d.parent),!c))throw"Parent bone not found: "+d.parent;var h=new a.BoneData(d.name,c);h.length=(d.length||0)*this.scale,h.x=(d.x||0)*this.scale,h.y=(d.y||0)*this.scale,h.rotation=d.rotation||0,h.scaleX=d.hasOwnProperty("scaleX")?d.scaleX:1,h.scaleY=d.hasOwnProperty("scaleY")?d.scaleY:1,h.inheritScale=d.hasOwnProperty("inheritScale")?d.inheritScale:!0,h.inheritRotation=d.hasOwnProperty("inheritRotation")?d.inheritRotation:!0,r.bones.push(h)}var l=e.ik;if(l)for(var o=0,s=l.length;s>o;o++){for(var f=l[o],u=new a.IkConstraintData(f.name),n=f.bones,p=0,b=n.length;b>p;p++){var y=r.findBone(n[p]);if(!y)throw"IK bone not found: "+n[p];u.bones.push(y)}if(u.target=r.findBone(f.target),!u.target)throw"Target bone not found: "+f.target;u.bendDirection=!f.hasOwnProperty("bendPositive")||f.bendPositive?1:-1,u.mix=f.hasOwnProperty("mix")?f.mix:1,r.ikConstraints.push(u)}for(var v=e.slots,o=0,s=v.length;s>o;o++){var g=v[o],h=r.findBone(g.bone);if(!h)throw"Slot bone not found: "+g.bone;var m=new a.SlotData(g.name,h),x=g.color;
x&&(m.r=this.toColor(x,0),m.g=this.toColor(x,1),m.b=this.toColor(x,2),m.a=this.toColor(x,3)),m.attachmentName=g.attachment,m.additiveBlending=g.additive&&"true"==g.additive,r.slots.push(m)}var _=e.skins;for(var w in _)if(_.hasOwnProperty(w)){var T=_[w],S=new a.Skin(w);for(var A in T)if(T.hasOwnProperty(A)){var C=r.findSlotIndex(A),E=T[A];for(var M in E)if(E.hasOwnProperty(M)){var R=this.readAttachment(S,M,E[M]);R&&S.addAttachment(C,M,R)}}r.skins.push(S),"default"==S.name&&(r.defaultSkin=S)}var $=e.events;for(var B in $)if($.hasOwnProperty(B)){var L=$[B],I=new a.EventData(B);I.intValue=L["int"]||0,I.floatValue=L["float"]||0,I.stringValue=L.string||null,r.events.push(I)}var j=e.animations;for(var F in j)j.hasOwnProperty(F)&&this.readAnimation(F,j[F],r);return r},readAttachment:function(e,t,r){t=r.name||t;var i=a.AttachmentType[r.type||"region"],n=r.path||t,o=this.scale;if(i==a.AttachmentType.region){var s=this.attachmentLoader.newRegionAttachment(e,t,n);if(!s)return null;s.path=n,s.x=(r.x||0)*o,s.y=(r.y||0)*o,s.scaleX=r.hasOwnProperty("scaleX")?r.scaleX:1,s.scaleY=r.hasOwnProperty("scaleY")?r.scaleY:1,s.rotation=r.rotation||0,s.width=(r.width||0)*o,s.height=(r.height||0)*o;var d=r.color;return d&&(s.r=this.toColor(d,0),s.g=this.toColor(d,1),s.b=this.toColor(d,2),s.a=this.toColor(d,3)),s.updateOffset(),s}if(i==a.AttachmentType.mesh){var c=this.attachmentLoader.newMeshAttachment(e,t,n);return c?(c.path=n,c.vertices=this.getFloatArray(r,"vertices",o),c.triangles=this.getIntArray(r,"triangles"),c.regionUVs=this.getFloatArray(r,"uvs",1),c.updateUVs(),d=r.color,d&&(c.r=this.toColor(d,0),c.g=this.toColor(d,1),c.b=this.toColor(d,2),c.a=this.toColor(d,3)),c.hullLength=2*(r.hull||0),r.edges&&(c.edges=this.getIntArray(r,"edges")),c.width=(r.width||0)*o,c.height=(r.height||0)*o,c):null}if(i==a.AttachmentType.skinnedmesh){var c=this.attachmentLoader.newSkinnedMeshAttachment(e,t,n);if(!c)return null;c.path=n;for(var h=this.getFloatArray(r,"uvs",1),l=this.getFloatArray(r,"vertices",1),f=[],u=[],p=0,b=l.length;b>p;){var y=0|l[p++];u[u.length]=y;for(var v=p+4*y;v>p;)u[u.length]=l[p],f[f.length]=l[p+1]*o,f[f.length]=l[p+2]*o,f[f.length]=l[p+3],p+=4}return c.bones=u,c.weights=f,c.triangles=this.getIntArray(r,"triangles"),c.regionUVs=h,c.updateUVs(),d=r.color,d&&(c.r=this.toColor(d,0),c.g=this.toColor(d,1),c.b=this.toColor(d,2),c.a=this.toColor(d,3)),c.hullLength=2*(r.hull||0),r.edges&&(c.edges=this.getIntArray(r,"edges")),c.width=(r.width||0)*o,c.height=(r.height||0)*o,c}if(i==a.AttachmentType.boundingbox){for(var g=this.attachmentLoader.newBoundingBoxAttachment(e,t),l=r.vertices,p=0,b=l.length;b>p;p++)g.vertices.push(l[p]*o);return g}throw"Unknown attachment type: "+i},readAnimation:function(e,t,r){var i=[],n=0,o=t.slots;for(var s in o)if(o.hasOwnProperty(s)){var d=o[s],c=r.findSlotIndex(s);for(var h in d)if(d.hasOwnProperty(h)){var l=d[h];if("color"==h){var f=new a.ColorTimeline(l.length);f.slotIndex=c;for(var u=0,p=0,b=l.length;b>p;p++){var y=l[p],v=y.color,g=this.toColor(v,0),m=this.toColor(v,1),x=this.toColor(v,2),_=this.toColor(v,3);f.setFrame(u,y.time,g,m,x,_),this.readCurve(f,u,y),u++}i.push(f),n=Math.max(n,f.frames[5*f.getFrameCount()-5])}else{if("attachment"!=h)throw"Invalid timeline type for a slot: "+h+" ("+s+")";var f=new a.AttachmentTimeline(l.length);f.slotIndex=c;for(var u=0,p=0,b=l.length;b>p;p++){var y=l[p];f.setFrame(u++,y.time,y.name)}i.push(f),n=Math.max(n,f.frames[f.getFrameCount()-1])}}}var w=t.bones;for(var T in w)if(w.hasOwnProperty(T)){var S=r.findBoneIndex(T);if(-1==S)throw"Bone not found: "+T;var A=w[T];for(var h in A)if(A.hasOwnProperty(h)){var l=A[h];if("rotate"==h){var f=new a.RotateTimeline(l.length);f.boneIndex=S;for(var u=0,p=0,b=l.length;b>p;p++){var y=l[p];f.setFrame(u,y.time,y.angle),this.readCurve(f,u,y),u++}i.push(f),n=Math.max(n,f.frames[2*f.getFrameCount()-2])}else if("translate"==h||"scale"==h){var f,C=1;"scale"==h?f=new a.ScaleTimeline(l.length):(f=new a.TranslateTimeline(l.length),C=this.scale),f.boneIndex=S;for(var u=0,p=0,b=l.length;b>p;p++){var y=l[p],E=(y.x||0)*C,M=(y.y||0)*C;f.setFrame(u,y.time,E,M),this.readCurve(f,u,y),u++}i.push(f),n=Math.max(n,f.frames[3*f.getFrameCount()-3])}else{if("flipX"!=h&&"flipY"!=h)throw"Invalid timeline type for a bone: "+h+" ("+T+")";var E="flipX"==h,f=E?new a.FlipXTimeline(l.length):new a.FlipYTimeline(l.length);f.boneIndex=S;for(var R=E?"x":"y",u=0,p=0,b=l.length;b>p;p++){var y=l[p];f.setFrame(u,y.time,y[R]||!1),u++}i.push(f),n=Math.max(n,f.frames[2*f.getFrameCount()-2])}}}var $=t.ik;for(var B in $)if($.hasOwnProperty(B)){var L=r.findIkConstraint(B),l=$[B],f=new a.IkConstraintTimeline(l.length);f.ikConstraintIndex=r.ikConstraints.indexOf(L);for(var u=0,p=0,b=l.length;b>p;p++){var y=l[p],I=y.hasOwnProperty("mix")?y.mix:1,j=!y.hasOwnProperty("bendPositive")||y.bendPositive?1:-1;f.setFrame(u,y.time,I,j),this.readCurve(f,u,y),u++}i.push(f),n=Math.max(n,f.frames[3*f.frameCount-3])}var F=t.ffd;for(var P in F){var k=r.findSkin(P),d=F[P];for(s in d){var c=r.findSlotIndex(s),D=d[s];for(var O in D){var l=D[O],f=new a.FfdTimeline(l.length),N=k.getAttachment(c,O);if(!N)throw"FFD attachment not found: "+O;f.slotIndex=c,f.attachment=N;var U,G=N.type==a.AttachmentType.mesh;U=G?N.vertices.length:N.weights.length/3*2;for(var u=0,p=0,b=l.length;b>p;p++){var W,y=l[p];if(y.vertices){var Y=y.vertices,W=[];W.length=U;var z=y.offset||0,V=Y.length;if(1==this.scale)for(var X=0;V>X;X++)W[X+z]=Y[X];else for(var X=0;V>X;X++)W[X+z]=Y[X]*this.scale;if(G)for(var q=N.vertices,X=0,V=W.length;V>X;X++)W[X]+=q[X]}else G?W=N.vertices:(W=[],W.length=U);f.setFrame(u,y.time,W),this.readCurve(f,u,y),u++}i[i.length]=f,n=Math.max(n,f.frames[f.frameCount-1])}}}var H=t.drawOrder;if(H||(H=t.draworder),H){for(var f=new a.DrawOrderTimeline(H.length),K=r.slots.length,u=0,p=0,b=H.length;b>p;p++){var J=H[p],Q=null;if(J.offsets){Q=[],Q.length=K;for(var X=K-1;X>=0;X--)Q[X]=-1;var Z=J.offsets,et=[];et.length=K-Z.length;for(var tt=0,rt=0,X=0,V=Z.length;V>X;X++){var it=Z[X],c=r.findSlotIndex(it.slot);if(-1==c)throw"Slot not found: "+it.slot;for(;tt!=c;)et[rt++]=tt++;Q[tt+it.offset]=tt++}for(;K>tt;)et[rt++]=tt++;for(var X=K-1;X>=0;X--)-1==Q[X]&&(Q[X]=et[--rt])}f.setFrame(u++,J.time,Q)}i.push(f),n=Math.max(n,f.frames[f.getFrameCount()-1])}var at=t.events;if(at){for(var f=new a.EventTimeline(at.length),u=0,p=0,b=at.length;b>p;p++){var nt=at[p],ot=r.findEvent(nt.name);if(!ot)throw"Event not found: "+nt.name;var st=new a.Event(ot);st.intValue=nt.hasOwnProperty("int")?nt["int"]:ot.intValue,st.floatValue=nt.hasOwnProperty("float")?nt["float"]:ot.floatValue,st.stringValue=nt.hasOwnProperty("string")?nt.string:ot.stringValue,f.setFrame(u++,nt.time,st)}i.push(f),n=Math.max(n,f.frames[f.getFrameCount()-1])}r.animations.push(new a.Animation(e,i,n))},readCurve:function(e,t,r){var i=r.curve;i?"stepped"==i?e.curves.setStepped(t):i instanceof Array&&e.curves.setCurve(t,i[0],i[1],i[2],i[3]):e.curves.setLinear(t)},toColor:function(e,t){if(8!=e.length)throw"Color hexidecimal length must be 8, recieved: "+e;return parseInt(e.substring(2*t,2*t+2),16)/255},getFloatArray:function(e,t,r){var i=e[t],n=new a.Float32Array(i.length),o=0,s=i.length;if(1==r)for(;s>o;o++)n[o]=i[o];else for(;s>o;o++)n[o]=i[o]*r;return n},getIntArray:function(e,t){for(var r=e[t],i=new a.Uint16Array(r.length),n=0,o=r.length;o>n;n++)i[n]=0|r[n];return i}},a.Atlas=function(e,t){this.textureLoader=t,this.pages=[],this.regions=[];var r=new a.AtlasReader(e),i=[];i.length=4;for(var n=null;;){var o=r.readLine();if(null===o)break;if(o=r.trim(o),o.length)if(n){var s=new a.AtlasRegion;s.name=o,s.page=n,s.rotate="true"==r.readValue(),r.readTuple(i);var d=parseInt(i[0]),c=parseInt(i[1]);r.readTuple(i);var h=parseInt(i[0]),l=parseInt(i[1]);s.u=d/n.width,s.v=c/n.height,s.rotate?(s.u2=(d+l)/n.width,s.v2=(c+h)/n.height):(s.u2=(d+h)/n.width,s.v2=(c+l)/n.height),s.x=d,s.y=c,s.width=Math.abs(h),s.height=Math.abs(l),4==r.readTuple(i)&&(s.splits=[parseInt(i[0]),parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],4==r.readTuple(i)&&(s.pads=[parseInt(i[0]),parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],r.readTuple(i))),s.originalWidth=parseInt(i[0]),s.originalHeight=parseInt(i[1]),r.readTuple(i),s.offsetX=parseInt(i[0]),s.offsetY=parseInt(i[1]),s.index=parseInt(r.readValue()),this.regions.push(s)}else{n=new a.AtlasPage,n.name=o,2==r.readTuple(i)&&(n.width=parseInt(i[0]),n.height=parseInt(i[1]),r.readTuple(i)),n.format=a.Atlas.Format[i[0]],r.readTuple(i),n.minFilter=a.Atlas.TextureFilter[i[0]],n.magFilter=a.Atlas.TextureFilter[i[1]];var f=r.readValue();n.uWrap=a.Atlas.TextureWrap.clampToEdge,n.vWrap=a.Atlas.TextureWrap.clampToEdge,"x"==f?n.uWrap=a.Atlas.TextureWrap.repeat:"y"==f?n.vWrap=a.Atlas.TextureWrap.repeat:"xy"==f&&(n.uWrap=n.vWrap=a.Atlas.TextureWrap.repeat),t.load(n,o,this),this.pages.push(n)}else n=null}},a.Atlas.prototype={findRegion:function(e){for(var t=this.regions,r=0,i=t.length;i>r;r++)if(t[r].name==e)return t[r];return null},dispose:function(){for(var e=this.pages,t=0,r=e.length;r>t;t++)this.textureLoader.unload(e[t].rendererObject)},updateUVs:function(e){for(var t=this.regions,r=0,i=t.length;i>r;r++){var a=t[r];a.page==e&&(a.u=a.x/e.width,a.v=a.y/e.height,a.rotate?(a.u2=(a.x+a.height)/e.width,a.v2=(a.y+a.width)/e.height):(a.u2=(a.x+a.width)/e.width,a.v2=(a.y+a.height)/e.height))}}},a.Atlas.Format={alpha:0,intensity:1,luminanceAlpha:2,rgb565:3,rgba4444:4,rgb888:5,rgba8888:6},a.Atlas.TextureFilter={nearest:0,linear:1,mipMap:2,mipMapNearestNearest:3,mipMapLinearNearest:4,mipMapNearestLinear:5,mipMapLinearLinear:6},a.Atlas.TextureWrap={mirroredRepeat:0,clampToEdge:1,repeat:2},a.AtlasPage=function(){},a.AtlasPage.prototype={name:null,format:null,minFilter:null,magFilter:null,uWrap:null,vWrap:null,rendererObject:null,width:0,height:0},a.AtlasRegion=function(){},a.AtlasRegion.prototype={page:null,name:null,x:0,y:0,width:0,height:0,u:0,v:0,u2:0,v2:0,offsetX:0,offsetY:0,originalWidth:0,originalHeight:0,index:0,rotate:!1,splits:null,pads:null},a.AtlasReader=function(e){this.lines=e.split(/\r\n|\r|\n/)},a.AtlasReader.prototype={index:0,trim:function(e){return e.replace(/^\s+|\s+$/g,"")},readLine:function(){return this.index>=this.lines.length?null:this.lines[this.index++]},readValue:function(){var e=this.readLine(),t=e.indexOf(":");if(-1==t)throw"Invalid line: "+e;return this.trim(e.substring(t+1))},readTuple:function(e){var t=this.readLine(),r=t.indexOf(":");if(-1==r)throw"Invalid line: "+t;for(var i=0,a=r+1;3>i;i++){var n=t.indexOf(",",a);if(-1==n)break;e[i]=this.trim(t.substr(a,n-a)),a=n+1}return e[i]=this.trim(t.substring(a)),i+1}},a.AtlasAttachmentLoader=function(e){this.atlas=e},a.AtlasAttachmentLoader.prototype={newRegionAttachment:function(e,t,r){var i=this.atlas.findRegion(r);if(!i)throw"Region not found in atlas: "+r+" (region attachment: "+t+")";var n=new a.RegionAttachment(t);return n.rendererObject=i,n.setUVs(i.u,i.v,i.u2,i.v2,i.rotate),n.regionOffsetX=i.offsetX,n.regionOffsetY=i.offsetY,n.regionWidth=i.width,n.regionHeight=i.height,n.regionOriginalWidth=i.originalWidth,n.regionOriginalHeight=i.originalHeight,n},newMeshAttachment:function(e,t,r){var i=this.atlas.findRegion(r);if(!i)throw"Region not found in atlas: "+r+" (mesh attachment: "+t+")";var n=new a.MeshAttachment(t);return n.rendererObject=i,n.regionU=i.u,n.regionV=i.v,n.regionU2=i.u2,n.regionV2=i.v2,n.regionRotate=i.rotate,n.regionOffsetX=i.offsetX,n.regionOffsetY=i.offsetY,n.regionWidth=i.width,n.regionHeight=i.height,n.regionOriginalWidth=i.originalWidth,n.regionOriginalHeight=i.originalHeight,n},newSkinnedMeshAttachment:function(e,t,r){var i=this.atlas.findRegion(r);if(!i)throw"Region not found in atlas: "+r+" (skinned mesh attachment: "+t+")";var n=new a.SkinnedMeshAttachment(t);return n.rendererObject=i,n.regionU=i.u,n.regionV=i.v,n.regionU2=i.u2,n.regionV2=i.v2,n.regionRotate=i.rotate,n.regionOffsetX=i.offsetX,n.regionOffsetY=i.offsetY,n.regionWidth=i.width,n.regionHeight=i.height,n.regionOriginalWidth=i.originalWidth,n.regionOriginalHeight=i.originalHeight,n},newBoundingBoxAttachment:function(e,t){return new a.BoundingBoxAttachment(t)}},a.SkeletonBounds=function(){this.polygonPool=[],this.polygons=[],this.boundingBoxes=[]},a.SkeletonBounds.prototype={minX:0,minY:0,maxX:0,maxY:0,update:function(e,t){var r=e.slots,i=r.length,n=e.x,o=e.y,s=this.boundingBoxes,d=this.polygonPool,c=this.polygons;s.length=0;for(var h=0,l=c.length;l>h;h++)d.push(c[h]);c.length=0;for(var h=0;i>h;h++){var f=r[h],u=f.attachment;if(u.type==a.AttachmentType.boundingbox){s.push(u);var p,b=d.length;b>0?(p=d[b-1],d.splice(b-1,1)):p=[],c.push(p),p.length=u.vertices.length,u.computeWorldVertices(n,o,f.bone,p)}}t&&this.aabbCompute()},aabbCompute:function(){for(var e=this.polygons,t=Number.MAX_VALUE,r=Number.MAX_VALUE,i=Number.MIN_VALUE,a=Number.MIN_VALUE,n=0,o=e.length;o>n;n++)for(var s=e[n],d=0,c=s.length;c>d;d+=2){var h=s[d],l=s[d+1];t=Math.min(t,h),r=Math.min(r,l),i=Math.max(i,h),a=Math.max(a,l)}this.minX=t,this.minY=r,this.maxX=i,this.maxY=a},aabbContainsPoint:function(e,t){return e>=this.minX&&e<=this.maxX&&t>=this.minY&&t<=this.maxY},aabbIntersectsSegment:function(e,t,r,i){var a=this.minX,n=this.minY,o=this.maxX,s=this.maxY;if(a>=e&&a>=r||n>=t&&n>=i||e>=o&&r>=o||t>=s&&i>=s)return!1;var d=(i-t)/(r-e),c=d*(a-e)+t;if(c>n&&s>c)return!0;if(c=d*(o-e)+t,c>n&&s>c)return!0;var h=(n-t)/d+e;return h>a&&o>h?!0:(h=(s-t)/d+e,h>a&&o>h?!0:!1)},aabbIntersectsSkeleton:function(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY},containsPoint:function(e,t){for(var r=this.polygons,i=0,a=r.length;a>i;i++)if(this.polygonContainsPoint(r[i],e,t))return this.boundingBoxes[i];return null},intersectsSegment:function(e,t,r,i){for(var a=this.polygons,n=0,o=a.length;o>n;n++)if(a[n].intersectsSegment(e,t,r,i))return this.boundingBoxes[n];return null},polygonContainsPoint:function(e,t,r){for(var i=e.length,a=i-2,n=!1,o=0;i>o;o+=2){var s=e[o+1],d=e[a+1];if(r>s&&d>=r||r>d&&s>=r){var c=e[o];c+(r-s)/(d-s)*(e[a]-c)<t&&(n=!n)}a=o}return n},polygonIntersectsSegment:function(e,t,r,i,a){for(var n=e.length,o=t-i,s=r-a,d=t*a-r*i,c=e[n-2],h=e[n-1],l=0;n>l;l+=2){var f=e[l],u=e[l+1],p=c*u-h*f,b=c-f,y=h-u,v=o*y-s*b,g=(d*b-o*p)/v;if((g>=c&&f>=g||g>=f&&c>=g)&&(g>=t&&i>=g||g>=i&&t>=g)){var m=(d*y-s*p)/v;if((m>=h&&u>=m||m>=u&&h>=m)&&(m>=r&&a>=m||m>=a&&r>=m))return!0}c=f,h=u}return!1},getPolygon:function(e){var t=this.boundingBoxes.indexOf(e);return-1==t?null:this.polygons[t]},getWidth:function(){return this.maxX-this.minX},getHeight:function(){return this.maxY-this.minY}},a.Bone.yDown=!0,i.AnimCache={},i.SpineTextureLoader=function(e,t){i.EventTarget.call(this),this.basePath=e,this.crossorigin=t,this.loadingCount=0},i.SpineTextureLoader.prototype=i.SpineTextureLoader,i.SpineTextureLoader.prototype.load=function(e,t){if(e.rendererObject=i.BaseTexture.fromImage(this.basePath+"/"+t,this.crossorigin),!e.rendererObject.hasLoaded){var r=this;++r.loadingCount,e.rendererObject.addEventListener("loaded",function(){--r.loadingCount,r.dispatchEvent({type:"loadedBaseTexture",content:r})})}},i.SpineTextureLoader.prototype.unload=function(e){e.destroy(!0)},i.Spine=function(e){if(i.DisplayObjectContainer.call(this),this.spineData=i.AnimCache[e],!this.spineData)throw new Error("Spine data must be preloaded using PIXI.SpineLoader or PIXI.AssetLoader: "+e);this.skeleton=new a.Skeleton(this.spineData),this.skeleton.updateWorldTransform(),this.stateData=new a.AnimationStateData(this.spineData),this.state=new a.AnimationState(this.stateData),this.slotContainers=[];for(var t=0,r=this.skeleton.drawOrder.length;r>t;t++){var n=this.skeleton.drawOrder[t],o=n.attachment,s=new i.DisplayObjectContainer;if(this.slotContainers.push(s),this.addChild(s),o instanceof a.RegionAttachment){var d=o.rendererObject.name,c=this.createSprite(n,o);n.currentSprite=c,n.currentSpriteName=d,s.addChild(c)}else{if(!(o instanceof a.MeshAttachment))continue;var h=this.createMesh(n,o);n.currentMesh=h,n.currentMeshName=o.name,s.addChild(h)}}this.autoUpdate=!0},i.Spine.prototype=Object.create(i.DisplayObjectContainer.prototype),i.Spine.prototype.constructor=i.Spine,Object.defineProperty(i.Spine.prototype,"autoUpdate",{get:function(){return this.updateTransform===i.Spine.prototype.autoUpdateTransform},set:function(e){this.updateTransform=e?i.Spine.prototype.autoUpdateTransform:i.DisplayObjectContainer.prototype.updateTransform}}),i.Spine.prototype.update=function(e){this.state.update(e),this.state.apply(this.skeleton),this.skeleton.updateWorldTransform();for(var t=this.skeleton.drawOrder,r=0,n=t.length;n>r;r++){var o=t[r],s=o.attachment,d=this.slotContainers[r];if(s){var c=s.type;if(c===a.AttachmentType.region){if(s.rendererObject&&(!o.currentSpriteName||o.currentSpriteName!==s.name)){var h=s.rendererObject.name;if(void 0!==o.currentSprite&&(o.currentSprite.visible=!1),o.sprites=o.sprites||{},void 0!==o.sprites[h])o.sprites[h].visible=!0;else{var l=this.createSprite(o,s);d.addChild(l)}o.currentSprite=o.sprites[h],o.currentSpriteName=h}var f=o.bone;d.position.x=f.worldX+s.x*f.m00+s.y*f.m01,d.position.y=f.worldY+s.x*f.m10+s.y*f.m11,d.scale.x=f.worldScaleX,d.scale.y=f.worldScaleY,d.rotation=-(o.bone.worldRotation*a.degRad),o.currentSprite.tint=i.rgb2hex([o.r,o.g,o.b])}else{if(c!==a.AttachmentType.skinnedmesh){d.visible=!1;continue}if(!o.currentMeshName||o.currentMeshName!==s.name){var u=s.name;if(void 0!==o.currentMesh&&(o.currentMesh.visible=!1),o.meshes=o.meshes||{},void 0!==o.meshes[u])o.meshes[u].visible=!0;else{var p=this.createMesh(o,s);d.addChild(p)}o.currentMesh=o.meshes[u],o.currentMeshName=u}s.computeWorldVertices(o.bone.skeleton.x,o.bone.skeleton.y,o,o.currentMesh.vertices)}d.visible=!0,d.alpha=o.a}else d.visible=!1}},i.Spine.prototype.autoUpdateTransform=function(){this.lastTime=this.lastTime||Date.now();var e=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.update(e),i.DisplayObjectContainer.prototype.updateTransform.call(this)},i.Spine.prototype.createSprite=function(e,t){var r=t.rendererObject,n=r.page.rendererObject,o=new i.Rectangle(r.x,r.y,r.rotate?r.height:r.width,r.rotate?r.width:r.height),s=new i.Texture(n,o),d=new i.Sprite(s),c=r.rotate?.5*Math.PI:0;return d.scale.set(r.width/r.originalWidth,r.height/r.originalHeight),d.rotation=c-t.rotation*a.degRad,d.anchor.x=d.anchor.y=.5,e.sprites=e.sprites||{},e.sprites[r.name]=d,d},i.Spine.prototype.createMesh=function(e,t){var r=t.rendererObject,a=r.page.rendererObject,n=new i.Texture(a),o=new i.Strip(n);return o.drawMode=i.Strip.DrawModes.TRIANGLES,o.canvasPadding=1.5,o.vertices=new i.Float32Array(t.uvs.length),o.uvs=t.uvs,o.indices=t.triangles,e.meshes=e.meshes||{},e.meshes[t.name]=o,o},i.BaseTextureCache={},i.BaseTextureCacheIdGenerator=0,i.BaseTexture=function(e,t){if(this.resolution=1,this.width=100,this.height=100,this.scaleMode=t||i.scaleModes.DEFAULT,this.hasLoaded=!1,this.source=e,this._UID=i._UID++,this.premultipliedAlpha=!0,this._glTextures=[],this.mipmap=!1,this._dirty=[!0,!0,!0,!0],e){if((this.source.complete||this.source.getContext)&&this.source.width&&this.source.height)this.hasLoaded=!0,this.width=this.source.naturalWidth||this.source.width,this.height=this.source.naturalHeight||this.source.height,this.dirty();else{var r=this;this.source.onload=function(){r.hasLoaded=!0,r.width=r.source.naturalWidth||r.source.width,r.height=r.source.naturalHeight||r.source.height,r.dirty(),r.dispatchEvent({type:"loaded",content:r})},this.source.onerror=function(){r.dispatchEvent({type:"error",content:r})}}this.imageUrl=null,this._powerOf2=!1}},i.BaseTexture.prototype.constructor=i.BaseTexture,i.EventTarget.mixin(i.BaseTexture.prototype),i.BaseTexture.prototype.destroy=function(){this.imageUrl?(delete i.BaseTextureCache[this.imageUrl],delete i.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")):this.source&&this.source._pixiId&&delete i.BaseTextureCache[this.source._pixiId],this.source=null,this.unloadFromGPU()},i.BaseTexture.prototype.updateSourceImage=function(e){this.hasLoaded=!1,this.source.src=null,this.source.src=e},i.BaseTexture.prototype.dirty=function(){for(var e=0;e<this._glTextures.length;e++)this._dirty[e]=!0},i.BaseTexture.prototype.unloadFromGPU=function(){this.dirty();for(var e=this._glTextures.length-1;e>=0;e--){var t=this._glTextures[e],r=i.glContexts[e];r&&t&&r.deleteTexture(t)}this._glTextures.length=0,this.dirty()},i.BaseTexture.fromImage=function(e,t,r){var a=i.BaseTextureCache[e];if(void 0===t&&-1===e.indexOf("data:")&&(t=!0),!a){var n=new Image;t&&(n.crossOrigin=""),n.src=e,a=new i.BaseTexture(n,r),a.imageUrl=e,i.BaseTextureCache[e]=a,-1!==e.indexOf(i.RETINA_PREFIX+".")&&(a.resolution=2)}return a},i.BaseTexture.fromCanvas=function(e,t){e._pixiId||(e._pixiId="canvas_"+i.TextureCacheIdGenerator++);var r=i.BaseTextureCache[e._pixiId];return r||(r=new i.BaseTexture(e,t),i.BaseTextureCache[e._pixiId]=r),r},i.TextureCache={},i.FrameCache={},i.TextureCacheIdGenerator=0,i.Texture=function(e,t,r,a){this.noFrame=!1,t||(this.noFrame=!0,t=new i.Rectangle(0,0,1,1)),e instanceof i.Texture&&(e=e.baseTexture),this.baseTexture=e,this.frame=t,this.trim=a,this.valid=!1,this.requiresUpdate=!1,this._uvs=null,this.width=0,this.height=0,this.crop=r||new i.Rectangle(0,0,1,1),e.hasLoaded?(this.noFrame&&(t=new i.Rectangle(0,0,e.width,e.height)),this.setFrame(t)):e.addEventListener("loaded",this.onBaseTextureLoaded.bind(this))},i.Texture.prototype.constructor=i.Texture,i.EventTarget.mixin(i.Texture.prototype),i.Texture.prototype.onBaseTextureLoaded=function(){var e=this.baseTexture;e.removeEventListener("loaded",this.onLoaded),this.noFrame&&(this.frame=new i.Rectangle(0,0,e.width,e.height)),this.setFrame(this.frame),this.dispatchEvent({type:"update",content:this})},i.Texture.prototype.destroy=function(e){e&&this.baseTexture.destroy(),this.valid=!1},i.Texture.prototype.setFrame=function(e){if(this.noFrame=!1,this.frame=e,this.width=e.width,this.height=e.height,this.crop.x=e.x,this.crop.y=e.y,this.crop.width=e.width,this.crop.height=e.height,!this.trim&&(e.x+e.width>this.baseTexture.width||e.y+e.height>this.baseTexture.height))throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=e&&e.width&&e.height&&this.baseTexture.source&&this.baseTexture.hasLoaded,this.trim&&(this.width=this.trim.width,this.height=this.trim.height,this.frame.width=this.trim.width,this.frame.height=this.trim.height),this.valid&&this._updateUvs()},i.Texture.prototype._updateUvs=function(){this._uvs||(this._uvs=new i.TextureUvs);var e=this.crop,t=this.baseTexture.width,r=this.baseTexture.height;this._uvs.x0=e.x/t,this._uvs.y0=e.y/r,this._uvs.x1=(e.x+e.width)/t,this._uvs.y1=e.y/r,this._uvs.x2=(e.x+e.width)/t,this._uvs.y2=(e.y+e.height)/r,this._uvs.x3=e.x/t,this._uvs.y3=(e.y+e.height)/r},i.Texture.fromImage=function(e,t,r){var a=i.TextureCache[e];return a||(a=new i.Texture(i.BaseTexture.fromImage(e,t,r)),i.TextureCache[e]=a),a},i.Texture.fromFrame=function(e){var t=i.TextureCache[e];if(!t)throw new Error('The frameId "'+e+'" does not exist in the texture cache ');return t},i.Texture.fromCanvas=function(e,t){var r=i.BaseTexture.fromCanvas(e,t);return new i.Texture(r)},i.Texture.addTextureToCache=function(e,t){i.TextureCache[t]=e},i.Texture.removeTextureFromCache=function(e){var t=i.TextureCache[e];return delete i.TextureCache[e],delete i.BaseTextureCache[e],t},i.TextureUvs=function(){this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.x3=0,this.y3=0},i.Texture.emptyTexture=new i.Texture(new i.BaseTexture),i.RenderTexture=function(e,t,r,a,n){if(this.width=e||100,this.height=t||100,this.resolution=n||1,this.frame=new i.Rectangle(0,0,this.width*this.resolution,this.height*this.resolution),this.crop=new i.Rectangle(0,0,this.width*this.resolution,this.height*this.resolution),this.baseTexture=new i.BaseTexture,this.baseTexture.width=this.width*this.resolution,this.baseTexture.height=this.height*this.resolution,this.baseTexture._glTextures=[],this.baseTexture.resolution=this.resolution,this.baseTexture.scaleMode=a||i.scaleModes.DEFAULT,this.baseTexture.hasLoaded=!0,i.Texture.call(this,this.baseTexture,new i.Rectangle(0,0,this.width,this.height)),this.renderer=r||i.defaultRenderer,this.renderer.type===i.WEBGL_RENDERER){var o=this.renderer.gl;this.baseTexture._dirty[o.id]=!1,this.textureBuffer=new i.FilterTexture(o,this.width*this.resolution,this.height*this.resolution,this.baseTexture.scaleMode),this.baseTexture._glTextures[o.id]=this.textureBuffer.texture,this.render=this.renderWebGL,this.projection=new i.Point(.5*this.width,.5*-this.height)}else this.render=this.renderCanvas,this.textureBuffer=new i.CanvasBuffer(this.width*this.resolution,this.height*this.resolution),this.baseTexture.source=this.textureBuffer.canvas;this.valid=!0,this._updateUvs()},i.RenderTexture.prototype=Object.create(i.Texture.prototype),i.RenderTexture.prototype.constructor=i.RenderTexture,i.RenderTexture.prototype.resize=function(e,t,r){(e!==this.width||t!==this.height)&&(this.valid=e>0&&t>0,this.width=this.frame.width=this.crop.width=e,this.height=this.frame.height=this.crop.height=t,r&&(this.baseTexture.width=this.width,this.baseTexture.height=this.height),this.renderer.type===i.WEBGL_RENDERER&&(this.projection.x=this.width/2,this.projection.y=-this.height/2),this.valid&&this.textureBuffer.resize(this.width*this.resolution,this.height*this.resolution))},i.RenderTexture.prototype.clear=function(){this.valid&&(this.renderer.type===i.WEBGL_RENDERER&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,this.textureBuffer.frameBuffer),this.textureBuffer.clear())},i.RenderTexture.prototype.renderWebGL=function(e,t,r){if(this.valid){var i=e.worldTransform;i.identity(),i.translate(0,2*this.projection.y),t&&i.append(t),i.scale(1,-1),e.worldAlpha=1;for(var a=e.children,n=0,o=a.length;o>n;n++)a[n].updateTransform();var s=this.renderer.gl;s.viewport(0,0,this.width*this.resolution,this.height*this.resolution),s.bindFramebuffer(s.FRAMEBUFFER,this.textureBuffer.frameBuffer),r&&this.textureBuffer.clear(),this.renderer.spriteBatch.dirty=!0,this.renderer.renderDisplayObject(e,this.projection,this.textureBuffer.frameBuffer),this.renderer.spriteBatch.dirty=!0}},i.RenderTexture.prototype.renderCanvas=function(e,t,r){if(this.valid){var i=e.worldTransform;i.identity(),t&&i.append(t),e.worldAlpha=1;for(var a=e.children,n=0,o=a.length;o>n;n++)a[n].updateTransform();r&&this.textureBuffer.clear();var s=this.textureBuffer.context,d=this.renderer.resolution;this.renderer.resolution=this.resolution,this.renderer.renderDisplayObject(e,s),this.renderer.resolution=d}},i.RenderTexture.prototype.getImage=function(){var e=new Image;return e.src=this.getBase64(),e},i.RenderTexture.prototype.getBase64=function(){return this.getCanvas().toDataURL()},i.RenderTexture.prototype.getCanvas=function(){if(this.renderer.type===i.WEBGL_RENDERER){var e=this.renderer.gl,t=this.textureBuffer.width,r=this.textureBuffer.height,a=new Uint8Array(4*t*r);e.bindFramebuffer(e.FRAMEBUFFER,this.textureBuffer.frameBuffer),e.readPixels(0,0,t,r,e.RGBA,e.UNSIGNED_BYTE,a),e.bindFramebuffer(e.FRAMEBUFFER,null);var n=new i.CanvasBuffer(t,r),o=n.context.getImageData(0,0,t,r);return o.data.set(a),n.context.putImageData(o,0,0),n.canvas}return this.textureBuffer.canvas},i.RenderTexture.tempMatrix=new i.Matrix,i.VideoTexture=function(e,t){if(!e)throw new Error("No video source element specified.");(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),i.BaseTexture.call(this,e,t),this.autoUpdate=!1,this.updateBound=this._onUpdate.bind(this),e.complete||(this._onCanPlay=this.onCanPlay.bind(this),e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("play",this.onPlayStart.bind(this)),e.addEventListener("pause",this.onPlayStop.bind(this)))},i.VideoTexture.prototype=Object.create(i.BaseTexture.prototype),i.VideoTexture.constructor=i.VideoTexture,i.VideoTexture.prototype._onUpdate=function(){this.autoUpdate&&(window.requestAnimationFrame(this.updateBound),this.dirty())},i.VideoTexture.prototype.onPlayStart=function(){this.autoUpdate||(window.requestAnimationFrame(this.updateBound),this.autoUpdate=!0)},i.VideoTexture.prototype.onPlayStop=function(){this.autoUpdate=!1},i.VideoTexture.prototype.onCanPlay=function(){"canplaythrough"===event.type&&(this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.dispatchEvent({type:"loaded",content:this}))))},i.VideoTexture.prototype.destroy=function(){this.source&&this.source._pixiId&&(i.BaseTextureCache[this.source._pixiId]=null,delete i.BaseTextureCache[this.source._pixiId],this.source._pixiId=null,delete this.source._pixiId),i.BaseTexture.prototype.destroy.call(this)},i.VideoTexture.baseTextureFromVideo=function(e,t){e._pixiId||(e._pixiId="video_"+i.TextureCacheIdGenerator++);var r=i.BaseTextureCache[e._pixiId];return r||(r=new i.VideoTexture(e,t),i.BaseTextureCache[e._pixiId]=r),r},i.VideoTexture.textureFromVideo=function(e,t){var r=i.VideoTexture.baseTextureFromVideo(e,t);return new i.Texture(r)},i.VideoTexture.fromUrl=function(e,t){var r=document.createElement("video");return r.src=e,r.autoPlay=!0,r.play(),i.VideoTexture.textureFromVideo(r,t)},i.AssetLoader=function(e,t){this.assetURLs=e,this.crossorigin=t,this.loadersByType={jpg:i.ImageLoader,jpeg:i.ImageLoader,png:i.ImageLoader,gif:i.ImageLoader,webp:i.ImageLoader,json:i.JsonLoader,atlas:i.AtlasLoader,anim:i.SpineLoader,xml:i.BitmapFontLoader,fnt:i.BitmapFontLoader}},i.EventTarget.mixin(i.AssetLoader.prototype),i.AssetLoader.prototype.constructor=i.AssetLoader,i.AssetLoader.prototype._getDataType=function(e){var t="data:",r=e.slice(0,t.length).toLowerCase();if(r===t){var i=e.slice(t.length),a=i.indexOf(",");if(-1===a)return null;var n=i.slice(0,a).split(";")[0];return n&&"text/plain"!==n.toLowerCase()?n.split("/").pop().toLowerCase():"txt"}return null},i.AssetLoader.prototype.load=function(){function e(e){t.onAssetLoaded(e.data.content)}var t=this;this.loadCount=this.assetURLs.length;for(var r=0;r<this.assetURLs.length;r++){var i=this.assetURLs[r],a=this._getDataType(i);a||(a=i.split("?").shift().split(".").pop().toLowerCase());var n=this.loadersByType[a];if(!n)throw new Error(a+" is an unsupported file type");var o=new n(i,this.crossorigin);o.on("loaded",e),o.load()}},i.AssetLoader.prototype.onAssetLoaded=function(e){this.loadCount--,this.emit("onProgress",{content:this,loader:e}),this.onProgress&&this.onProgress(e),this.loadCount||(this.emit("onComplete",{content:this}),this.onComplete&&this.onComplete())},i.JsonLoader=function(e,t){this.url=e,this.crossorigin=t,this.baseUrl=e.replace(/[^\/]*$/,""),this.loaded=!1},i.JsonLoader.prototype.constructor=i.JsonLoader,i.EventTarget.mixin(i.JsonLoader.prototype),i.JsonLoader.prototype.load=function(){window.XDomainRequest&&this.crossorigin?(this.ajaxRequest=new window.XDomainRequest,this.ajaxRequest.timeout=3e3,this.ajaxRequest.onerror=this.onError.bind(this),this.ajaxRequest.ontimeout=this.onError.bind(this),this.ajaxRequest.onprogress=function(){},this.ajaxRequest.onload=this.onJSONLoaded.bind(this)):(this.ajaxRequest=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP"),this.ajaxRequest.onreadystatechange=this.onReadyStateChanged.bind(this)),this.ajaxRequest.open("GET",this.url,!0),this.ajaxRequest.send()},i.JsonLoader.prototype.onReadyStateChanged=function(){4!==this.ajaxRequest.readyState||200!==this.ajaxRequest.status&&-1!==window.location.href.indexOf("http")||this.onJSONLoaded()},i.JsonLoader.prototype.onJSONLoaded=function(){if(!this.ajaxRequest.responseText)return this.onError(),void 0;if(this.json=JSON.parse(this.ajaxRequest.responseText),this.json.frames){var e=this.baseUrl+this.json.meta.image,t=new i.ImageLoader(e,this.crossorigin),r=this.json.frames;
this.texture=t.texture.baseTexture,t.addEventListener("loaded",this.onLoaded.bind(this));for(var n in r){var o=r[n].frame;if(o){var s=new i.Rectangle(o.x,o.y,o.w,o.h),d=s.clone(),c=null;if(r[n].trimmed){var h=r[n].sourceSize,l=r[n].spriteSourceSize;c=new i.Rectangle(l.x,l.y,h.w,h.h)}i.TextureCache[n]=new i.Texture(this.texture,s,d,c)}}t.load()}else if(this.json.bones)if(i.AnimCache[this.url])this.onLoaded();else{var f=this.url.substr(0,this.url.lastIndexOf("."))+".atlas",u=new i.JsonLoader(f,this.crossorigin),p=this;u.onJSONLoaded=function(){if(!this.ajaxRequest.responseText)return this.onError(),void 0;var e=new i.SpineTextureLoader(this.url.substring(0,this.url.lastIndexOf("/"))),t=new a.Atlas(this.ajaxRequest.responseText,e),r=new a.AtlasAttachmentLoader(t),n=new a.SkeletonJson(r),o=n.readSkeletonData(p.json);i.AnimCache[p.url]=o,p.spine=o,p.spineAtlas=t,p.spineAtlasLoader=u,e.loadingCount>0?e.addEventListener("loadedBaseTexture",function(e){e.content.content.loadingCount<=0&&p.onLoaded()}):p.onLoaded()},u.load()}else this.onLoaded()},i.JsonLoader.prototype.onLoaded=function(){this.loaded=!0,this.dispatchEvent({type:"loaded",content:this})},i.JsonLoader.prototype.onError=function(){this.dispatchEvent({type:"error",content:this})},i.AtlasLoader=function(e,t){this.url=e,this.baseUrl=e.replace(/[^\/]*$/,""),this.crossorigin=t,this.loaded=!1},i.AtlasLoader.constructor=i.AtlasLoader,i.EventTarget.mixin(i.AtlasLoader.prototype),i.AtlasLoader.prototype.load=function(){this.ajaxRequest=new i.AjaxRequest,this.ajaxRequest.onreadystatechange=this.onAtlasLoaded.bind(this),this.ajaxRequest.open("GET",this.url,!0),this.ajaxRequest.overrideMimeType&&this.ajaxRequest.overrideMimeType("application/json"),this.ajaxRequest.send(null)},i.AtlasLoader.prototype.onAtlasLoaded=function(){if(4===this.ajaxRequest.readyState)if(200===this.ajaxRequest.status||-1===window.location.href.indexOf("http")){this.atlas={meta:{image:[]},frames:[]};var e=this.ajaxRequest.responseText.split(/\r?\n/),t=-3,r=0,a=null,n=!1,o=0,s=0,d=this.onLoaded.bind(this);for(o=0;o<e.length;o++)if(e[o]=e[o].replace(/^\s+|\s+$/g,""),""===e[o]&&(n=o+1),e[o].length>0){if(n===o)this.atlas.meta.image.push(e[o]),r=this.atlas.meta.image.length-1,this.atlas.frames.push({}),t=-3;else if(t>0)if(t%7===1)null!=a&&(this.atlas.frames[r][a.name]=a),a={name:e[o],frame:{}};else{var c=e[o].split(" ");if(t%7===3)a.frame.x=Number(c[1].replace(",","")),a.frame.y=Number(c[2]);else if(t%7===4)a.frame.w=Number(c[1].replace(",","")),a.frame.h=Number(c[2]);else if(t%7===5){var h={x:0,y:0,w:Number(c[1].replace(",","")),h:Number(c[2])};h.w>a.frame.w||h.h>a.frame.h?(a.trimmed=!0,a.realSize=h):a.trimmed=!1}}t++}if(null!=a&&(this.atlas.frames[r][a.name]=a),this.atlas.meta.image.length>0){for(this.images=[],s=0;s<this.atlas.meta.image.length;s++){var l=this.baseUrl+this.atlas.meta.image[s],f=this.atlas.frames[s];this.images.push(new i.ImageLoader(l,this.crossorigin));for(o in f){var u=f[o].frame;u&&(i.TextureCache[o]=new i.Texture(this.images[s].texture.baseTexture,{x:u.x,y:u.y,width:u.w,height:u.h}),f[o].trimmed&&(i.TextureCache[o].realSize=f[o].realSize,i.TextureCache[o].trim.x=0,i.TextureCache[o].trim.y=0))}}for(this.currentImageId=0,s=0;s<this.images.length;s++)this.images[s].on("loaded",d);this.images[this.currentImageId].load()}else this.onLoaded()}else this.onError()},i.AtlasLoader.prototype.onLoaded=function(){this.images.length-1>this.currentImageId?(this.currentImageId++,this.images[this.currentImageId].load()):(this.loaded=!0,this.emit("loaded",{content:this}))},i.AtlasLoader.prototype.onError=function(){this.emit("error",{content:this})},i.SpriteSheetLoader=function(e,t){this.url=e,this.crossorigin=t,this.baseUrl=e.replace(/[^\/]*$/,""),this.texture=null,this.frames={}},i.SpriteSheetLoader.prototype.constructor=i.SpriteSheetLoader,i.EventTarget.mixin(i.SpriteSheetLoader.prototype),i.SpriteSheetLoader.prototype.load=function(){var e=this,t=new i.JsonLoader(this.url,this.crossorigin);t.on("loaded",function(t){e.json=t.data.content.json,e.onLoaded()}),t.load()},i.SpriteSheetLoader.prototype.onLoaded=function(){this.emit("loaded",{content:this})},i.ImageLoader=function(e,t){this.texture=i.Texture.fromImage(e,t),this.frames=[]},i.ImageLoader.prototype.constructor=i.ImageLoader,i.EventTarget.mixin(i.ImageLoader.prototype),i.ImageLoader.prototype.load=function(){this.texture.baseTexture.hasLoaded?this.onLoaded():this.texture.baseTexture.on("loaded",this.onLoaded.bind(this))},i.ImageLoader.prototype.onLoaded=function(){this.emit("loaded",{content:this})},i.ImageLoader.prototype.loadFramedSpriteSheet=function(e,t,r){this.frames=[];for(var a=Math.floor(this.texture.width/e),n=Math.floor(this.texture.height/t),o=0,s=0;n>s;s++)for(var d=0;a>d;d++,o++){var c=new i.Texture(this.texture.baseTexture,{x:d*e,y:s*t,width:e,height:t});this.frames.push(c),r&&(i.TextureCache[r+"-"+o]=c)}this.load()},i.BitmapFontLoader=function(e,t){this.url=e,this.crossorigin=t,this.baseUrl=e.replace(/[^\/]*$/,""),this.texture=null},i.BitmapFontLoader.prototype.constructor=i.BitmapFontLoader,i.EventTarget.mixin(i.BitmapFontLoader.prototype),i.BitmapFontLoader.prototype.load=function(){this.ajaxRequest=new i.AjaxRequest,this.ajaxRequest.onreadystatechange=this.onXMLLoaded.bind(this),this.ajaxRequest.open("GET",this.url,!0),this.ajaxRequest.overrideMimeType&&this.ajaxRequest.overrideMimeType("application/xml"),this.ajaxRequest.send(null)},i.BitmapFontLoader.prototype.onXMLLoaded=function(){if(4===this.ajaxRequest.readyState&&(200===this.ajaxRequest.status||-1===window.location.protocol.indexOf("http"))){var e=this.ajaxRequest.responseXML;if(!e||/MSIE 9/i.test(navigator.userAgent)||navigator.isCocoonJS)if("function"==typeof window.DOMParser){var t=new DOMParser;e=t.parseFromString(this.ajaxRequest.responseText,"text/xml")}else{var r=document.createElement("div");r.innerHTML=this.ajaxRequest.responseText,e=r}var a=this.baseUrl+e.getElementsByTagName("page")[0].getAttribute("file"),n=new i.ImageLoader(a,this.crossorigin);this.texture=n.texture.baseTexture;var o={},s=e.getElementsByTagName("info")[0],d=e.getElementsByTagName("common")[0];o.font=s.getAttribute("face"),o.size=parseInt(s.getAttribute("size"),10),o.lineHeight=parseInt(d.getAttribute("lineHeight"),10),o.chars={};for(var c=e.getElementsByTagName("char"),h=0;h<c.length;h++){var l=parseInt(c[h].getAttribute("id"),10),f=new i.Rectangle(parseInt(c[h].getAttribute("x"),10),parseInt(c[h].getAttribute("y"),10),parseInt(c[h].getAttribute("width"),10),parseInt(c[h].getAttribute("height"),10));o.chars[l]={xOffset:parseInt(c[h].getAttribute("xoffset"),10),yOffset:parseInt(c[h].getAttribute("yoffset"),10),xAdvance:parseInt(c[h].getAttribute("xadvance"),10),kerning:{},texture:i.TextureCache[l]=new i.Texture(this.texture,f)}}var u=e.getElementsByTagName("kerning");for(h=0;h<u.length;h++){var p=parseInt(u[h].getAttribute("first"),10),b=parseInt(u[h].getAttribute("second"),10),y=parseInt(u[h].getAttribute("amount"),10);o.chars[b].kerning[p]=y}i.BitmapText.fonts[o.font]=o,n.addEventListener("loaded",this.onLoaded.bind(this)),n.load()}},i.BitmapFontLoader.prototype.onLoaded=function(){this.emit("loaded",{content:this})},i.SpineLoader=function(e,t){this.url=e,this.crossorigin=t,this.loaded=!1},i.SpineLoader.prototype.constructor=i.SpineLoader,i.EventTarget.mixin(i.SpineLoader.prototype),i.SpineLoader.prototype.load=function(){var e=this,t=new i.JsonLoader(this.url,this.crossorigin);t.on("loaded",function(t){e.json=t.data.content.json,e.onLoaded()}),t.load()},i.SpineLoader.prototype.onLoaded=function(){this.loaded=!0,this.emit("loaded",{content:this})},i.AbstractFilter=function(e,t){this.passes=[this],this.shaders=[],this.dirty=!0,this.padding=0,this.uniforms=t||{},this.fragmentSrc=e||[]},i.AbstractFilter.prototype.constructor=i.AbstractFilter,i.AbstractFilter.prototype.syncUniforms=function(){for(var e=0,t=this.shaders.length;t>e;e++)this.shaders[e].dirty=!0},i.AlphaMaskFilter=function(e){i.AbstractFilter.call(this),this.passes=[this],e.baseTexture._powerOf2=!0,this.uniforms={mask:{type:"sampler2D",value:e},mapDimensions:{type:"2f",value:{x:1,y:5112}},dimensions:{type:"4fv",value:[0,0,0,0]}},e.baseTexture.hasLoaded?(this.uniforms.mask.value.x=e.width,this.uniforms.mask.value.y=e.height):(this.boundLoadedFunction=this.onTextureLoaded.bind(this),e.baseTexture.on("loaded",this.boundLoadedFunction)),this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D mask;","uniform sampler2D uSampler;","uniform vec2 offset;","uniform vec4 dimensions;","uniform vec2 mapDimensions;","void main(void) {","   vec2 mapCords = vTextureCoord.xy;","   mapCords += (dimensions.zw + offset)/ dimensions.xy ;","   mapCords.y *= -1.0;","   mapCords.y += 1.0;","   mapCords *= dimensions.xy / mapDimensions;","   vec4 original =  texture2D(uSampler, vTextureCoord);","   float maskAlpha =  texture2D(mask, mapCords).r;","   original *= maskAlpha;","   gl_FragColor =  original;","}"]},i.AlphaMaskFilter.prototype=Object.create(i.AbstractFilter.prototype),i.AlphaMaskFilter.prototype.constructor=i.AlphaMaskFilter,i.AlphaMaskFilter.prototype.onTextureLoaded=function(){this.uniforms.mapDimensions.value.x=this.uniforms.mask.value.width,this.uniforms.mapDimensions.value.y=this.uniforms.mask.value.height,this.uniforms.mask.value.baseTexture.off("loaded",this.boundLoadedFunction)},Object.defineProperty(i.AlphaMaskFilter.prototype,"map",{get:function(){return this.uniforms.mask.value},set:function(e){this.uniforms.mask.value=e}}),i.ColorMatrixFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={matrix:{type:"mat4",value:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float invert;","uniform mat4 matrix;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * matrix;","}"]},i.ColorMatrixFilter.prototype=Object.create(i.AbstractFilter.prototype),i.ColorMatrixFilter.prototype.constructor=i.ColorMatrixFilter,Object.defineProperty(i.ColorMatrixFilter.prototype,"matrix",{get:function(){return this.uniforms.matrix.value},set:function(e){this.uniforms.matrix.value=e}}),i.GrayFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={gray:{type:"1f",value:1}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform float gray;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","   gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126*gl_FragColor.r + 0.7152*gl_FragColor.g + 0.0722*gl_FragColor.b), gray);","}"]},i.GrayFilter.prototype=Object.create(i.AbstractFilter.prototype),i.GrayFilter.prototype.constructor=i.GrayFilter,Object.defineProperty(i.GrayFilter.prototype,"gray",{get:function(){return this.uniforms.gray.value},set:function(e){this.uniforms.gray.value=e}}),i.DisplacementFilter=function(e){i.AbstractFilter.call(this),this.passes=[this],e.baseTexture._powerOf2=!0,this.uniforms={displacementMap:{type:"sampler2D",value:e},scale:{type:"2f",value:{x:30,y:30}},offset:{type:"2f",value:{x:0,y:0}},mapDimensions:{type:"2f",value:{x:1,y:5112}},dimensions:{type:"4fv",value:[0,0,0,0]}},e.baseTexture.hasLoaded?(this.uniforms.mapDimensions.value.x=e.width,this.uniforms.mapDimensions.value.y=e.height):(this.boundLoadedFunction=this.onTextureLoaded.bind(this),e.baseTexture.on("loaded",this.boundLoadedFunction)),this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D displacementMap;","uniform sampler2D uSampler;","uniform vec2 scale;","uniform vec2 offset;","uniform vec4 dimensions;","uniform vec2 mapDimensions;","void main(void) {","   vec2 mapCords = vTextureCoord.xy;","   mapCords += (dimensions.zw + offset)/ dimensions.xy ;","   mapCords.y *= -1.0;","   mapCords.y += 1.0;","   vec2 matSample = texture2D(displacementMap, mapCords).xy;","   matSample -= 0.5;","   matSample *= scale;","   matSample /= mapDimensions;","   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x + matSample.x, vTextureCoord.y + matSample.y));","   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb, 1.0);","   vec2 cord = vTextureCoord;","}"]},i.DisplacementFilter.prototype=Object.create(i.AbstractFilter.prototype),i.DisplacementFilter.prototype.constructor=i.DisplacementFilter,i.DisplacementFilter.prototype.onTextureLoaded=function(){this.uniforms.mapDimensions.value.x=this.uniforms.displacementMap.value.width,this.uniforms.mapDimensions.value.y=this.uniforms.displacementMap.value.height,this.uniforms.displacementMap.value.baseTexture.off("loaded",this.boundLoadedFunction)},Object.defineProperty(i.DisplacementFilter.prototype,"map",{get:function(){return this.uniforms.displacementMap.value},set:function(e){this.uniforms.displacementMap.value=e}}),Object.defineProperty(i.DisplacementFilter.prototype,"scale",{get:function(){return this.uniforms.scale.value},set:function(e){this.uniforms.scale.value=e}}),Object.defineProperty(i.DisplacementFilter.prototype,"offset",{get:function(){return this.uniforms.offset.value},set:function(e){this.uniforms.offset.value=e}}),i.PixelateFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={invert:{type:"1f",value:0},dimensions:{type:"4fv",value:new i.Float32Array([1e4,100,10,10])},pixelSize:{type:"2f",value:{x:10,y:10}}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform vec2 testDim;","uniform vec4 dimensions;","uniform vec2 pixelSize;","uniform sampler2D uSampler;","void main(void) {","   vec2 coord = vTextureCoord;","   vec2 size = dimensions.xy/pixelSize;","   vec2 color = floor( ( vTextureCoord * size ) ) / size + pixelSize/dimensions.xy * 0.5;","   gl_FragColor = texture2D(uSampler, color);","}"]},i.PixelateFilter.prototype=Object.create(i.AbstractFilter.prototype),i.PixelateFilter.prototype.constructor=i.PixelateFilter,Object.defineProperty(i.PixelateFilter.prototype,"size",{get:function(){return this.uniforms.pixelSize.value},set:function(e){this.dirty=!0,this.uniforms.pixelSize.value=e}}),i.BlurXFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={blur:{type:"1f",value:1/512}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float blur;","uniform sampler2D uSampler;","void main(void) {","   vec4 sum = vec4(0.0);","   sum += texture2D(uSampler, vec2(vTextureCoord.x - 4.0*blur, vTextureCoord.y)) * 0.05;","   sum += texture2D(uSampler, vec2(vTextureCoord.x - 3.0*blur, vTextureCoord.y)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x - 2.0*blur, vTextureCoord.y)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x - blur, vTextureCoord.y)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * 0.16;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + blur, vTextureCoord.y)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + 2.0*blur, vTextureCoord.y)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + 3.0*blur, vTextureCoord.y)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + 4.0*blur, vTextureCoord.y)) * 0.05;","   gl_FragColor = sum;","}"]},i.BlurXFilter.prototype=Object.create(i.AbstractFilter.prototype),i.BlurXFilter.prototype.constructor=i.BlurXFilter,Object.defineProperty(i.BlurXFilter.prototype,"blur",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(e){this.dirty=!0,this.uniforms.blur.value=1/7e3*e}}),i.BlurYFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={blur:{type:"1f",value:1/512}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float blur;","uniform sampler2D uSampler;","void main(void) {","   vec4 sum = vec4(0.0);","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 4.0*blur)) * 0.05;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 3.0*blur)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 2.0*blur)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - blur)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * 0.16;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + blur)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 2.0*blur)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 3.0*blur)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 4.0*blur)) * 0.05;","   gl_FragColor = sum;","}"]},i.BlurYFilter.prototype=Object.create(i.AbstractFilter.prototype),i.BlurYFilter.prototype.constructor=i.BlurYFilter,Object.defineProperty(i.BlurYFilter.prototype,"blur",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(e){this.uniforms.blur.value=1/7e3*e}}),i.BlurFilter=function(){this.blurXFilter=new i.BlurXFilter,this.blurYFilter=new i.BlurYFilter,this.passes=[this.blurXFilter,this.blurYFilter]},i.BlurFilter.prototype=Object.create(i.AbstractFilter.prototype),i.BlurFilter.prototype.constructor=i.BlurFilter,Object.defineProperty(i.BlurFilter.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e}}),Object.defineProperty(i.BlurFilter.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e}}),Object.defineProperty(i.BlurFilter.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e}}),i.InvertFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={invert:{type:"1f",value:1}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float invert;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","   gl_FragColor.rgb = mix( (vec3(1)-gl_FragColor.rgb) * gl_FragColor.a, gl_FragColor.rgb, 1.0 - invert);","}"]},i.InvertFilter.prototype=Object.create(i.AbstractFilter.prototype),i.InvertFilter.prototype.constructor=i.InvertFilter,Object.defineProperty(i.InvertFilter.prototype,"invert",{get:function(){return this.uniforms.invert.value},set:function(e){this.uniforms.invert.value=e}}),i.SepiaFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={sepia:{type:"1f",value:1}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float sepia;","uniform sampler2D uSampler;","const mat3 sepiaMatrix = mat3(0.3588, 0.7044, 0.1368, 0.2990, 0.5870, 0.1140, 0.2392, 0.4696, 0.0912);","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb * sepiaMatrix, sepia);","}"]},i.SepiaFilter.prototype=Object.create(i.AbstractFilter.prototype),i.SepiaFilter.prototype.constructor=i.SepiaFilter,Object.defineProperty(i.SepiaFilter.prototype,"sepia",{get:function(){return this.uniforms.sepia.value},set:function(e){this.uniforms.sepia.value=e}}),i.TwistFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={radius:{type:"1f",value:.5},angle:{type:"1f",value:5},offset:{type:"2f",value:{x:.5,y:.5}}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform vec4 dimensions;","uniform sampler2D uSampler;","uniform float radius;","uniform float angle;","uniform vec2 offset;","void main(void) {","   vec2 coord = vTextureCoord - offset;","   float distance = length(coord);","   if (distance < radius) {","       float ratio = (radius - distance) / radius;","       float angleMod = ratio * ratio * angle;","       float s = sin(angleMod);","       float c = cos(angleMod);","       coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);","   }","   gl_FragColor = texture2D(uSampler, coord+offset);","}"]},i.TwistFilter.prototype=Object.create(i.AbstractFilter.prototype),i.TwistFilter.prototype.constructor=i.TwistFilter,Object.defineProperty(i.TwistFilter.prototype,"offset",{get:function(){return this.uniforms.offset.value},set:function(e){this.dirty=!0,this.uniforms.offset.value=e}}),Object.defineProperty(i.TwistFilter.prototype,"radius",{get:function(){return this.uniforms.radius.value},set:function(e){this.dirty=!0,this.uniforms.radius.value=e}}),Object.defineProperty(i.TwistFilter.prototype,"angle",{get:function(){return this.uniforms.angle.value},set:function(e){this.dirty=!0,this.uniforms.angle.value=e}}),i.ColorStepFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={step:{type:"1f",value:5}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform float step;","void main(void) {","   vec4 color = texture2D(uSampler, vTextureCoord);","   color = floor(color * step) / step;","   gl_FragColor = color;","}"]},i.ColorStepFilter.prototype=Object.create(i.AbstractFilter.prototype),i.ColorStepFilter.prototype.constructor=i.ColorStepFilter,Object.defineProperty(i.ColorStepFilter.prototype,"step",{get:function(){return this.uniforms.step.value},set:function(e){this.uniforms.step.value=e}}),i.DotScreenFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={scale:{type:"1f",value:1},angle:{type:"1f",value:5},dimensions:{type:"4fv",value:[0,0,0,0]}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform vec4 dimensions;","uniform sampler2D uSampler;","uniform float angle;","uniform float scale;","float pattern() {","   float s = sin(angle), c = cos(angle);","   vec2 tex = vTextureCoord * dimensions.xy;","   vec2 point = vec2(","       c * tex.x - s * tex.y,","       s * tex.x + c * tex.y","   ) * scale;","   return (sin(point.x) * sin(point.y)) * 4.0;","}","void main() {","   vec4 color = texture2D(uSampler, vTextureCoord);","   float average = (color.r + color.g + color.b) / 3.0;","   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);","}"]},i.DotScreenFilter.prototype=Object.create(i.AbstractFilter.prototype),i.DotScreenFilter.prototype.constructor=i.DotScreenFilter,Object.defineProperty(i.DotScreenFilter.prototype,"scale",{get:function(){return this.uniforms.scale.value},set:function(e){this.dirty=!0,this.uniforms.scale.value=e}}),Object.defineProperty(i.DotScreenFilter.prototype,"angle",{get:function(){return this.uniforms.angle.value},set:function(e){this.dirty=!0,this.uniforms.angle.value=e}}),i.CrossHatchFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={blur:{type:"1f",value:1/512}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float blur;","uniform sampler2D uSampler;","void main(void) {","    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);","    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);","    if (lum < 1.00) {","        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","    if (lum < 0.75) {","        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","    if (lum < 0.50) {","        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","    if (lum < 0.3) {","        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","}"]},i.CrossHatchFilter.prototype=Object.create(i.AbstractFilter.prototype),i.CrossHatchFilter.prototype.constructor=i.CrossHatchFilter,Object.defineProperty(i.CrossHatchFilter.prototype,"blur",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(e){this.uniforms.blur.value=1/7e3*e}}),i.RGBSplitFilter=function(){i.AbstractFilter.call(this),this.passes=[this],this.uniforms={red:{type:"2f",value:{x:20,y:20}},green:{type:"2f",value:{x:-20,y:20}},blue:{type:"2f",value:{x:20,y:-20}},dimensions:{type:"4fv",value:[0,0,0,0]}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform vec2 red;","uniform vec2 green;","uniform vec2 blue;","uniform vec4 dimensions;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/dimensions.xy).r;","   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/dimensions.xy).g;","   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/dimensions.xy).b;","   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;","}"]},i.RGBSplitFilter.prototype=Object.create(i.AbstractFilter.prototype),i.RGBSplitFilter.prototype.constructor=i.RGBSplitFilter,Object.defineProperty(i.RGBSplitFilter.prototype,"red",{get:function(){return this.uniforms.red.value},set:function(e){this.uniforms.red.value=e}}),Object.defineProperty(i.RGBSplitFilter.prototype,"green",{get:function(){return this.uniforms.green.value},set:function(e){this.uniforms.green.value=e}}),Object.defineProperty(i.RGBSplitFilter.prototype,"blue",{get:function(){return this.uniforms.blue.value},set:function(e){this.uniforms.blue.value=e}}),"undefined"!=typeof r?("undefined"!=typeof t&&t.exports&&(r=t.exports=i),r.PIXI=i):"undefined"!=typeof define&&define.amd?define(i):e.PIXI=i}).call(this)},{}]},{},[167]);